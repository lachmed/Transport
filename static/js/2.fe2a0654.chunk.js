/*! For license information please see 2.fe2a0654.chunk.js.LICENSE.txt */
(this.webpackJsonptest=this.webpackJsonptest||[]).push([[2],[function(t,e,n){"use strict";t.exports=n(32)},function(t,e,n){"use strict";n.d(e,"a",(function(){return b})),n.d(e,"b",(function(){return v})),n.d(e,"c",(function(){return S})),n.d(e,"d",(function(){return d})),n.d(e,"e",(function(){return m}));var r=n(3),i=n(0),o=n.n(i),a=(n(15),n(5)),s=n(19),u=n(4),c=n(2),l=n(20),h=n.n(l),f=(n(24),n(12)),p=(n(30),function(t){var e=Object(s.a)();return e.displayName=t,e}("Router-History")),d=function(t){var e=Object(s.a)();return e.displayName=t,e}("Router"),v=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={location:e.history.location},n._isMounted=!1,n._pendingLocation=null,e.staticContext||(n.unlisten=e.history.listen((function(t){n._isMounted?n.setState({location:t}):n._pendingLocation=t}))),n}Object(r.a)(e,t),e.computeRootMatch=function(t){return{path:"/",url:"/",params:{},isExact:"/"===t}};var n=e.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return o.a.createElement(d.Provider,{value:{history:this.props.history,location:this.state.location,match:e.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},o.a.createElement(p.Provider,{children:this.props.children||null,value:this.props.history}))},e}(o.a.Component);o.a.Component;o.a.Component;var y={},g=0;function m(t,e){void 0===e&&(e={}),("string"===typeof e||Array.isArray(e))&&(e={path:e});var n=e,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,s=void 0!==a&&a,u=n.sensitive,c=void 0!==u&&u;return[].concat(r).reduce((function(e,n){if(!n&&""!==n)return null;if(e)return e;var r=function(t,e){var n=""+e.end+e.strict+e.sensitive,r=y[n]||(y[n]={});if(r[t])return r[t];var i=[],o={regexp:h()(t,i,e),keys:i};return g<1e4&&(r[t]=o,g++),o}(n,{end:o,strict:s,sensitive:c}),i=r.regexp,a=r.keys,u=i.exec(t);if(!u)return null;var l=u[0],f=u.slice(1),p=t===l;return o&&!p?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:p,params:a.reduce((function(t,e,n){return t[e.name]=f[n],t}),{})}}),null)}var b=function(t){function e(){return t.apply(this,arguments)||this}return Object(r.a)(e,t),e.prototype.render=function(){var t=this;return o.a.createElement(d.Consumer,null,(function(e){e||Object(u.a)(!1);var n=t.props.location||e.location,r=t.props.computedMatch?t.props.computedMatch:t.props.path?m(n.pathname,t.props):e.match,i=Object(c.a)({},e,{location:n,match:r}),a=t.props,s=a.children,l=a.component,h=a.render;return Array.isArray(s)&&0===s.length&&(s=null),o.a.createElement(d.Provider,{value:i},i.match?s?"function"===typeof s?s(i):s:l?o.a.createElement(l,i):h?h(i):null:"function"===typeof s?s(i):null)}))},e}(o.a.Component);function w(t){return"/"===t.charAt(0)?t:"/"+t}function _(t,e){if(!t)return e;var n=w(t);return 0!==e.pathname.indexOf(n)?e:Object(c.a)({},e,{pathname:e.pathname.substr(n.length)})}function E(t){return"string"===typeof t?t:Object(a.e)(t)}function I(t){return function(){Object(u.a)(!1)}}function T(){}o.a.Component;var S=function(t){function e(){return t.apply(this,arguments)||this}return Object(r.a)(e,t),e.prototype.render=function(){var t=this;return o.a.createElement(d.Consumer,null,(function(e){e||Object(u.a)(!1);var n,r,i=t.props.location||e.location;return o.a.Children.forEach(t.props.children,(function(t){if(null==r&&o.a.isValidElement(t)){n=t;var a=t.props.path||t.props.from;r=a?m(i.pathname,Object(c.a)({},t.props,{path:a})):e.match}})),r?o.a.cloneElement(n,{location:i,computedMatch:r}):null}))},e}(o.a.Component);o.a.useContext},function(t,e,n){"use strict";function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";e.a=function(t,e){if(!t)throw new Error("Invariant failed")}},function(t,e,n){"use strict";n.d(e,"a",(function(){return _})),n.d(e,"b",(function(){return C})),n.d(e,"d",(function(){return k})),n.d(e,"c",(function(){return v})),n.d(e,"f",(function(){return y})),n.d(e,"e",(function(){return d}));var r=n(2);function i(t){return"/"===t.charAt(0)}function o(t,e){for(var n=e,r=n+1,i=t.length;r<i;n+=1,r+=1)t[n]=t[r];t.pop()}var a=function(t,e){void 0===e&&(e="");var n,r=t&&t.split("/")||[],a=e&&e.split("/")||[],s=t&&i(t),u=e&&i(e),c=s||u;if(t&&i(t)?a=r:r.length&&(a.pop(),a=a.concat(r)),!a.length)return"/";if(a.length){var l=a[a.length-1];n="."===l||".."===l||""===l}else n=!1;for(var h=0,f=a.length;f>=0;f--){var p=a[f];"."===p?o(a,f):".."===p?(o(a,f),h++):h&&(o(a,f),h--)}if(!c)for(;h--;h)a.unshift("..");!c||""===a[0]||a[0]&&i(a[0])||a.unshift("");var d=a.join("/");return n&&"/"!==d.substr(-1)&&(d+="/"),d};function s(t){return t.valueOf?t.valueOf():Object.prototype.valueOf.call(t)}var u=function t(e,n){if(e===n)return!0;if(null==e||null==n)return!1;if(Array.isArray(e))return Array.isArray(n)&&e.length===n.length&&e.every((function(e,r){return t(e,n[r])}));if("object"===typeof e||"object"===typeof n){var r=s(e),i=s(n);return r!==e||i!==n?t(r,i):Object.keys(Object.assign({},e,n)).every((function(r){return t(e[r],n[r])}))}return!1},c=n(4);function l(t){return"/"===t.charAt(0)?t:"/"+t}function h(t){return"/"===t.charAt(0)?t.substr(1):t}function f(t,e){return function(t,e){return 0===t.toLowerCase().indexOf(e.toLowerCase())&&-1!=="/?#".indexOf(t.charAt(e.length))}(t,e)?t.substr(e.length):t}function p(t){return"/"===t.charAt(t.length-1)?t.slice(0,-1):t}function d(t){var e=t.pathname,n=t.search,r=t.hash,i=e||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function v(t,e,n,i){var o;"string"===typeof t?(o=function(t){var e=t||"/",n="",r="",i=e.indexOf("#");-1!==i&&(r=e.substr(i),e=e.substr(0,i));var o=e.indexOf("?");return-1!==o&&(n=e.substr(o),e=e.substr(0,o)),{pathname:e,search:"?"===n?"":n,hash:"#"===r?"":r}}(t)).state=e:(void 0===(o=Object(r.a)({},t)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==e&&void 0===o.state&&(o.state=e));try{o.pathname=decodeURI(o.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return n&&(o.key=n),i?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=a(o.pathname,i.pathname)):o.pathname=i.pathname:o.pathname||(o.pathname="/"),o}function y(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash===e.hash&&t.key===e.key&&u(t.state,e.state)}function g(){var t=null;var e=[];return{setPrompt:function(e){return t=e,function(){t===e&&(t=null)}},confirmTransitionTo:function(e,n,r,i){if(null!=t){var o="function"===typeof t?t(e,n):t;"string"===typeof o?"function"===typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(t){var n=!0;function r(){n&&t.apply(void 0,arguments)}return e.push(r),function(){n=!1,e=e.filter((function(t){return t!==r}))}},notifyListeners:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.forEach((function(t){return t.apply(void 0,n)}))}}}var m=!("undefined"===typeof window||!window.document||!window.document.createElement);function b(t,e){e(window.confirm(t))}function w(){try{return window.history.state||{}}catch(t){return{}}}function _(t){void 0===t&&(t={}),m||Object(c.a)(!1);var e=window.history,n=function(){var t=window.navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)}(),i=!(-1===window.navigator.userAgent.indexOf("Trident")),o=t,a=o.forceRefresh,s=void 0!==a&&a,u=o.getUserConfirmation,h=void 0===u?b:u,y=o.keyLength,_=void 0===y?6:y,E=t.basename?p(l(t.basename)):"";function I(t){var e=t||{},n=e.key,r=e.state,i=window.location,o=i.pathname+i.search+i.hash;return E&&(o=f(o,E)),v(o,r,n)}function T(){return Math.random().toString(36).substr(2,_)}var S=g();function C(t){Object(r.a)(U,t),U.length=e.length,S.notifyListeners(U.location,U.action)}function A(t){(function(t){return void 0===t.state&&-1===navigator.userAgent.indexOf("CriOS")})(t)||O(I(t.state))}function k(){O(I(w()))}var N=!1;function O(t){if(N)N=!1,C();else{S.confirmTransitionTo(t,"POP",h,(function(e){e?C({action:"POP",location:t}):function(t){var e=U.location,n=P.indexOf(e.key);-1===n&&(n=0);var r=P.indexOf(t.key);-1===r&&(r=0);var i=n-r;i&&(N=!0,D(i))}(t)}))}}var x=I(w()),P=[x.key];function R(t){return E+d(t)}function D(t){e.go(t)}var L=0;function M(t){1===(L+=t)&&1===t?(window.addEventListener("popstate",A),i&&window.addEventListener("hashchange",k)):0===L&&(window.removeEventListener("popstate",A),i&&window.removeEventListener("hashchange",k))}var F=!1;var U={length:e.length,action:"POP",location:x,createHref:R,push:function(t,r){var i=v(t,r,T(),U.location);S.confirmTransitionTo(i,"PUSH",h,(function(t){if(t){var r=R(i),o=i.key,a=i.state;if(n)if(e.pushState({key:o,state:a},null,r),s)window.location.href=r;else{var u=P.indexOf(U.location.key),c=P.slice(0,u+1);c.push(i.key),P=c,C({action:"PUSH",location:i})}else window.location.href=r}}))},replace:function(t,r){var i=v(t,r,T(),U.location);S.confirmTransitionTo(i,"REPLACE",h,(function(t){if(t){var r=R(i),o=i.key,a=i.state;if(n)if(e.replaceState({key:o,state:a},null,r),s)window.location.replace(r);else{var u=P.indexOf(U.location.key);-1!==u&&(P[u]=i.key),C({action:"REPLACE",location:i})}else window.location.replace(r)}}))},go:D,goBack:function(){D(-1)},goForward:function(){D(1)},block:function(t){void 0===t&&(t=!1);var e=S.setPrompt(t);return F||(M(1),F=!0),function(){return F&&(F=!1,M(-1)),e()}},listen:function(t){var e=S.appendListener(t);return M(1),function(){M(-1),e()}}};return U}var E={hashbang:{encodePath:function(t){return"!"===t.charAt(0)?t:"!/"+h(t)},decodePath:function(t){return"!"===t.charAt(0)?t.substr(1):t}},noslash:{encodePath:h,decodePath:l},slash:{encodePath:l,decodePath:l}};function I(t){var e=t.indexOf("#");return-1===e?t:t.slice(0,e)}function T(){var t=window.location.href,e=t.indexOf("#");return-1===e?"":t.substring(e+1)}function S(t){window.location.replace(I(window.location.href)+"#"+t)}function C(t){void 0===t&&(t={}),m||Object(c.a)(!1);var e=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),t),i=n.getUserConfirmation,o=void 0===i?b:i,a=n.hashType,s=void 0===a?"slash":a,u=t.basename?p(l(t.basename)):"",h=E[s],y=h.encodePath,w=h.decodePath;function _(){var t=w(T());return u&&(t=f(t,u)),v(t)}var C=g();function A(t){Object(r.a)(j,t),j.length=e.length,C.notifyListeners(j.location,j.action)}var k=!1,N=null;function O(){var t,e,n=T(),r=y(n);if(n!==r)S(r);else{var i=_(),a=j.location;if(!k&&(e=i,(t=a).pathname===e.pathname&&t.search===e.search&&t.hash===e.hash))return;if(N===d(i))return;N=null,function(t){if(k)k=!1,A();else{C.confirmTransitionTo(t,"POP",o,(function(e){e?A({action:"POP",location:t}):function(t){var e=j.location,n=D.lastIndexOf(d(e));-1===n&&(n=0);var r=D.lastIndexOf(d(t));-1===r&&(r=0);var i=n-r;i&&(k=!0,L(i))}(t)}))}}(i)}}var x=T(),P=y(x);x!==P&&S(P);var R=_(),D=[d(R)];function L(t){e.go(t)}var M=0;function F(t){1===(M+=t)&&1===t?window.addEventListener("hashchange",O):0===M&&window.removeEventListener("hashchange",O)}var U=!1;var j={length:e.length,action:"POP",location:R,createHref:function(t){var e=document.querySelector("base"),n="";return e&&e.getAttribute("href")&&(n=I(window.location.href)),n+"#"+y(u+d(t))},push:function(t,e){var n=v(t,void 0,void 0,j.location);C.confirmTransitionTo(n,"PUSH",o,(function(t){if(t){var e=d(n),r=y(u+e);if(T()!==r){N=e,function(t){window.location.hash=t}(r);var i=D.lastIndexOf(d(j.location)),o=D.slice(0,i+1);o.push(e),D=o,A({action:"PUSH",location:n})}else A()}}))},replace:function(t,e){var n=v(t,void 0,void 0,j.location);C.confirmTransitionTo(n,"REPLACE",o,(function(t){if(t){var e=d(n),r=y(u+e);T()!==r&&(N=e,S(r));var i=D.indexOf(d(j.location));-1!==i&&(D[i]=e),A({action:"REPLACE",location:n})}}))},go:L,goBack:function(){L(-1)},goForward:function(){L(1)},block:function(t){void 0===t&&(t=!1);var e=C.setPrompt(t);return U||(F(1),U=!0),function(){return U&&(U=!1,F(-1)),e()}},listen:function(t){var e=C.appendListener(t);return F(1),function(){F(-1),e()}}};return j}function A(t,e,n){return Math.min(Math.max(t,e),n)}function k(t){void 0===t&&(t={});var e=t,n=e.getUserConfirmation,i=e.initialEntries,o=void 0===i?["/"]:i,a=e.initialIndex,s=void 0===a?0:a,u=e.keyLength,c=void 0===u?6:u,l=g();function h(t){Object(r.a)(w,t),w.length=w.entries.length,l.notifyListeners(w.location,w.action)}function f(){return Math.random().toString(36).substr(2,c)}var p=A(s,0,o.length-1),y=o.map((function(t){return v(t,void 0,"string"===typeof t?f():t.key||f())})),m=d;function b(t){var e=A(w.index+t,0,w.entries.length-1),r=w.entries[e];l.confirmTransitionTo(r,"POP",n,(function(t){t?h({action:"POP",location:r,index:e}):h()}))}var w={length:y.length,action:"POP",location:y[p],index:p,entries:y,createHref:m,push:function(t,e){var r=v(t,e,f(),w.location);l.confirmTransitionTo(r,"PUSH",n,(function(t){if(t){var e=w.index+1,n=w.entries.slice(0);n.length>e?n.splice(e,n.length-e,r):n.push(r),h({action:"PUSH",location:r,index:e,entries:n})}}))},replace:function(t,e){var r=v(t,e,f(),w.location);l.confirmTransitionTo(r,"REPLACE",n,(function(t){t&&(w.entries[w.index]=r,h({action:"REPLACE",location:r}))}))},go:b,goBack:function(){b(-1)},goForward:function(){b(1)},canGo:function(t){var e=w.index+t;return e>=0&&e<w.entries.length},block:function(t){return void 0===t&&(t=!1),l.setPrompt(t)},listen:function(t){return l.appendListener(t)}};return w}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function i(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function o(t){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){return!e||"object"!==o(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return function(){var e,n=r(t);if(i()){var o=r(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return a(this,e)}}n.d(e,"a",(function(){return s}))},function(t,e,n){"use strict";function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return h})),n.d(e,"b",(function(){return g}));var r=n(1),i=n(3),o=n(0),a=n.n(o),s=n(5),u=(n(15),n(2)),c=n(12),l=n(4),h=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).history=Object(s.a)(e.props),e}return Object(i.a)(e,t),e.prototype.render=function(){return a.a.createElement(r.b,{history:this.history,children:this.props.children})},e}(a.a.Component);a.a.Component;var f=function(t,e){return"function"===typeof t?t(e):t},p=function(t,e){return"string"===typeof t?Object(s.c)(t,null,null,e):t},d=function(t){return t},v=a.a.forwardRef;"undefined"===typeof v&&(v=d);var y=v((function(t,e){var n=t.innerRef,r=t.navigate,i=t.onClick,o=Object(c.a)(t,["innerRef","navigate","onClick"]),s=o.target,l=Object(u.a)({},o,{onClick:function(t){try{i&&i(t)}catch(e){throw t.preventDefault(),e}t.defaultPrevented||0!==t.button||s&&"_self"!==s||function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(t)||(t.preventDefault(),r())}});return l.ref=d!==v&&e||n,a.a.createElement("a",l)}));var g=v((function(t,e){var n=t.component,i=void 0===n?y:n,o=t.replace,s=t.to,h=t.innerRef,g=Object(c.a)(t,["component","replace","to","innerRef"]);return a.a.createElement(r.d.Consumer,null,(function(t){t||Object(l.a)(!1);var n=t.history,r=p(f(s,t.location),t.location),c=r?n.createHref(r):"",y=Object(u.a)({},g,{href:c,navigate:function(){var e=f(s,t.location);(o?n.replace:n.push)(e)}});return d!==v?y.ref=e||h:y.innerRef=h,a.a.createElement(i,y)}))})),m=function(t){return t},b=a.a.forwardRef;"undefined"===typeof b&&(b=m);b((function(t,e){var n=t["aria-current"],i=void 0===n?"page":n,o=t.activeClassName,s=void 0===o?"active":o,h=t.activeStyle,d=t.className,v=t.exact,y=t.isActive,w=t.location,_=t.sensitive,E=t.strict,I=t.style,T=t.to,S=t.innerRef,C=Object(c.a)(t,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return a.a.createElement(r.d.Consumer,null,(function(t){t||Object(l.a)(!1);var n=w||t.location,o=p(f(T,n),n),c=o.pathname,A=c&&c.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),k=A?Object(r.e)(n.pathname,{path:A,exact:v,sensitive:_,strict:E}):null,N=!!(y?y(k,n):k),O=N?function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter((function(t){return t})).join(" ")}(d,s):d,x=N?Object(u.a)({},I,{},h):I,P=Object(u.a)({"aria-current":N&&i||null,className:O,style:x,to:o},C);return m!==b?P.ref=e||S:P.innerRef=S,a.a.createElement(g,P)}))}))},function(t,e,n){"use strict";function r(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}n.d(e,"a",(function(){return r}))},function(t,e,n){(function(e,n){t.exports=function(){"use strict";function t(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function r(t){return"string"!=typeof t&&(t=String(t)),t}function i(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return y&&(e[Symbol.iterator]=function(){return e}),e}function o(t){this.map={},t instanceof o?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function a(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function s(t){return new Promise((function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function u(t){var e=new FileReader,n=s(e);return e.readAsArrayBuffer(t),n}function c(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function l(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t)if("string"==typeof t)this._bodyText=t;else if(g&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(m&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(v&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(b&&g&&_(t))this._bodyArrayBuffer=c(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!b||!ArrayBuffer.prototype.isPrototypeOf(t)&&!E(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=c(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):v&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},g&&(this.blob=function(){var t=a(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?a(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(u)}),this.text=function(){var t,e,n,r=a(this);if(r)return r;if(this._bodyBlob)return t=this._bodyBlob,n=s(e=new FileReader),e.readAsText(t),n;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},m&&(this.formData=function(){return this.text().then(f)}),this.json=function(){return this.text().then(JSON.parse)},this}function h(t,e){var n,r,i=(e=e||{}).body;if(t instanceof h){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new o(t.headers)),this.method=t.method,this.mode=t.mode,i||null==t._bodyInit||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new o(e.headers)),this.method=(r=(n=e.method||this.method||"GET").toUpperCase(),-1<I.indexOf(r)?r:n),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function f(t){var e=new FormData;return t.trim().split("&").forEach((function(t){var n,r,i;t&&(r=(n=t.split("=")).shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," "),e.append(decodeURIComponent(r),decodeURIComponent(i)))})),e}function p(t,e){e=e||{},this.type="default",this.status=void 0===e.status?200:e.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new o(e.headers),this.url=e.url||"",this._initBody(t)}var d,v,y,g,m,b,w,_,E,I,T;(d="undefined"!=typeof self?self:void 0).fetch||(v="URLSearchParams"in d,y="Symbol"in d&&"iterator"in Symbol,g="FileReader"in d&&"Blob"in d&&function(){try{return new Blob,!0}catch(i){return!1}}(),m="FormData"in d,(b="ArrayBuffer"in d)&&(w=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],_=function(t){return t&&DataView.prototype.isPrototypeOf(t)},E=ArrayBuffer.isView||function(t){return t&&-1<w.indexOf(Object.prototype.toString.call(t))}),o.prototype.append=function(e,n){e=t(e),n=r(n);var i=this.map[e];this.map[e]=i?i+","+n:n},o.prototype.delete=function(e){delete this.map[t(e)]},o.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},o.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},o.prototype.set=function(e,n){this.map[t(e)]=r(n)},o.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},o.prototype.keys=function(){var t=[];return this.forEach((function(e,n){t.push(n)})),i(t)},o.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),i(t)},o.prototype.entries=function(){var t=[];return this.forEach((function(e,n){t.push([n,e])})),i(t)},y&&(o.prototype[Symbol.iterator]=o.prototype.entries),I=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],h.prototype.clone=function(){return new h(this,{body:this._bodyInit})},l.call(h.prototype),l.call(p.prototype),p.prototype.clone=function(){return new p(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new o(this.headers),url:this.url})},p.error=function(){var t=new p(null,{status:0,statusText:""});return t.type="error",t},T=[301,302,303,307,308],p.redirect=function(t,e){if(-1===T.indexOf(e))throw new RangeError("Invalid status code");return new p(null,{status:e,headers:{location:t}})},d.Headers=o,d.Request=h,d.Response=p,d.fetch=function(t,e){return new Promise((function(n,r){var i=new h(t,e),a=new XMLHttpRequest;a.onload=function(){var t,e,r={status:a.status,statusText:a.statusText,headers:(t=a.getAllResponseHeaders()||"",e=new o,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var n,r=t.split(":"),i=r.shift().trim();i&&(n=r.join(":").trim(),e.append(i,n))})),e)};r.url="responseURL"in a?a.responseURL:r.headers.get("X-Request-URL");var i="response"in a?a.response:a.responseText;n(new p(i,r))},a.onerror=function(){r(new TypeError("Network request failed"))},a.ontimeout=function(){r(new TypeError("Network request failed"))},a.open(i.method,i.url,!0),"include"===i.credentials?a.withCredentials=!0:"omit"===i.credentials&&(a.withCredentials=!1),"responseType"in a&&g&&(a.responseType="blob"),i.headers.forEach((function(t,e){a.setRequestHeader(e,t)})),a.send(void 0===i._bodyInit?null:i._bodyInit)}))},d.fetch.polyfill=!0);var S="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof e?e:"undefined"!=typeof self?self:{};function C(t,e){return t(e={exports:{}},e.exports),e.exports}function A(t){return t&&t.Math==Math&&t}function k(t){try{return!!t()}catch(t){return!0}}function N(t){return"object"==typeof t?null!==t:"function"==typeof t}function O(t){return B?q.createElement(t):{}}function x(t){if(!N(t))throw TypeError(String(t)+" is not an object");return t}function P(t,e){if(!N(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!N(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!N(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!N(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}function R(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}function D(t,e){try{H(U,t,e)}catch(i){U[t]=e}return e}function L(t,e){return X.call(t,e)}function M(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++$+J).toString(36)}function F(t){return L(et,t)||(Z&&L(nt,t)?et[t]=nt[t]:et[t]=rt("Symbol."+t)),et[t]}var U=A("object"==typeof globalThis&&globalThis)||A("object"==typeof window&&window)||A("object"==typeof self&&self)||A("object"==typeof S&&S)||Function("return this")(),j=!1,V=!k((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),q=U.document,B=N(q)&&N(q.createElement),z=!V&&!k((function(){return 7!=Object.defineProperty(O("div"),"a",{get:function(){return 7}}).a})),G=Object.defineProperty,W={f:V?G:function(t,e,n){if(x(t),e=P(e,!0),x(n),z)try{return G(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},H=V?function(t,e,n){return W.f(t,e,R(1,n))}:function(t,e,n){return t[e]=n,t},K="__core-js_shared__",Q=U[K]||D(K,{}),Y=C((function(t){(t.exports=function(t,e){return Q[t]||(Q[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.5",mode:"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})})),X={}.hasOwnProperty,$=0,J=Math.random(),Z=!!Object.getOwnPropertySymbols&&!k((function(){return!String(Symbol())})),tt=Z&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,et=Y("wks"),nt=U.Symbol,rt=tt?nt:nt&&nt.withoutSetter||M,it={};it[F("toStringTag")]="z";var ot="[object z]"===String(it),at=Function.toString;function st(t){return bt[t]||(bt[t]=M(t))}"function"!=typeof Q.inspectSource&&(Q.inspectSource=function(t){return at.call(t)});var ut,ct,lt,ht,ft,pt,dt,vt,yt=Q.inspectSource,gt=U.WeakMap,mt="function"==typeof gt&&/native code/.test(yt(gt)),bt=Y("keys"),wt={},_t=U.WeakMap;function Et(t){return St.call(t).slice(8,-1)}dt=mt?(ut=new _t,ct=ut.get,lt=ut.has,ht=ut.set,ft=function(t,e){return ht.call(ut,t,e),e},pt=function(t){return ct.call(ut,t)||{}},function(t){return lt.call(ut,t)}):(vt=st("state"),wt[vt]=!0,ft=function(t,e){return H(t,vt,e),e},pt=function(t){return L(t,vt)?t[vt]:{}},function(t){return L(t,vt)});var It={set:ft,get:pt,has:dt,enforce:function(t){return dt(t)?pt(t):ft(t,{})},getterFor:function(t){return function(e){var n;if(!N(e)||(n=pt(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}},Tt=C((function(t){var e=It.get,n=It.enforce,r=String(String).split("String");(t.exports=function(t,e,i,o){var a=!!o&&!!o.unsafe,s=!!o&&!!o.enumerable,u=!!o&&!!o.noTargetGet;"function"==typeof i&&("string"!=typeof e||L(i,"name")||H(i,"name",e),n(i).source=r.join("string"==typeof e?e:"")),t!==U?(a?!u&&t[e]&&(s=!0):delete t[e],s?t[e]=i:H(t,e,i)):s?t[e]=i:D(e,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||yt(this)}))})),St={}.toString,Ct=F("toStringTag"),At="Arguments"==Et(function(){return arguments}()),kt=ot?Et:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),Ct))?n:At?Et(e):"Object"==(r=Et(e))&&"function"==typeof e.callee?"Arguments":r},Nt=ot?{}.toString:function(){return"[object "+kt(this)+"]"};function Ot(t){return isNaN(t=+t)?0:(0<t?Kt:Ht)(t)}function xt(t){if(null==t)throw TypeError("Can't call method on "+t);return t}function Pt(t){return function(e,n){var r,i,o=String(xt(e)),a=Ot(n),s=o.length;return a<0||s<=a?t?"":void 0:(r=o.charCodeAt(a))<55296||56319<r||a+1===s||(i=o.charCodeAt(a+1))<56320||57343<i?t?o.charAt(a):r:t?o.slice(a,a+2):i-56320+(r-55296<<10)+65536}}function Rt(t){return Zt(xt(t))}function Dt(t){return"function"==typeof t?t:void 0}function Lt(t,e){return arguments.length<2?Dt(ne[t])||Dt(U[t]):ne[t]&&ne[t][e]||U[t]&&U[t][e]}function Mt(t){return 0<t?re(Ot(t),9007199254740991):0}function Ft(t){return function(e,n,r){var i,o,a,s=Rt(e),u=Mt(s.length),c=(i=u,(o=Ot(r))<0?ie(o+i,0):oe(o,i));if(t&&n!=n){for(;c<u;)if((a=s[c++])!=a)return!0}else for(;c<u;c++)if((t||c in s)&&s[c]===n)return t||c||0;return!t&&-1}}function Ut(t,e){var n,r=Rt(t),i=0,o=[];for(n in r)!L(wt,n)&&L(r,n)&&o.push(n);for(;e.length>i;)L(r,n=e[i++])&&(~ae(o,n)||o.push(n));return o}function jt(t,e){for(var n=he(e),r=W.f,i=ee.f,o=0;o<n.length;o++){var a=n[o];L(t,a)||r(t,a,i(e,a))}}function Vt(t,e){var n=de[pe(t)];return n==ye||n!=ve&&("function"==typeof e?k(e):!!e)}function qt(t,e){var n,r,i,o,a=t.target,s=t.global,u=t.stat,c=s?U:u?U[a]||D(a,{}):(U[a]||{}).prototype;if(c)for(n in e){if(i=e[n],r=t.noTargetGet?(o=me(c,n))&&o.value:c[n],!ge(s?n:a+(u?".":"#")+n,t.forced)&&void 0!==r){if(typeof i==typeof r)continue;jt(i,r)}(t.sham||r&&r.sham)&&H(i,"sham",!0),Tt(c,n,i,t)}}function Bt(t){return Object(xt(t))}ot||Tt(Object.prototype,"toString",Nt,{unsafe:!0});var zt,Gt,Wt,Ht=Math.ceil,Kt=Math.floor,Qt={codeAt:Pt(!1),charAt:Pt(!0)},Yt={}.propertyIsEnumerable,Xt=Object.getOwnPropertyDescriptor,$t={f:Xt&&!Yt.call({1:2},1)?function(t){var e=Xt(this,t);return!!e&&e.enumerable}:Yt},Jt="".split,Zt=k((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==Et(t)?Jt.call(t,""):Object(t)}:Object,te=Object.getOwnPropertyDescriptor,ee={f:V?te:function(t,e){if(t=Rt(t),e=P(e,!0),z)try{return te(t,e)}catch(t){}if(L(t,e))return R(!$t.f.call(t,e),t[e])}},ne=U,re=Math.min,ie=Math.max,oe=Math.min,ae=(Ft(!0),Ft(!1)),se=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],ue=se.concat("length","prototype"),ce={f:Object.getOwnPropertyNames||function(t){return Ut(t,ue)}},le={f:Object.getOwnPropertySymbols},he=Lt("Reflect","ownKeys")||function(t){var e=ce.f(x(t)),n=le.f;return n?e.concat(n(t)):e},fe=/#|\.prototype\./,pe=Vt.normalize=function(t){return String(t).replace(fe,".").toLowerCase()},de=Vt.data={},ve=Vt.NATIVE="N",ye=Vt.POLYFILL="P",ge=Vt,me=ee.f,be=!k((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),we=st("IE_PROTO"),_e=Object.prototype,Ee=be?Object.getPrototypeOf:function(t){return L(t=Bt(t),we)?t[we]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?_e:null},Ie=F("iterator"),Te=!1;function Se(){}function Ce(t){return"<script>"+t+"</"+Re+">"}[].keys&&("next"in(Wt=[].keys())?(Gt=Ee(Ee(Wt)))!==Object.prototype&&(zt=Gt):Te=!0),null==zt&&(zt={}),L(zt,Ie)||H(zt,Ie,(function(){return this}));var Ae,ke={IteratorPrototype:zt,BUGGY_SAFARI_ITERATORS:Te},Ne=Object.keys||function(t){return Ut(t,se)},Oe=V?Object.defineProperties:function(t,e){x(t);for(var n,r=Ne(e),i=r.length,o=0;o<i;)W.f(t,n=r[o++],e[n]);return t},xe=Lt("document","documentElement"),Pe="prototype",Re="script",De=st("IE_PROTO"),Le=function(){try{Ae=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;Le=Ae?function(t){t.write(Ce("")),t.close();var e=t.parentWindow.Object;return t=null,e}(Ae):((e=O("iframe")).style.display="none",xe.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(Ce("document.F=Object")),t.close(),t.F);for(var n=se.length;n--;)delete Le[Pe][se[n]];return Le()};function Me(t,e,n){t&&!L(t=n?t:t.prototype,Be)&&qe(t,Be,{configurable:!0,value:e})}function Fe(){return this}function Ue(){return this}function je(t,e,n,r,i,o,a){var s,u,c;function l(t){if(t===i&&m)return m;if(!Ke&&t in y)return y[t];switch(t){case"keys":case Ye:case Xe:return function(){return new n(this,t)}}return function(){return new n(this)}}u=r,c=e+" Iterator",(s=n).prototype=Ve(Ge,{next:R(1,u)}),Me(s,c,!1),ze[c]=Fe;var h,f,p,d=e+" Iterator",v=!1,y=t.prototype,g=y[Qe]||y["@@iterator"]||i&&y[i],m=!Ke&&g||l(i),b="Array"==e&&y.entries||g;if(b&&(h=Ee(b.call(new t)),He!==Object.prototype&&h.next&&(Ee(h)!==He&&(We?We(h,He):"function"!=typeof h[Qe]&&H(h,Qe,Ue)),Me(h,d,!0))),i==Ye&&g&&g.name!==Ye&&(v=!0,m=function(){return g.call(this)}),y[Qe]!==m&&H(y,Qe,m),ze[e]=m,i)if(f={values:l(Ye),keys:o?m:l("keys"),entries:l(Xe)},a)for(p in f)!Ke&&!v&&p in y||Tt(y,p,f[p]);else qt({target:e,proto:!0,forced:Ke||v},f);return f}wt[De]=!0;var Ve=Object.create||function(t,e){var n;return null!==t?(Se[Pe]=x(t),n=new Se,Se[Pe]=null,n[De]=t):n=Le(),void 0===e?n:Oe(n,e)},qe=W.f,Be=F("toStringTag"),ze={},Ge=ke.IteratorPrototype,We=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(n){}return function(n,r){return x(n),function(t){if(!N(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(r),e?t.call(n,r):n.__proto__=r,n}}():void 0),He=ke.IteratorPrototype,Ke=ke.BUGGY_SAFARI_ITERATORS,Qe=F("iterator"),Ye="values",Xe="entries",$e=Qt.charAt,Je="String Iterator",Ze=It.set,tn=It.getterFor(Je);je(String,"String",(function(t){Ze(this,{type:Je,string:String(t),index:0})}),(function(){var t,e=tn(this),n=e.string,r=e.index;return r>=n.length?{value:void 0,done:!0}:(t=$e(n,r),e.index+=t.length,{value:t,done:!1})}));var en={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},nn=F("unscopables"),rn=Array.prototype;function on(t){rn[nn][t]=!0}null==rn[nn]&&W.f(rn,nn,{configurable:!0,value:Ve(null)});var an="Array Iterator",sn=It.set,un=It.getterFor(an),cn=je(Array,"Array",(function(t,e){sn(this,{type:an,target:Rt(t),index:0,kind:e})}),(function(){var t=un(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?{value:t.target=void 0,done:!0}:"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values");ze.Arguments=ze.Array,on("keys"),on("values"),on("entries");var ln,hn=F("iterator"),fn=F("toStringTag"),pn=cn.values;for(ln in en){var dn=U[ln],vn=dn&&dn.prototype;if(vn){if(vn[hn]!==pn)try{H(vn,hn,pn)}catch(Tu){vn[hn]=pn}if(vn[fn]||H(vn,fn,ln),en[ln])for(var yn in cn)if(vn[yn]!==cn[yn])try{H(vn,yn,cn[yn])}catch(Tu){vn[yn]=cn[yn]}}}function gn(t,e,n){for(var r in e)Tt(t,r,e[r],n);return t}function mn(t){var e=Lt(t),n=W.f;V&&e&&!e[Cn]&&n(e,Cn,{configurable:!0,get:function(){return this}})}function bn(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}function wn(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}function _n(t){return void 0!==t&&(ze.Array===t||kn[An]===t)}function En(t,e,n){if(bn(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}function In(t){if(null!=t)return t[Nn]||t["@@iterator"]||ze[kt(t)]}function Tn(t,e,n,r){try{return r?e(x(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&x(i.call(t)),e}}var Sn=U.Promise,Cn=F("species"),An=F("iterator"),kn=Array.prototype,Nn=F("iterator"),On=C((function(t){function e(t,e){this.stopped=t,this.result=e}(t.exports=function(t,n,r,i,o){var a,s,u,c,l,h,f,p=En(n,r,i?2:1);if(o)a=t;else{if("function"!=typeof(s=In(t)))throw TypeError("Target is not iterable");if(_n(s)){for(u=0,c=Mt(t.length);u<c;u++)if((l=i?p(x(f=t[u])[0],f[1]):p(t[u]))&&l instanceof e)return l;return new e(!1)}a=s.call(t)}for(h=a.next;!(f=h.call(a)).done;)if("object"==typeof(l=Tn(a,p,f.value,i))&&l&&l instanceof e)return l;return new e(!1)}).stop=function(t){return new e(!0,t)}})),xn=F("iterator"),Pn=!1;try{var Rn=0,Dn={next:function(){return{done:!!Rn++}},return:function(){Pn=!0}};Dn[xn]=function(){return this},Array.from(Dn,(function(){throw 2}))}catch(Tu){}function Ln(t,e){if(!e&&!Pn)return!1;var n=!1;try{var r={};r[xn]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n}function Mn(t,e){var n,r=x(t).constructor;return void 0===r||null==(n=x(r)[Gn])?e:bn(n)}function Fn(t){var e;tr.hasOwnProperty(t)&&(e=tr[t],delete tr[t],e())}function Un(t){return function(){Fn(t)}}function jn(t){Fn(t.data)}function Vn(t){U.postMessage(t+"",Kn.protocol+"//"+Kn.host)}var qn,Bn,zn,Gn=F("species"),Wn=Lt("navigator","userAgent")||"",Hn=/(iphone|ipod|ipad).*applewebkit/i.test(Wn),Kn=U.location,Qn=U.setImmediate,Yn=U.clearImmediate,Xn=U.process,$n=U.MessageChannel,Jn=U.Dispatch,Zn=0,tr={},er="onreadystatechange";Qn&&Yn||(Qn=function(t){for(var e=[],n=1;n<arguments.length;)e.push(arguments[n++]);return tr[++Zn]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},qn(Zn),Zn},Yn=function(t){delete tr[t]},"process"==Et(Xn)?qn=function(t){Xn.nextTick(Un(t))}:Jn&&Jn.now?qn=function(t){Jn.now(Un(t))}:$n&&!Hn?(zn=(Bn=new $n).port2,Bn.port1.onmessage=jn,qn=En(zn.postMessage,zn,1)):!U.addEventListener||"function"!=typeof postMessage||U.importScripts||k(Vn)||"file:"===Kn.protocol?qn=er in O("script")?function(t){xe.appendChild(O("script"))[er]=function(){xe.removeChild(this),Fn(t)}}:function(t){setTimeout(Un(t),0)}:(qn=Vn,U.addEventListener("message",jn,!1)));var nr,rr,ir,or,ar,sr,ur,cr,lr={set:Qn,clear:Yn},hr=ee.f,fr=lr.set,pr=U.MutationObserver||U.WebKitMutationObserver,dr=U.process,vr=U.Promise,yr="process"==Et(dr),gr=hr(U,"queueMicrotask"),mr=gr&&gr.value;function br(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=bn(e),this.reject=bn(n)}function wr(t,e){if(x(t),N(e)&&e.constructor===t)return e;var n=Sr.f(t);return(0,n.resolve)(e),n.promise}function _r(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}mr||(nr=function(){var t,e;for(yr&&(t=dr.domain)&&t.exit();rr;){e=rr.fn,rr=rr.next;try{e()}catch(t){throw rr?or():ir=void 0,t}}ir=void 0,t&&t.enter()},or=yr?function(){dr.nextTick(nr)}:pr&&!Hn?(ar=!0,sr=document.createTextNode(""),new pr(nr).observe(sr,{characterData:!0}),function(){sr.data=ar=!ar}):vr&&vr.resolve?(ur=vr.resolve(void 0),cr=ur.then,function(){cr.call(ur,nr)}):function(){fr.call(U,nr)});var Er,Ir,Tr=mr||function(t){var e={fn:t,next:void 0};ir&&(ir.next=e),rr||(rr=e,or()),ir=e},Sr={f:function(t){return new br(t)}},Cr=U.process,Ar=Cr&&Cr.versions,kr=Ar&&Ar.v8;function Nr(t){var e;return!(!N(t)||"function"!=typeof(e=t.then))&&e}function Or(t,e,n){var r;e.notified||(e.notified=!0,r=e.reactions,Tr((function(){for(var i=e.value,o=1==e.state,a=0;r.length>a;){var s,u,c,l=r[a++],h=o?l.ok:l.fail,f=l.resolve,p=l.reject,d=l.domain;try{h?(o||(2===e.rejection&&oi(t,e),e.rejection=1),!0===h?s=i:(d&&d.enter(),s=h(i),d&&(d.exit(),c=!0)),s===l.promise?p(Hr("Promise-chain cycle")):(u=Nr(s))?u.call(s,f,p):f(s)):p(i)}catch(i){d&&!c&&d.exit(),p(i)}}e.reactions=[],e.notified=!1,n&&!e.rejection&&ri(t,e)})))}function xr(t,e,n){var r,i;Zr?((r=Kr.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),U.dispatchEvent(r)):r={promise:e,reason:n},(i=U["on"+t])?i(r):t===ti&&function(t,e){var n=U.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}("Unhandled promise rejection",n)}function Pr(t,e,n,r){return function(i){t(e,n,i,r)}}function Rr(t,e,n,r){e.done||(e.done=!0,r&&(e=r),e.value=n,e.state=2,Or(t,e,!0))}kr?Ir=(Er=kr.split("."))[0]+Er[1]:Wn&&(!(Er=Wn.match(/Edge\/(\d+)/))||74<=Er[1])&&(Er=Wn.match(/Chrome\/(\d+)/))&&(Ir=Er[1]);var Dr,Lr,Mr,Fr,Ur=Ir&&+Ir,jr=lr.set,Vr=F("species"),qr="Promise",Br=It.get,zr=It.set,Gr=It.getterFor(qr),Wr=Sn,Hr=U.TypeError,Kr=U.document,Qr=U.process,Yr=Lt("fetch"),Xr=Sr.f,$r=Xr,Jr="process"==Et(Qr),Zr=!!(Kr&&Kr.createEvent&&U.dispatchEvent),ti="unhandledrejection",ei=ge(qr,(function(){if(yt(Wr)===String(Wr)){if(66===Ur)return!0;if(!Jr&&"function"!=typeof PromiseRejectionEvent)return!0}if(51<=Ur&&/native code/.test(Wr))return!1;function t(t){t((function(){}),(function(){}))}var e=Wr.resolve(1);return(e.constructor={})[Vr]=t,!(e.then((function(){}))instanceof t)})),ni=ei||!Ln((function(t){Wr.all(t).catch((function(){}))})),ri=function(t,e){jr.call(U,(function(){var n,r=e.value;if(ii(e)&&(n=_r((function(){Jr?Qr.emit("unhandledRejection",r,t):xr(ti,t,r)})),e.rejection=Jr||ii(e)?2:1,n.error))throw n.value}))},ii=function(t){return 1!==t.rejection&&!t.parent},oi=function(t,e){jr.call(U,(function(){Jr?Qr.emit("rejectionHandled",t):xr("rejectionhandled",t,e.value)}))},ai=function t(e,n,r,i){if(!n.done){n.done=!0,i&&(n=i);try{if(e===r)throw Hr("Promise can't be resolved itself");var o=Nr(r);o?Tr((function(){var i={done:!1};try{o.call(r,Pr(t,e,i,n),Pr(Rr,e,i,n))}catch(r){Rr(e,i,r,n)}})):(n.value=r,n.state=1,Or(e,n,!1))}catch(r){Rr(e,{done:!1},r,n)}}};ei&&(Wr=function(t){wn(this,Wr,qr),bn(t),Dr.call(this);var e=Br(this);try{t(Pr(ai,this,e),Pr(Rr,this,e))}catch(t){Rr(this,e,t)}},(Dr=function(){zr(this,{type:qr,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=gn(Wr.prototype,{then:function(t,e){var n=Gr(this),r=Xr(Mn(this,Wr));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=Jr?Qr.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&Or(this,n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),Lr=function(){var t=new Dr,e=Br(t);this.promise=t,this.resolve=Pr(ai,t,e),this.reject=Pr(Rr,t,e)},Sr.f=Xr=function(t){return t===Wr||t===Mr?new Lr:$r(t)},"function"==typeof Sn&&(Fr=Sn.prototype.then,Tt(Sn.prototype,"then",(function(t,e){var n=this;return new Wr((function(t,e){Fr.call(n,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof Yr&&qt({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return wr(Wr,Yr.apply(U,arguments))}}))),qt({global:!0,wrap:!0,forced:ei},{Promise:Wr}),Me(Wr,qr,!1),mn(qr),Mr=Lt(qr),qt({target:qr,stat:!0,forced:ei},{reject:function(t){var e=Xr(this);return e.reject.call(void 0,t),e.promise}}),qt({target:qr,stat:!0,forced:ei},{resolve:function(t){return wr(this,t)}}),qt({target:qr,stat:!0,forced:ni},{all:function(t){var e=this,n=Xr(e),r=n.resolve,i=n.reject,o=_r((function(){var n=bn(e.resolve),o=[],a=0,s=1;On(t,(function(t){var u=a++,c=!1;o.push(void 0),s++,n.call(e,t).then((function(t){c||(c=!0,o[u]=t,--s||r(o))}),i)})),--s||r(o)}));return o.error&&i(o.value),n.promise},race:function(t){var e=this,n=Xr(e),r=n.reject,i=_r((function(){var i=bn(e.resolve);On(t,(function(t){i.call(e,t).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}}),qt({target:"Promise",stat:!0},{allSettled:function(t){var e=this,n=Sr.f(e),r=n.resolve,i=n.reject,o=_r((function(){var n=bn(e.resolve),i=[],o=0,a=1;On(t,(function(t){var s=o++,u=!1;i.push(void 0),a++,n.call(e,t).then((function(t){u||(u=!0,i[s]={status:"fulfilled",value:t},--a||r(i))}),(function(t){u||(u=!0,i[s]={status:"rejected",reason:t},--a||r(i))}))})),--a||r(i)}));return o.error&&i(o.value),n.promise}}),qt({target:"Promise",proto:!0,real:!0,forced:!!Sn&&k((function(){Sn.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=Mn(this,Lt("Promise")),n="function"==typeof t;return this.then(n?function(n){return wr(e,t()).then((function(){return n}))}:t,n?function(n){return wr(e,t()).then((function(){throw n}))}:t)}}),"function"!=typeof Sn||Sn.prototype.finally||Tt(Sn.prototype,"finally",Lt("Promise").prototype.finally),ne.Promise;var si=It.set,ui=It.getterFor("AggregateError"),ci=function t(e,n){var r=this;if(!(r instanceof t))return new t(e,n);We&&(r=We(new Error(n),Ee(r)));var i=[];return On(e,i.push,i),V?si(r,{errors:i,type:"AggregateError"}):r.errors=i,void 0!==n&&H(r,"message",String(n)),r};ci.prototype=Ve(Error.prototype,{constructor:R(5,ci),message:R(5,""),name:R(5,"AggregateError")}),V&&W.f(ci.prototype,"errors",{get:function(){return ui(this).errors},configurable:!0}),qt({global:!0},{AggregateError:ci}),qt({target:"Promise",stat:!0},{try:function(t){var e=Sr.f(this),n=_r(t);return(n.error?e.reject:e.resolve)(n.value),e.promise}});var li="No one promise resolved";function hi(t,e){var n;return vi(t)&&("function"==typeof(n=t.constructor)&&(n===Array||vi(n.prototype))||N(n)&&null===(n=n[yi]))&&(n=void 0),new(void 0===n?Array:n)(0===e?0:e)}function fi(t){var e=1==t,n=2==t,r=3==t,i=4==t,o=6==t,a=5==t||o;return function(s,u,c,l){for(var h,f,p=Bt(s),d=Zt(p),v=En(u,c,3),y=Mt(d.length),g=0,m=l||hi,b=e?m(s,y):n?m(s,0):void 0;g<y;g++)if((a||g in d)&&(f=v(h=d[g],g,p),t))if(e)b[g]=f;else if(f)switch(t){case 3:return!0;case 5:return h;case 6:return g;case 2:gi.call(b,h)}else if(i)return!1;return o?-1:r||i?i:b}}function pi(t){throw t}function di(t,e){if(L(wi,t))return wi[t];var n=[][t],r=!!L(e=e||{},"ACCESSORS")&&e.ACCESSORS,i=L(e,0)?e[0]:pi,o=L(e,1)?e[1]:void 0;return wi[t]=!!n&&!k((function(){if(r&&!V)return 1;var t={length:-1};r?bi(t,1,{enumerable:!0,get:pi}):t[1]=1,n.call(t,i,o)}))}qt({target:"Promise",stat:!0},{any:function(t){var e=this,n=Sr.f(e),r=n.resolve,i=n.reject,o=_r((function(){var n=bn(e.resolve),o=[],a=0,s=1,u=!1;On(t,(function(t){var c=a++,l=!1;o.push(void 0),s++,n.call(e,t).then((function(t){l||u||(u=!0,r(t))}),(function(t){l||u||(l=!0,o[c]=t,--s||i(new(Lt("AggregateError"))(o,li)))}))})),--s||i(new(Lt("AggregateError"))(o,li))}));return o.error&&i(o.value),n.promise}});var vi=Array.isArray||function(t){return"Array"==Et(t)},yi=F("species"),gi=[].push,mi={forEach:fi(0),map:fi(1),filter:fi(2),some:fi(3),every:fi(4),find:fi(5),findIndex:fi(6)},bi=Object.defineProperty,wi={},_i=mi.find,Ei="find",Ii=!0,Ti=di(Ei);function Si(t,e,n){return En(Ci,U[t].prototype[e],n)}Ei in[]&&Array(1)[Ei]((function(){Ii=!1})),qt({target:"Array",proto:!0,forced:Ii||!Ti},{find:function(t,e){return _i(this,t,1<arguments.length?e:void 0)}}),on(Ei);var Ci=Function.call,Ai=(Si("Array","find"),mi.findIndex),ki="findIndex",Ni=!0,Oi=di(ki);function xi(t,e,n){var r=P(e);r in t?W.f(t,r,R(0,n)):t[r]=n}ki in[]&&Array(1)[ki]((function(){Ni=!1})),qt({target:"Array",proto:!0,forced:Ni||!Oi},{findIndex:function(t,e){return Ai(this,t,1<arguments.length?e:void 0)}}),on(ki),Si("Array","findIndex"),qt({target:"Array",stat:!0,forced:!Ln((function(t){Array.from(t)}))},{from:function(t,e,n){var r,i,o,a,s,u=Bt(t),c="function"==typeof this?this:Array,l=arguments.length,h=1<l?e:void 0,f=void 0!==h,p=In(u),d=0;if(f&&(h=En(h,2<l?n:void 0,2)),null==p||c==Array&&_n(p))for(i=new c(r=Mt(u.length));d<r;d++)xi(i,d,f?h(u[d],d):u[d]);else for(s=(a=p.call(u)).next,i=new c;!(o=s.call(a)).done;d++)xi(i,d,f?Tn(a,h,[o.value,d],!0):o.value);return i.length=d,i}}),ne.Array.from;var Pi,Ri=mi.some,Di=!!(Pi=[].some)&&k((function(){Pi.call(null,(function(){throw 1}),1)})),Li=di("some");qt({target:"Array",proto:!0,forced:!Di||!Li},{some:function(t,e){return Ri(this,t,1<arguments.length?e:void 0)}}),Si("Array","some");var Mi,Fi="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,Ui=W.f,ji=U.Int8Array,Vi=ji&&ji.prototype,qi=U.Uint8ClampedArray,Bi=qi&&qi.prototype,zi=ji&&Ee(ji),Gi=Vi&&Ee(Vi),Wi=Object.prototype,Hi=(Wi.isPrototypeOf,F("toStringTag")),Ki=M("TYPED_ARRAY_TAG"),Qi=Fi&&!!We&&"Opera"!==kt(U.opera),Yi={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8};for(Mi in Yi)U[Mi]||(Qi=!1);if((!Qi||"function"!=typeof zi||zi===Function.prototype)&&(zi=function(){throw TypeError("Incorrect invocation")},Qi))for(Mi in Yi)U[Mi]&&We(U[Mi],zi);if((!Qi||!Gi||Gi===Wi)&&(Gi=zi.prototype,Qi))for(Mi in Yi)U[Mi]&&We(U[Mi].prototype,Gi);if(Qi&&Ee(Bi)!==Gi&&We(Bi,Gi),V&&!L(Gi,Hi))for(Mi in Ui(Gi,Hi,{get:function(){return N(this)?this[Ki]:void 0}}),Yi)U[Mi]&&H(U[Mi],Ki,Mi);function Xi(){return Zi.call(no(this))}var $i=F("iterator"),Ji=U.Uint8Array,Zi=cn.values,to=cn.keys,eo=cn.entries,no=function(t){if(function(t){return N(t)&&L(Yi,kt(t))}(t))return t;throw TypeError("Target is not a typed array")},ro=function(t,e,n){if(V){if(n)for(var r in Yi){var i=U[r];i&&L(i.prototype,t)&&delete i.prototype[t]}Gi[t]&&!n||Tt(Gi,t,!n&&Qi&&Vi[t]||e)}},io=Ji&&Ji.prototype[$i],oo=!!io&&("values"==io.name||null==io.name);ro("entries",(function(){return eo.call(no(this))})),ro("keys",(function(){return to.call(no(this))})),ro("values",Xi,!oo),ro($i,Xi,!oo);var ao=Object.assign,so=Object.defineProperty,uo=!ao||k((function(){if(V&&1!==ao({b:1},ao(so({},"a",{enumerable:!0,get:function(){so(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return 1;var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=ao({},t)[n]||Ne(ao({},e)).join("")!=r}))?function(t,e){for(var n=Bt(t),r=arguments.length,i=1,o=le.f,a=$t.f;i<r;)for(var s,u=Zt(arguments[i++]),c=o?Ne(u).concat(o(u)):Ne(u),l=c.length,h=0;h<l;)s=c[h++],V&&!a.call(u,s)||(n[s]=u[s]);return n}:ao;function co(t){return function(e){for(var n,r=Rt(e),i=Ne(r),o=i.length,a=0,s=[];a<o;)n=i[a++],V&&!lo.call(r,n)||s.push(t?[n,r[n]]:r[n]);return s}}qt({target:"Object",stat:!0,forced:Object.assign!==uo},{assign:uo}),ne.Object.assign;var lo=$t.f,ho={entries:co(!0),values:co(!1)},fo=ho.entries;qt({target:"Object",stat:!0},{entries:function(t){return fo(t)}}),ne.Object.entries;var po=ho.values;function vo(t){if(N(e=t)&&(void 0!==(n=e[go])?n:"RegExp"==Et(e)))throw TypeError("The method doesn't accept regular expressions");var e,n;return t}function yo(t){var e=/./;try{"/./"[t](e)}catch(i){try{return e[mo]=!1,"/./"[t](e)}catch(i){}}return!1}qt({target:"Object",stat:!0},{values:function(t){return po(t)}}),ne.Object.values;var go=F("match"),mo=F("match");qt({target:"String",proto:!0,forced:!yo("includes")},{includes:function(t,e){return!!~String(xt(this)).indexOf(vo(t),1<arguments.length?e:void 0)}}),Si("String","includes");var bo,wo=ee.f,_o="".startsWith,Eo=Math.min,Io=yo("startsWith");qt({target:"String",proto:!0,forced:!(!Io&&(bo=wo(String.prototype,"startsWith"))&&!bo.writable)&&!Io},{startsWith:function(t,e){var n=String(xt(this));vo(t);var r=Mt(Eo(1<arguments.length?e:void 0,n.length)),i=String(t);return _o?_o.call(n,i,r):n.slice(r,r+i.length)===i}}),Si("String","startsWith"),qt({target:"String",proto:!0},{repeat:"".repeat||function(t){var e=String(xt(this)),n="",r=Ot(t);if(r<0||r==1/0)throw RangeError("Wrong number of repetitions");for(;0<r;(r>>>=1)&&(e+=e))1&r&&(n+=e);return n}}),Si("String","repeat");var To=F("species"),So=F("isConcatSpreadable"),Co=9007199254740991,Ao="Maximum allowed index exceeded",ko=51<=Ur||!k((function(){var t=[];return t[So]=!1,t.concat()[0]!==t})),No=51<=Ur||!k((function(){var t=[];return(t.constructor={})[To]=function(){return{foo:1}},1!==t.concat(Boolean).foo}));function Oo(t){var e=ne.Symbol||(ne.Symbol={});L(e,t)||Vo(e,t,{value:jo.f(t)})}function xo(t,e){var n=ea[t]=Ve(Yo[Go]);return Ho(n,{type:zo,tag:t,description:e}),V||(n.description=e),n}function Po(t,e){x(t);var n=Rt(e),r=Ne(n).concat(fa(n));return qo(r,(function(e){V&&!ha.call(n,e)||la(t,e,n[e])})),t}function Ro(t,e){var n=Rt(t),r=P(e,!0);if(n!==Qo||!L(ea,r)||L(na,r)){var i=$o(n,r);return!i||!L(ea,r)||L(n,Bo)&&n[Bo][r]||(i.enumerable=!0),i}}function Do(t){var e=Zo(Rt(t)),n=[];return qo(e,(function(t){L(ea,t)||L(wt,t)||n.push(t)})),n}qt({target:"Array",proto:!0,forced:!ko||!No},{concat:function(t){for(var e,n,r,i=Bt(this),o=hi(i,0),a=0,s=-1,u=arguments.length;s<u;s++)if(function(t){if(!N(t))return!1;var e=t[So];return void 0!==e?!!e:vi(t)}(r=-1===s?i:arguments[s])){if(n=Mt(r.length),Co<a+n)throw TypeError(Ao);for(e=0;e<n;e++,a++)e in r&&xi(o,a,r[e])}else{if(Co<=a)throw TypeError(Ao);xi(o,a++,r)}return o.length=a,o}});var Lo=ce.f,Mo={}.toString,Fo="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Uo={f:function(t){return Fo&&"[object Window]"==Mo.call(t)?function(t){try{return Lo(t)}catch(t){return Fo.slice()}}(t):Lo(Rt(t))}},jo={f:F},Vo=W.f,qo=mi.forEach,Bo=st("hidden"),zo="Symbol",Go="prototype",Wo=F("toPrimitive"),Ho=It.set,Ko=It.getterFor(zo),Qo=Object[Go],Yo=U.Symbol,Xo=Lt("JSON","stringify"),$o=ee.f,Jo=W.f,Zo=Uo.f,ta=$t.f,ea=Y("symbols"),na=Y("op-symbols"),ra=Y("string-to-symbol-registry"),ia=Y("symbol-to-string-registry"),oa=Y("wks"),aa=U.QObject,sa=!aa||!aa[Go]||!aa[Go].findChild,ua=V&&k((function(){return 7!=Ve(Jo({},"a",{get:function(){return Jo(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=$o(Qo,e);r&&delete Qo[e],Jo(t,e,n),r&&t!==Qo&&Jo(Qo,e,r)}:Jo,ca=tt?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof Yo},la=function t(e,n,r){e===Qo&&t(na,n,r),x(e);var i=P(n,!0);return x(r),L(ea,i)?(r.enumerable?(L(e,Bo)&&e[Bo][i]&&(e[Bo][i]=!1),r=Ve(r,{enumerable:R(0,!1)})):(L(e,Bo)||Jo(e,Bo,R(1,{})),e[Bo][i]=!0),ua(e,i,r)):Jo(e,i,r)},ha=function(t){var e=P(t,!0),n=ta.call(this,e);return!(this===Qo&&L(ea,e)&&!L(na,e))&&(!(n||!L(this,e)||!L(ea,e)||L(this,Bo)&&this[Bo][e])||n)},fa=function(t){var e=t===Qo,n=Zo(e?na:Rt(t)),r=[];return qo(n,(function(t){!L(ea,t)||e&&!L(Qo,t)||r.push(ea[t])})),r};Z||(Tt((Yo=function(t){if(this instanceof Yo)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==t?String(t):void 0,n=M(e),r=function t(e){this===Qo&&t.call(na,e),L(this,Bo)&&L(this[Bo],n)&&(this[Bo][n]=!1),ua(this,n,R(1,e))};return V&&sa&&ua(Qo,n,{configurable:!0,set:r}),xo(n,e)})[Go],"toString",(function(){return Ko(this).tag})),Tt(Yo,"withoutSetter",(function(t){return xo(M(t),t)})),$t.f=ha,W.f=la,ee.f=Ro,ce.f=Uo.f=Do,le.f=fa,jo.f=function(t){return xo(F(t),t)},V&&(Jo(Yo[Go],"description",{configurable:!0,get:function(){return Ko(this).description}}),Tt(Qo,"propertyIsEnumerable",ha,{unsafe:!0}))),qt({global:!0,wrap:!0,forced:!Z,sham:!Z},{Symbol:Yo}),qo(Ne(oa),(function(t){Oo(t)})),qt({target:zo,stat:!0,forced:!Z},{for:function(t){var e=String(t);if(L(ra,e))return ra[e];var n=Yo(e);return ra[e]=n,ia[n]=e,n},keyFor:function(t){if(!ca(t))throw TypeError(t+" is not a symbol");if(L(ia,t))return ia[t]},useSetter:function(){sa=!0},useSimple:function(){sa=!1}}),qt({target:"Object",stat:!0,forced:!Z,sham:!V},{create:function(t,e){return void 0===e?Ve(t):Po(Ve(t),e)},defineProperty:la,defineProperties:Po,getOwnPropertyDescriptor:Ro}),qt({target:"Object",stat:!0,forced:!Z},{getOwnPropertyNames:Do,getOwnPropertySymbols:fa}),qt({target:"Object",stat:!0,forced:k((function(){le.f(1)}))},{getOwnPropertySymbols:function(t){return le.f(Bt(t))}}),Xo&&qt({target:"JSON",stat:!0,forced:!Z||k((function(){var t=Yo();return"[null]"!=Xo([t])||"{}"!=Xo({a:t})||"{}"!=Xo(Object(t))}))},{stringify:function(t,e,n){for(var r,i=[t],o=1;o<arguments.length;)i.push(arguments[o++]);if((N(r=e)||void 0!==t)&&!ca(t))return vi(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!ca(e))return e}),i[1]=e,Xo.apply(null,i)}}),Yo[Go][Wo]||H(Yo[Go],Wo,Yo[Go].valueOf),Me(Yo,zo),wt[Bo]=!0,Oo("asyncIterator");var pa,da,va,ya,ga,ma,ba=W.f,wa=U.Symbol;function _a(t,e,n){function r(t){var e=p[t];Tt(p,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(l&&!N(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return l&&!N(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(l&&!N(t))&&e.call(this,0===t?0:t)}:function(t,n){return e.call(this,0===t?0:t,n),this})}var i,o,a,s,u,c=-1!==t.indexOf("Map"),l=-1!==t.indexOf("Weak"),h=c?"set":"add",f=U[t],p=f&&f.prototype,d=f,v={};return ge(t,"function"!=typeof f||!(l||p.forEach&&!k((function(){(new f).entries().next()}))))?(d=n.getConstructor(e,t,c,h),Ta.REQUIRED=!0):ge(t,!0)&&(o=(i=new d)[h](l?{}:-0,1)!=i,a=k((function(){i.has(1)})),s=Ln((function(t){new f(t)})),u=!l&&k((function(){for(var t=new f,e=5;e--;)t[h](e,e);return!t.has(-0)})),s||(((d=e((function(e,n){wn(e,d,t);var r,i,o,a,s=(r=new f,i=d,We&&"function"==typeof(o=e.constructor)&&o!==i&&N(a=o.prototype)&&a!==i.prototype&&We(r,a),r);return null!=n&&On(n,s[h],s,c),s}))).prototype=p).constructor=d),(a||u)&&(r("delete"),r("has"),c&&r("get")),(u||o)&&r(h),l&&p.clear&&delete p.clear),v[t]=d,qt({global:!0,forced:d!=f},v),Me(d,t),l||n.setStrong(d,t,c),d}function Ea(t,e,n){var r,i,o,a,s=arguments.length,u=1<s?e:void 0;return bn(this),(r=void 0!==u)&&bn(u),null==t?new this:(i=[],r?(o=0,a=En(u,2<s?n:void 0,2),On(t,(function(t){i.push(a(t,o++))}))):On(t,i.push,i),new this(i))}!V||"function"!=typeof wa||"description"in wa.prototype&&void 0===wa().description||(pa={},jt(da=function(t){var e=arguments.length<1||void 0===t?void 0:String(t),n=this instanceof da?new wa(e):void 0===e?wa():wa(e);return""===e&&(pa[n]=!0),n},wa),(va=da.prototype=wa.prototype).constructor=da,ya=va.toString,ga="Symbol(test)"==String(wa("test")),ma=/^Symbol\((.*)\)[^)]+$/,ba(va,"description",{configurable:!0,get:function(){var t=N(this)?this.valueOf():this,e=ya.call(t);if(L(pa,t))return"";var n=ga?e.slice(7,-1):e.replace(ma,"$1");return""===n?void 0:n}}),qt({global:!0,forced:!0},{Symbol:da})),Oo("hasInstance"),Oo("isConcatSpreadable"),Oo("iterator"),Oo("match"),Oo("matchAll"),Oo("replace"),Oo("search"),Oo("species"),Oo("split"),Oo("toPrimitive"),Oo("toStringTag"),Oo("unscopables"),Me(Math,"Math",!0),Me(U.JSON,"JSON",!0),ne.Symbol,Oo("asyncDispose"),Oo("dispose"),Oo("observable"),Oo("patternMatch"),Oo("replaceAll"),jo.f("iterator");var Ia=!k((function(){return Object.isExtensible(Object.preventExtensions({}))})),Ta=C((function(t){function e(t){n(t,r,{value:{objectID:"O"+ ++i,weakData:{}}})}var n=W.f,r=M("meta"),i=0,o=Object.isExtensible||function(){return!0},a=t.exports={REQUIRED:!1,fastKey:function(t,n){if(!N(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!L(t,r)){if(!o(t))return"F";if(!n)return"E";e(t)}return t[r].objectID},getWeakData:function(t,n){if(!L(t,r)){if(!o(t))return!0;if(!n)return!1;e(t)}return t[r].weakData},onFreeze:function(t){return Ia&&a.REQUIRED&&o(t)&&!L(t,r)&&e(t),t}};wt[r]=!0})),Sa=(Ta.REQUIRED,Ta.fastKey,Ta.getWeakData,Ta.onFreeze,W.f),Ca=Ta.fastKey,Aa=It.set,ka=It.getterFor,Na={getConstructor:function(t,e,n,r){function i(t,e,n){var r,i,o=a(t),u=s(t,e);return u?u.value=n:(o.last=u={index:i=Ca(e,!0),key:e,value:n,previous:r=o.last,next:void 0,removed:!1},o.first||(o.first=u),r&&(r.next=u),V?o.size++:t.size++,"F"!==i&&(o.index[i]=u)),t}var o=t((function(t,i){wn(t,o,e),Aa(t,{type:e,index:Ve(null),first:void 0,last:void 0,size:0}),V||(t.size=0),null!=i&&On(i,t[r],t,n)})),a=ka(e),s=function(t,e){var n,r=a(t),i=Ca(e);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==e)return n};return gn(o.prototype,{clear:function(){for(var t=a(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,V?t.size=0:this.size=0},delete:function(t){var e,n,r=a(this),i=s(this,t);return i&&(e=i.next,n=i.previous,delete r.index[i.index],i.removed=!0,n&&(n.next=e),e&&(e.previous=n),r.first==i&&(r.first=e),r.last==i&&(r.last=n),V?r.size--:this.size--),!!i},forEach:function(t,e){for(var n,r=a(this),i=En(t,1<arguments.length?e:void 0,3);n=n?n.next:r.first;)for(i(n.value,n.key,this);n&&n.removed;)n=n.previous},has:function(t){return!!s(this,t)}}),gn(o.prototype,n?{get:function(t){var e=s(this,t);return e&&e.value},set:function(t,e){return i(this,0===t?0:t,e)}}:{add:function(t){return i(this,t=0===t?0:t,t)}}),V&&Sa(o.prototype,"size",{get:function(){return a(this).size}}),o},setStrong:function(t,e,n){var r=e+" Iterator",i=ka(e),o=ka(r);je(t,e,(function(t,e){Aa(this,{type:r,target:t,state:i(t),kind:e,last:void 0})}),(function(){for(var t=o(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:{value:t.target=void 0,done:!0}}),n?"entries":"values",!n,!0),mn(e)}};function Oa(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}function xa(){for(var t,e=x(this),n=bn(e.delete),r=!0,i=0,o=arguments.length;i<o;i++)t=n.call(e,arguments[i]),r=r&&t;return!!r}function Pa(t){return Map.prototype.entries.call(t)}function Ra(t,e,n){var r,i=x(this),o=2<arguments.length?n:void 0;if("function"!=typeof e&&"function"!=typeof o)throw TypeError("At least one callback required");return i.has(t)?(r=i.get(t),"function"==typeof e&&(r=e(r),i.set(t,r))):"function"==typeof o&&(r=o(),i.set(t,r)),r}function Da(t){return Set.prototype.values.call(t)}_a("Map",(function(t){return function(e){return t(this,arguments.length?e:void 0)}}),Na),ne.Map,qt({target:"Map",stat:!0},{from:Ea}),qt({target:"Map",stat:!0},{of:Oa}),qt({target:"Map",proto:!0,real:!0,forced:j},{deleteAll:function(){return xa.apply(this,arguments)}}),qt({target:"Map",proto:!0,real:!0,forced:j},{every:function(t,e){var n=x(this),r=Pa(n),i=En(t,1<arguments.length?e:void 0,3);return!On(r,(function(t,e){if(!i(e,t,n))return On.stop()}),void 0,!0,!0).stopped}}),qt({target:"Map",proto:!0,real:!0,forced:j},{filter:function(t,e){var n=x(this),r=Pa(n),i=En(t,1<arguments.length?e:void 0,3),o=new(Mn(n,Lt("Map"))),a=bn(o.set);return On(r,(function(t,e){i(e,t,n)&&a.call(o,t,e)}),void 0,!0,!0),o}}),qt({target:"Map",proto:!0,real:!0,forced:j},{find:function(t,e){var n=x(this),r=Pa(n),i=En(t,1<arguments.length?e:void 0,3);return On(r,(function(t,e){if(i(e,t,n))return On.stop(e)}),void 0,!0,!0).result}}),qt({target:"Map",proto:!0,real:!0,forced:j},{findKey:function(t,e){var n=x(this),r=Pa(n),i=En(t,1<arguments.length?e:void 0,3);return On(r,(function(t,e){if(i(e,t,n))return On.stop(t)}),void 0,!0,!0).result}}),qt({target:"Map",stat:!0},{groupBy:function(t,e){var n=new this;bn(e);var r=bn(n.has),i=bn(n.get),o=bn(n.set);return On(t,(function(t){var a=e(t);r.call(n,a)?i.call(n,a).push(t):o.call(n,a,[t])})),n}}),qt({target:"Map",proto:!0,real:!0,forced:j},{includes:function(t){return On(Pa(x(this)),(function(e,n){if((r=n)===(i=t)||r!=r&&i!=i)return On.stop();var r,i}),void 0,!0,!0).stopped}}),qt({target:"Map",stat:!0},{keyBy:function(t,e){var n=new this;bn(e);var r=bn(n.set);return On(t,(function(t){r.call(n,e(t),t)})),n}}),qt({target:"Map",proto:!0,real:!0,forced:j},{keyOf:function(t){return On(Pa(x(this)),(function(e,n){if(n===t)return On.stop(e)}),void 0,!0,!0).result}}),qt({target:"Map",proto:!0,real:!0,forced:j},{mapKeys:function(t,e){var n=x(this),r=Pa(n),i=En(t,1<arguments.length?e:void 0,3),o=new(Mn(n,Lt("Map"))),a=bn(o.set);return On(r,(function(t,e){a.call(o,i(e,t,n),e)}),void 0,!0,!0),o}}),qt({target:"Map",proto:!0,real:!0,forced:j},{mapValues:function(t,e){var n=x(this),r=Pa(n),i=En(t,1<arguments.length?e:void 0,3),o=new(Mn(n,Lt("Map"))),a=bn(o.set);return On(r,(function(t,e){a.call(o,t,i(e,t,n))}),void 0,!0,!0),o}}),qt({target:"Map",proto:!0,real:!0,forced:j},{merge:function(t){for(var e=x(this),n=bn(e.set),r=0;r<arguments.length;)On(arguments[r++],n,e,!0);return e}}),qt({target:"Map",proto:!0,real:!0,forced:j},{reduce:function(t,e){var n=x(this),r=Pa(n),i=arguments.length<2,o=i?void 0:e;if(bn(t),On(r,(function(e,r){o=i?(i=!1,r):t(o,r,e,n)}),void 0,!0,!0),i)throw TypeError("Reduce of empty map with no initial value");return o}}),qt({target:"Map",proto:!0,real:!0,forced:j},{some:function(t,e){var n=x(this),r=Pa(n),i=En(t,1<arguments.length?e:void 0,3);return On(r,(function(t,e){if(i(e,t,n))return On.stop()}),void 0,!0,!0).stopped}}),qt({target:"Map",proto:!0,real:!0,forced:j},{update:function(t,e,n){var r=x(this),i=arguments.length;bn(e);var o=r.has(t);if(!o&&i<3)throw TypeError("Updating absent value");var a=o?r.get(t):bn(2<i?n:void 0)(t,r);return r.set(t,e(a,t,r)),r}}),qt({target:"Map",proto:!0,real:!0,forced:j},{upsert:Ra}),qt({target:"Map",proto:!0,real:!0,forced:j},{updateOrInsert:Ra}),_a("Set",(function(t){return function(e){return t(this,arguments.length?e:void 0)}}),Na),ne.Set,qt({target:"Set",stat:!0},{from:Ea}),qt({target:"Set",stat:!0},{of:Oa}),qt({target:"Set",proto:!0,real:!0,forced:j},{addAll:function(){return function(){for(var t=x(this),e=bn(t.add),n=0,r=arguments.length;n<r;n++)e.call(t,arguments[n]);return t}.apply(this,arguments)}}),qt({target:"Set",proto:!0,real:!0,forced:j},{deleteAll:function(){return xa.apply(this,arguments)}}),qt({target:"Set",proto:!0,real:!0,forced:j},{every:function(t,e){var n=x(this),r=Da(n),i=En(t,1<arguments.length?e:void 0,3);return!On(r,(function(t){if(!i(t,t,n))return On.stop()}),void 0,!1,!0).stopped}}),qt({target:"Set",proto:!0,real:!0,forced:j},{difference:function(t){var e=x(this),n=new(Mn(e,Lt("Set")))(e),r=bn(n.delete);return On(t,(function(t){r.call(n,t)})),n}}),qt({target:"Set",proto:!0,real:!0,forced:j},{filter:function(t,e){var n=x(this),r=Da(n),i=En(t,1<arguments.length?e:void 0,3),o=new(Mn(n,Lt("Set"))),a=bn(o.add);return On(r,(function(t){i(t,t,n)&&a.call(o,t)}),void 0,!1,!0),o}}),qt({target:"Set",proto:!0,real:!0,forced:j},{find:function(t,e){var n=x(this),r=Da(n),i=En(t,1<arguments.length?e:void 0,3);return On(r,(function(t){if(i(t,t,n))return On.stop(t)}),void 0,!1,!0).result}}),qt({target:"Set",proto:!0,real:!0,forced:j},{intersection:function(t){var e=x(this),n=new(Mn(e,Lt("Set"))),r=bn(e.has),i=bn(n.add);return On(t,(function(t){r.call(e,t)&&i.call(n,t)})),n}}),qt({target:"Set",proto:!0,real:!0,forced:j},{isDisjointFrom:function(t){var e=x(this),n=bn(e.has);return!On(t,(function(t){if(!0===n.call(e,t))return On.stop()})).stopped}}),qt({target:"Set",proto:!0,real:!0,forced:j},{isSubsetOf:function(t){var e=function(t){var e=In(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return x(e.call(t))}(this),n=x(t),r=n.has;return"function"!=typeof r&&(n=new(Lt("Set"))(t),r=bn(n.has)),!On(e,(function(t){if(!1===r.call(n,t))return On.stop()}),void 0,!1,!0).stopped}}),qt({target:"Set",proto:!0,real:!0,forced:j},{isSupersetOf:function(t){var e=x(this),n=bn(e.has);return!On(t,(function(t){if(!1===n.call(e,t))return On.stop()})).stopped}}),qt({target:"Set",proto:!0,real:!0,forced:j},{join:function(t){var e=Da(x(this)),n=void 0===t?",":String(t),r=[];return On(e,r.push,r,!1,!0),r.join(n)}}),qt({target:"Set",proto:!0,real:!0,forced:j},{map:function(t,e){var n=x(this),r=Da(n),i=En(t,1<arguments.length?e:void 0,3),o=new(Mn(n,Lt("Set"))),a=bn(o.add);return On(r,(function(t){a.call(o,i(t,t,n))}),void 0,!1,!0),o}}),qt({target:"Set",proto:!0,real:!0,forced:j},{reduce:function(t,e){var n=x(this),r=Da(n),i=arguments.length<2,o=i?void 0:e;if(bn(t),On(r,(function(e){o=i?(i=!1,e):t(o,e,e,n)}),void 0,!1,!0),i)throw TypeError("Reduce of empty set with no initial value");return o}}),qt({target:"Set",proto:!0,real:!0,forced:j},{some:function(t,e){var n=x(this),r=Da(n),i=En(t,1<arguments.length?e:void 0,3);return On(r,(function(t){if(i(t,t,n))return On.stop()}),void 0,!1,!0).stopped}}),qt({target:"Set",proto:!0,real:!0,forced:j},{symmetricDifference:function(t){var e=x(this),n=new(Mn(e,Lt("Set")))(e),r=bn(n.delete),i=bn(n.add);return On(t,(function(t){r.call(n,t)||i.call(n,t)})),n}}),qt({target:"Set",proto:!0,real:!0,forced:j},{union:function(t){var e=x(this),n=new(Mn(e,Lt("Set")))(e);return On(t,bn(n.add),n),n}});var La=Math.floor;qt({target:"Number",stat:!0},{isInteger:function(t){return!N(t)&&isFinite(t)&&La(t)===t}}),ne.Number.isInteger,qt({target:"Number",stat:!0},{isNaN:function(t){return t!=t}}),ne.Number.isNaN;var Ma=function(t,e){return(Ma=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function Fa(t,e){function n(){this.constructor=t}Ma(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Ua=function(){return(Ua=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function ja(t,e,n,r){return new(n=n||Promise)((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):((e=t.value)instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function Va(t,e){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=0<(i=o.trys).length&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(t,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function qa(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ba(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function za(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Ba(arguments[e]));return t}function Ga(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function Wa(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:(i<2048?e[n++]=i>>6|192:(55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128):e[n++]=i>>12|224,e[n++]=i>>6&63|128),e[n++]=63&i|128)}return e}function Ha(t){try{return $a.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null}var Ka=!1,Qa="${JSCORE_VERSION}",Ya=function(t,e){if(!t)throw Xa(e)},Xa=function(t){return new Error("Firebase Database ("+Qa+") INTERNAL ASSERT FAILED: "+t)},$a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=o>>2,h=(3&o)<<4|s>>4,f=(15&s)<<2|c>>6,p=63&c;u||(p=64,a||(f=64)),r.push(n[l],n[h],n[f],n[p])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Wa(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i,o,a,s=t[n++];s<128?e[r++]=String.fromCharCode(s):191<s&&s<224?(o=t[n++],e[r++]=String.fromCharCode((31&s)<<6|63&o)):239<s&&s<365?(i=((7&s)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536,e[r++]=String.fromCharCode(55296+(i>>10)),e[r++]=String.fromCharCode(56320+(1023&i))):(o=t[n++],a=t[n++],e[r++]=String.fromCharCode((15&s)<<12|(63&o)<<6|63&a))}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c,l,h=o<<2|a>>4;r.push(h),64!==s&&(c=a<<4&240|s>>2,r.push(c),64!==u&&(l=s<<6&192|u,r.push(l)))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),(this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t)>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};function Ja(t){return Za(void 0,t)}function Za(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=Za(t[n],e[n]));return t}var ts=(es.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},es);function es(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}function ns(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function rs(){return"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ns())}function is(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function os(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function as(){return!0===Ka}function ss(){return"indexedDB"in self&&null!=indexedDB}function us(){return new Promise((function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||window.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(t){e(t)}}))}function cs(){return!(!navigator||!navigator.cookieEnabled)}var ls,hs=(Fa(fs,ls=Error),fs);function fs(t,e){var n=ls.call(this,e)||this;return n.code=t,n.name="FirebaseError",Object.setPrototypeOf(n,fs.prototype),Error.captureStackTrace&&Error.captureStackTrace(n,ps.prototype.create),n}var ps=(ds.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r,i=e[0]||{},o=this.service+"/"+t,a=this.errors[t],s=a?(r=i,a.replace(vs,(function(t,e){var n=r[e];return null!=n?String(n):"<"+e+"?>"}))):"Error",u=this.serviceName+": "+s+" ("+o+").",c=new hs(o,u),l=0,h=Object.keys(i);l<h.length;l++){var f=h[l];"_"!==f.slice(-1)&&(f in c&&console.warn('Overwriting FirebaseError base field "'+f+'" can cause unexpected behavior.'),c[f]=i[f])}return c},ds);function ds(t,e,n){this.service=t,this.serviceName=e,this.errors=n}var vs=/\{\$([^}]+)}/g;function ys(t){return JSON.parse(t)}function gs(t){return JSON.stringify(t)}function ms(t){var e={},n={},r={},i="";try{var o=t.split(".");e=ys(Ha(o[0])||""),n=ys(Ha(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(t){}return{header:e,claims:n,data:r,signature:i}}function bs(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ws(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function _s(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Es(t,e,n){var r,i={};for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=e.call(n,t[r],r,t));return i}var Is=(Ts.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},Ts.prototype.compress_=function(t,e){e=e||0;var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++)a=r<40?r<20?(o=l^u&(c^l),1518500249):(o=u^c^l,1859775393):r<60?(o=u&c|l&(u|c),2400959708):(o=u^c^l,3395469782),i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295,h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i;this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},Ts.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},Ts.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;56<=n;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;0<=i;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},Ts);function Ts(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}function Ss(t,e){var n=new Cs(t,e);return n.subscribe.bind(n)}var Cs=(As.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},As.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},As.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},As.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=ks),void 0===r.error&&(r.error=ks),void 0===r.complete&&(r.complete=ks);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},As.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],--this.observerCount,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},As.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},As.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))},As.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},As);function As(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}function ks(){}function Ns(t,e,n,r){var i;if(r<e?i="at least "+e:n<r&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")}function Os(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+r+" argument "}function xs(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(Os(t,e,r)+"must be a valid function.")}function Ps(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(Os(t,e,r)+"must be a valid context object.")}function Rs(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:55296<=r&&r<=56319?(e+=4,n++):e+=3}return e}function Ds(t,e,n){void 0===e&&(e=1e3),void 0===n&&(n=2);var r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}var Ls=(Ms.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},Ms.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},Ms.prototype.setServiceProps=function(t){return this.serviceProps=t,this},Ms);function Ms(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}var Fs="[DEFAULT]",Us=(js.prototype.get=function(t){void 0===t&&(t=Fs);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new ts;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(t){}}return this.instancesDeferred.get(e).promise},js.prototype.getImmediate=function(t){var e=Ua({identifier:Fs,optional:!1},t),n=e.identifier,r=e.optional,i=this.normalizeInstanceIdentifier(n);try{var o=this.getOrInitializeService(i);if(o)return o;if(r)return null;throw Error("Service "+this.name+" is not available")}catch(t){if(r)return null;throw t}},js.prototype.getComponent=function(){return this.component},js.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if("EAGER"===(this.component=t).instantiationMode)try{this.getOrInitializeService(Fs)}catch(t){}try{for(var r=qa(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=Ba(i.value,2),a=o[0],s=o[1],u=this.normalizeInstanceIdentifier(a);try{var c=this.getOrInitializeService(u);s.resolve(c)}catch(t){}}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},js.prototype.clearInstance=function(t){void 0===t&&(t=Fs),this.instancesDeferred.delete(t),this.instances.delete(t)},js.prototype.delete=function(){return ja(this,void 0,void 0,(function(){var t;return Va(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(za(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},js.prototype.isComponentSet=function(){return null!=this.component},js.prototype.getOrInitializeService=function(t){var e,n=this.instances.get(t);return!n&&this.component&&(n=this.component.instanceFactory(this.container,(e=t)===Fs?void 0:e),this.instances.set(t,n)),n||null},js.prototype.normalizeInstanceIdentifier=function(t){return!this.component||this.component.multipleInstances?t:Fs},js);function js(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}var Vs,qs=(Bs.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},Bs.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},Bs.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new Us(t,this);return this.providers.set(t,e),e},Bs.prototype.getProviders=function(){return Array.from(this.providers.values())},Bs);function Bs(t){this.name=t,this.providers=new Map}function zs(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var Gs,Ws,Hs=[];function Ks(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=$s[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,zs(["["+i+"]  "+t.name+":"],n))}}(Ws=Gs=Gs||{})[Ws.DEBUG=0]="DEBUG",Ws[Ws.VERBOSE=1]="VERBOSE",Ws[Ws.INFO=2]="INFO",Ws[Ws.WARN=3]="WARN",Ws[Ws.ERROR=4]="ERROR",Ws[Ws.SILENT=5]="SILENT";var Qs,Ys={debug:Gs.DEBUG,verbose:Gs.VERBOSE,info:Gs.INFO,warn:Gs.WARN,error:Gs.ERROR,silent:Gs.SILENT},Xs=Gs.INFO,$s=((Vs={})[Gs.DEBUG]="log",Vs[Gs.VERBOSE]="log",Vs[Gs.INFO]="info",Vs[Gs.WARN]="warn",Vs[Gs.ERROR]="error",Vs),Js=(Object.defineProperty(Zs.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in Gs))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),Zs.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?Ys[t]:t},Object.defineProperty(Zs.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(Zs.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),Zs.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,zs([this,Gs.DEBUG],t)),this._logHandler.apply(this,zs([this,Gs.DEBUG],t))},Zs.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,zs([this,Gs.VERBOSE],t)),this._logHandler.apply(this,zs([this,Gs.VERBOSE],t))},Zs.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,zs([this,Gs.INFO],t)),this._logHandler.apply(this,zs([this,Gs.INFO],t))},Zs.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,zs([this,Gs.WARN],t)),this._logHandler.apply(this,zs([this,Gs.WARN],t))},Zs.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,zs([this,Gs.ERROR],t)),this._logHandler.apply(this,zs([this,Gs.ERROR],t))},Zs);function Zs(t){this.name=t,this._logLevel=Xs,this._logHandler=Ks,this._userLogHandler=null,Hs.push(this)}function tu(t){Hs.forEach((function(e){e.setLogLevel(t)}))}var eu,nu=((Qs={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Qs["bad-app-name"]="Illegal App name: '{$appName}",Qs["duplicate-app"]="Firebase App named '{$appName}' already exists",Qs["app-deleted"]="Firebase App named '{$appName}' already deleted",Qs["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Qs["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Qs),ru=new ps("app","Firebase",nu),iu="@firebase/app",ou="[DEFAULT]",au=((eu={})[iu]="fire-core",eu["@firebase/analytics"]="fire-analytics",eu["@firebase/auth"]="fire-auth",eu["@firebase/database"]="fire-rtdb",eu["@firebase/functions"]="fire-fn",eu["@firebase/installations"]="fire-iid",eu["@firebase/messaging"]="fire-fcm",eu["@firebase/performance"]="fire-perf",eu["@firebase/remote-config"]="fire-rc",eu["@firebase/storage"]="fire-gcs",eu["@firebase/firestore"]="fire-fst",eu["fire-js"]="fire-js",eu["firebase-wrapper"]="fire-js-all",eu),su=new Js("@firebase/app"),uu=(Object.defineProperty(cu.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(cu.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(cu.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),cu.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},cu.prototype._getService=function(t,e){return void 0===e&&(e=ou),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},cu.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=ou),this.container.getProvider(t).clearInstance(e)},cu.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(i){su.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,i)}},cu.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},cu.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw ru.create("app-deleted",{appName:this.name_})},cu);function cu(t,e,n){var r,i,o=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Ja(t),this.container=new qs(e.name),this._addComponent(new Ls("app",(function(){return o}),"PUBLIC"));try{for(var a=qa(this.firebase_.INTERNAL.components.values()),s=a.next();!s.done;s=a.next()){var u=s.value;this._addComponent(u)}}catch(t){r={error:t}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}}uu.prototype.name&&uu.prototype.options||uu.prototype.delete||console.log("dc");var lu,hu=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=ou);var a=o.name;if("string"!=typeof a||!a)throw ru.create("bad-app-name",{appName:String(a)});if(bs(e,a))throw ru.create("duplicate-app",{appName:a});var s=new t(n,o,r);return e[a]=s},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=au[t])&&void 0!==r?r:t;n&&(i+="-"+n);var a=i.match(/\s|\//),s=e.match(/\s|\//);if(a||s){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return a&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&s&&u.push("and"),s&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void su.warn(u.join(" "))}o(new Ls(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:tu,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw ru.create("invalid-log-argument",{appName:name});!function(t,e){for(var n=0,r=Hs;n<r.length;n++)!function(n){var r=null;e&&e.level&&(r=Ys[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:Gs[n].toLowerCase(),message:a,args:i,type:e.name})}}(r[n])}(t,e)},apps:null,SDK_VERSION:"7.22.1",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(!bs(e,t=t||ou))throw ru.create("no-app",{appName:t});return e[t]}function o(o){var a,s,u,c=o.name;if(n.has(c))return su.debug("There were multiple attempts to register component "+c+"."),"PUBLIC"===o.type?r[c]:null;n.set(c,o),"PUBLIC"===o.type&&(u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[c])throw ru.create("invalid-app-argument",{appName:c});return t[c]()},void 0!==o.serviceProps&&Za(u,o.serviceProps),r[c]=u,t.prototype[c]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,c).apply(this,o.multipleInstances?t:[])});try{for(var l=qa(Object.keys(e)),h=l.next();!h.done;h=l.next()){var f=h.value;e[f]._addComponent(o)}}catch(s){a={error:s}}finally{try{h&&!h.done&&(s=l.return)&&s.call(l)}finally{if(a)throw a.error}}return"PUBLIC"===o.type?r[c]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(uu);return e.INTERNAL=Ua(Ua({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Za(e,t)},createSubscribe:Ss,ErrorFactory:ps,deepExtend:Za}),e}(),fu=(pu.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if("VERSION"!==(null==(e=t.getComponent())?void 0:e.type))return null;var e,n=t.getImmediate();return n.library+"/"+n.version})).filter((function(t){return t})).join(" ")},pu);function pu(t){this.container=t}"object"==typeof self&&self.self===self&&void 0!==self.firebase&&(su.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  "),(lu=self.firebase.SDK_VERSION)&&0<=lu.indexOf("LITE")&&su.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    "));var du=hu.initializeApp;hu.initializeApp=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return function(){try{return"[object process]"===Object.prototype.toString.call(e.process)}catch(t){return}}()&&su.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),du.apply(void 0,t)};var vu,yu=hu;(vu=yu).INTERNAL.registerComponent(new Ls("platform-logger",(function(t){return new fu(t)}),"PRIVATE")),vu.registerVersion(iu,"0.6.11",void 0),vu.registerVersion("fire-js",""),yu.registerVersion("firebase","7.22.1","app"),function(){var t,n="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},r=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof e&&e,t];for(var n=0;n<t.length;++n){var r=t[n];if(r&&r.Math==Math)return r}return globalThis}(this);function i(t){var e,n,r="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return r?r.call(t):{next:(e=t,n=0,function(){return n<e.length?{done:!1,value:e[n++]}:{done:!0}})}}!function(t,e){if(e){var i=r;t=t.split(".");for(var o=0;o<t.length-1;o++){var a=t[o];a in i||(i[a]={}),i=i[a]}(e=e(o=i[t=t[t.length-1]]))!=o&&null!=e&&n(i,t,{configurable:!0,writable:!0,value:e})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function n(){this.a=null}function o(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;n.prototype.b=function(t){var e;null==this.a&&(this.a=[],(e=this).c((function(){e.g()}))),this.a.push(t)};var a=r.setTimeout;n.prototype.c=function(t){a(t,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(t){this.f(t)}}}this.a=null},n.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.u(t):this.h(t)}},e.prototype.u=function(t){var e=void 0;try{e=t.then}catch(t){return void this.g(t)}"function"==typeof e?this.w(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)s.b(this.a[t]);this.a=null}};var s=new n;return e.prototype.s=function(t){var e=this.f();t.Oa(e.resolve,e.reject)},e.prototype.w=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(t){n.reject(t)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(e){o(e)}}:e}var i,o,a=new e((function(t,e){i=t,o=e}));return this.Oa(r(t,i),r(n,o)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Oa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},e.resolve=o,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=i(t),a=r.next();!a.done;a=r.next())o(a.value).Oa(e,n)}))},e.all=function(t){var n=i(t),r=n.next();return r.done?o([]):new e((function(t,e){for(var i=[],a=0;i.push(void 0),a++,o(r.value).Oa(function(e){return function(n){i[e]=n,0==--a&&t(i)}}(i.length-1),e),!(r=n.next()).done;);}))},e}));var o=o||{},a=this||self,s=/^[\w+/_-]+[=]{0,2}$/,u=null;function c(){}function l(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function h(t){var e=l(t);return"array"==e||"object"==e&&"number"==typeof t.length}function f(t){return"function"==l(t)}function p(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var d="closure_uid_"+(1e9*Math.random()>>>0),v=0;function y(t,e,n){return t.call.apply(t.bind,arguments)}function g(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function m(t,e,n){return(m=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:g).apply(null,arguments)}function b(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var w=Date.now||function(){return+new Date};function _(t,e){function n(){}n.prototype=e.prototype,t.Za=e.prototype,t.prototype=new n,t.prototype.constructor=t}function E(t,e,n){this.code=S+t,this.message=e||C[t]||"",this.a=n||null}function I(t){var e=t&&t.code;return e?new E(e.substring(S.length),t.message,t.serverResponse):null}_(E,Error),E.prototype.v=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},E.prototype.toJSON=function(){return this.v()};var T,S="auth/",C={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},A={hd:{Ra:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},pd:{Ra:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://securetoken.googleapis.com/v1/token",Ua:"https://identitytoolkit.googleapis.com/v2/",id:"p"},rd:{Ra:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},sd:{Ra:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Xa:"https://test-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function k(t){for(var e in A)if(A[e].id===t)return{firebaseEndpoint:(t=A[e]).Ra,secureTokenEndpoint:t.Xa,identityPlatformEndpoint:t.Ua};return null}function N(t){if(t)try{return t.$goog_Thenable}catch(t){return}}function O(t){var e;Error.captureStackTrace?Error.captureStackTrace(this,O):(e=Error().stack)&&(this.stack=e),t&&(this.message=String(t))}function x(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");O.call(this,n+t[r])}function P(t,e){throw new x("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function R(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function D(t,e){t.f(e),t.b<100&&(t.b++,e.next=t.a,t.a=e)}function L(){this.b=this.a=null}T=k("__EID__")?"__EID__":void 0,_(O,Error),O.prototype.name="CustomError",_(x,O),x.prototype.name="AssertionError",R.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t};var M=new R((function(){return new F}),(function(t){t.reset()}));function F(){this.next=this.b=this.a=null}L.prototype.add=function(t,e){var n=M.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},F.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},F.prototype.reset=function(){this.next=this.b=this.a=null};var U=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},j=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},V=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n,r=t.length,i=[],o=0,a="string"==typeof t?t.split(""):t,s=0;s<r;s++)s in a&&(n=a[s],e.call(void 0,n,s,t)&&(i[o++]=n));return i},q=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},B=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function z(t,e){return 0<=U(t,e)}function G(t,e){var n;return(n=0<=(e=U(t,e)))&&Array.prototype.splice.call(t,e,1),n}function W(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&Array.prototype.splice.call(t,r,1).length}))}function H(t){return Array.prototype.concat.apply([],arguments)}function K(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var Q,Y=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},X=/&/g,$=/</g,J=/>/g,Z=/"/g,tt=/'/g,et=/\x00/g,nt=/[\x00&<>"']/;function rt(t,e){return-1!=t.indexOf(e)}function it(t,e){return t<e?-1:e<t?1:0}t:{var ot=a.navigator;if(ot){var at=ot.userAgent;if(at){Q=at;break t}}Q=""}function st(t){return rt(Q,t)}function ut(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function ct(t){for(var e in t)return;return 1}function lt(t){var e,n={};for(e in t)n[e]=t[e];return n}var ht="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ft(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<ht.length;o++)n=ht[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function pt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||a).Element&&r.Location){var i=r;break t}}catch(t){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(p(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(t){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;P("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function dt(t,e){this.a=t===gt&&e||"",this.b=yt}function vt(t){return t instanceof dt&&t.constructor===dt&&t.b===yt?t.a:(P("expected object of type Const, got '"+t+"'"),"type_error:Const")}dt.prototype.ra=!0,dt.prototype.qa=function(){return this.a},dt.prototype.toString=function(){return"Const{"+this.a+"}"};var yt={},gt={},mt=new dt(gt,"");function bt(t,e){this.a=t===St&&e||"",this.b=Tt}function wt(t){return t instanceof bt&&t.constructor===bt&&t.b===Tt?t.a:(P("expected object of type TrustedResourceUrl, got '"+t+"' of type "+l(t)),"type_error:TrustedResourceUrl")}function _t(t,e){var n=vt(t);if(!It.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return t=n.replace(Et,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof dt?vt(t):encodeURIComponent(String(t))})),new bt(St,t)}bt.prototype.ra=!0,bt.prototype.qa=function(){return this.a.toString()},bt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Et=/%{(\w+)}/g,It=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Tt={},St={};function Ct(t,e){this.a=t===xt&&e||"",this.b=Ot}function At(t){return t instanceof Ct&&t.constructor===Ct&&t.b===Ot?t.a:(P("expected object of type SafeUrl, got '"+t+"' of type "+l(t)),"type_error:SafeUrl")}Ct.prototype.ra=!0,Ct.prototype.qa=function(){return this.a.toString()},Ct.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var kt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Nt(t){return t instanceof Ct?t:(t="object"==typeof t&&t.ra?t.qa():String(t),kt.test(t)||(t="about:invalid#zClosurez"),new Ct(xt,t))}var Ot={},xt={};function Pt(){this.a="",this.b=Dt}function Rt(t){return t instanceof Pt&&t.constructor===Pt&&t.b===Dt?t.a:(P("expected object of type SafeHtml, got '"+t+"' of type "+l(t)),"type_error:SafeHtml")}Pt.prototype.ra=!0,Pt.prototype.qa=function(){return this.a.toString()},Pt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Dt={};function Lt(t){var e=new Pt;return e.a=t,e}Lt("<!DOCTYPE html>");var Mt=Lt("");function Ft(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Ut(t){return nt.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(X,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace($,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(J,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(Z,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(tt,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(et,"&#0;"))),t}function jt(t){return jt[" "](t),t}Lt("<br>"),jt[" "]=c;var Vt,qt,Bt=st("Opera"),zt=st("Trident")||st("MSIE"),Gt=st("Edge"),Wt=Gt||zt,Ht=st("Gecko")&&!(rt(Q.toLowerCase(),"webkit")&&!st("Edge"))&&!(st("Trident")||st("MSIE"))&&!st("Edge"),Kt=rt(Q.toLowerCase(),"webkit")&&!st("Edge");function Qt(){var t=a.document;return t?t.documentMode:void 0}t:{var Yt="",Xt=(qt=Q,Ht?/rv:([^\);]+)(\)|;)/.exec(qt):Gt?/Edge\/([\d\.]+)/.exec(qt):zt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(qt):Kt?/WebKit\/(\S+)/.exec(qt):Bt?/(?:Version)[ \/]?(\S+)/.exec(qt):void 0);if(Xt&&(Yt=Xt?Xt[1]:""),zt){var $t=Qt();if(null!=$t&&$t>parseFloat(Yt)){Vt=String($t);break t}}Vt=Yt}var Jt,Zt={};function te(t){return e=t,n=function(){for(var e=0,n=Y(String(Vt)).split("."),r=Y(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=it(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||it(0==a[2].length,0==s[2].length)||it(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e},r=Zt,Object.prototype.hasOwnProperty.call(r,e)?r[e]:r[e]=n();var e,n,r}Jt=a.document&&zt?Qt():void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(t){}var ee=!zt||9<=Number(Jt);function ne(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function re(t,e){ut(e,(function(e,n){e&&"object"==typeof e&&e.ra&&(e=e.qa()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:ae.hasOwnProperty(n)?t.setAttribute(ae[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var ie,oe,ae={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function se(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function ue(t){a.setTimeout((function(){throw t}),0)}function ce(t,e){oe||function(){var t;oe=a.Promise&&a.Promise.resolve?(t=a.Promise.resolve(void 0),function(){t.then(fe)}):function(){var t=fe;!f(a.setImmediate)||a.Window&&a.Window.prototype&&!st("Edge")&&a.Window.prototype.setImmediate==a.setImmediate?(ie=ie||function(){var t=a.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!st("Presto")&&(t=function(){var t,e,n=se(document,"IFRAME");n.style.display="none",t=n,e=new bt(St,vt(mt)),pt(t,"HTMLIFrameElement"),t.src=wt(e).toString(),document.documentElement.appendChild(n);var r=n.contentWindow;(n=r.document).open(),n.write(Rt(Mt)),n.close();var i="callImmediate"+Math.random(),o="file:"==r.location.protocol?"*":r.location.protocol+"//"+r.location.host;n=m((function(t){"*"!=o&&t.origin!=o||t.data!=i||this.port1.onmessage()}),this),r.addEventListener("message",n,!1),this.port1={},this.port2={postMessage:function(){r.postMessage(i,o)}}}),void 0===t||st("Trident")||st("MSIE"))return function(t){a.setTimeout(t,0)};var e=new t,n={},r=n;return e.port1.onmessage=function(){var t;void 0!==n.next&&(t=(n=n.next).Db,n.Db=null,t())},function(t){r.next={Db:t},r=r.next,e.port2.postMessage(0)}}())(t):a.setImmediate(t)}}(),le||(oe(),le=!0),he.add(t,e)}var le=!1,he=new L;function fe(){for(var t,e,n;n=e=void 0,n=null,(e=he).a&&(n=e.a,e.a=e.a.next,e.a||(e.b=null),n.next=null),t=n;){try{t.a.call(t.b)}catch(t){ue(t)}D(M,t)}le=!1}function pe(t,e){if(this.a=de,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=c)try{var n=this;t.call(e,(function(t){Ce(n,ve,t)}),(function(t){if(!(t instanceof Re))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}Ce(n,ye,t)}))}catch(t){Ce(this,ye,t)}}var de=0,ve=2,ye=3;function ge(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}ge.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var me=new R((function(){return new ge}),(function(t){t.reset()}));function be(t,e,n){var r=me.get();return r.g=t,r.b=e,r.f=n,r}function we(t){if(t instanceof pe)return t;var e=new pe(c);return Ce(e,ve,t),e}function _e(t){return new pe((function(e,n){n(t)}))}function Ee(t,e,n){Ae(t,e,n,null)||ce(b(e,t))}function Ie(t){return new pe((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Mb:!0,value:o}:{Mb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Ee(t[o],b(i,o,!0),b(i,o,!1));else e(r)}))}function Te(t,e){t.b||t.a!=ve&&t.a!=ye||ke(t),t.f?t.f.next=e:t.b=e,t.f=e}function Se(t,e,n,r){var i=be(null,null,null);return i.a=new pe((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(n){o(n)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Re?o(e):t(i)}catch(e){o(e)}}:o})),Te(i.a.c=t,i),i.a}function Ce(t,e,n){var r,i;t.a==de&&(t===n&&(e=ye,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Ae(n,t.Yc,t.Zc,t)||(t.i=n,t.a=e,t.c=null,ke(t),e!=ye||n instanceof Re||(i=n,(r=t).g=!0,ce((function(){r.g&&Pe.call(null,i)})))))}function Ae(t,e,n,r){if(t instanceof pe)return Te(t,be(e||c,n||null,r)),1;if(N(t))return t.then(e,n,r),1;if(p(t))try{var i=t.then;if(f(i))return function(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}var a=!1;try{e.call(t,(function(t){a||(a=!0,n.call(i,t))}),o)}catch(t){o(t)}}(t,i,e,n,r),1}catch(t){return n.call(r,t),1}}function ke(t){t.h||(t.h=!0,ce(t.ec,t))}function Ne(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function Oe(t,e,n,r){if(n==ye&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,xe(e,n,r);else try{e.c?e.g.call(e.f):xe(e,n,r)}catch(t){Pe.call(null,t)}D(me,e)}function xe(t,e,n){e==ve?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}pe.prototype.then=function(t,e,n){return Se(this,f(t)?t:null,f(e)?e:null,n)},pe.prototype.$goog_Thenable=!0,(t=pe.prototype).ma=function(t,e){return(t=be(t,t,e)).c=!0,Te(this,t),this},t.o=function(t,e){return Se(this,null,t,e)},t.cancel=function(t){var e;this.a==de&&(e=new Re(t),ce((function(){!function t(e,n){if(e.a==de)if(e.c){var r=e.c;if(r.b){for(var i=0,o=null,a=null,s=r.b;s&&(s.c||(i++,s.a==e&&(o=s),!(o&&1<i)));s=s.next)o||(a=s);o&&(r.a==de&&1==i?t(r,n):(a?((i=a).next==r.f&&(r.f=i),i.next=i.next.next):Ne(r),Oe(r,o,ye,n)))}e.c=null}else Ce(e,ye,n)}(this,e)}),this))},t.Yc=function(t){this.a=de,Ce(this,ve,t)},t.Zc=function(t){this.a=de,Ce(this,ye,t)},t.ec=function(){for(var t;t=Ne(this);)Oe(this,t,this.a,this.i);this.h=!1};var Pe=ue;function Re(t){O.call(this,t)}function De(){this.wa=this.wa,this.na=this.na}function Le(t){var e;t.wa||(t.wa=!0,t.Ba(),1)||(e=t,Object.prototype.hasOwnProperty.call(e,d)&&e[d]||(e[d]=++v))}_(Re,O),De.prototype.wa=!(Re.prototype.name="cancel"),De.prototype.Ba=function(){if(this.na)for(;this.na.length;)this.na.shift()()};var Me=Object.freeze||function(t){return t},Fe=!zt||9<=Number(Jt),Ue=zt&&!te("9"),je=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",c,e),a.removeEventListener("test",c,e)}catch(t){}return t}();function Ve(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function qe(t,e){if(Ve.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Ht){t:{try{jt(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Be[t.pointerType]||"",(this.a=t).defaultPrevented&&this.preventDefault()}}Ve.prototype.preventDefault=function(){this.defaultPrevented=!0},_(qe,Ve);var Be=Me({2:"touch",3:"pen",4:"mouse"});qe.prototype.preventDefault=function(){qe.Za.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ue)try{(t.ctrlKey||112<=t.keyCode&&t.keyCode<=123)&&(t.keyCode=-1)}catch(t){}},qe.prototype.f=function(){return this.a};var ze="closure_listenable_"+(1e6*Math.random()|0),Ge=0;function We(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Ta=i,this.key=++Ge,this.ua=this.Na=!1}function He(t){t.ua=!0,t.listener=null,t.proxy=null,t.src=null,t.Ta=null}function Ke(t){this.src=t,this.a={},this.b=0}function Qe(t,e){var n=e.type;n in t.a&&G(t.a[n],e)&&(He(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function Ye(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ua&&o.listener==e&&o.capture==!!n&&o.Ta==r)return i}return-1}Ke.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=Ye(t,e,r,i);return-1<a?(e=t[a],n||(e.Na=!1)):((e=new We(e,this.src,o,!!r,i)).Na=n,t.push(e)),e};var Xe="closure_lm_"+(1e6*Math.random()|0),$e={};function Je(t,e,n,r,i){if(r&&r.once)tn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)Je(t,e[o],n,r,i);else n=ln(n),t&&t[ze]?fn(t,e,n,p(r)?!!r.capture:!!r,i):Ze(t,e,n,!1,r,i)}function Ze(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a,s,u=p(i)?!!i.capture:!!i,c=un(t);if(c||(t[Xe]=c=new Ke(t)),!(n=c.add(e,n,r,u,o)).proxy)if(a=sn,r=s=Fe?function(t){return a.call(s.src,s.listener,t)}:function(t){if(!(t=a.call(s.src,s.listener,t)))return t},(n.proxy=r).src=t,r.listener=n,t.addEventListener)je||(i=u),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(rn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function tn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)tn(t,e[o],n,r,i);else n=ln(n),t&&t[ze]?pn(t,e,n,p(r)?!!r.capture:!!r,i):Ze(t,e,n,!0,r,i)}function en(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)en(t,e[o],n,r,i);else r=p(r)?!!r.capture:!!r,n=ln(n),t&&t[ze]?(t=t.u,(e=String(e).toString())in t.a&&-1<(n=Ye(o=t.a[e],n,r,i))&&(He(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):(t=t&&un(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Ye(e,n,r,i)),(n=-1<t?e[t]:null)&&nn(n))}function nn(t){var e,n,r;"number"!=typeof t&&t&&!t.ua&&((e=t.src)&&e[ze]?Qe(e.u,t):(n=t.type,r=t.proxy,e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(rn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=un(e))?(Qe(n,t),0==n.b&&(n.src=null,e[Xe]=null)):He(t)))}function rn(t){return t in $e?$e[t]:$e[t]="on"+t}function on(t,e,n,r){var i=!0;if((t=un(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.ua&&(o=an(o,r),i=i&&!1!==o)}return i}function an(t,e){var n=t.listener,r=t.Ta||t.src;return t.Na&&nn(t),n.call(r,e)}function sn(t,e){if(t.ua)return!0;if(Fe)return an(t,new qe(e,this));if(!e)t:{e=["window","event"];for(var n=a,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new qe(r=e,this),n=!0,!(r.keyCode<0||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){i=!0}!i&&null!=r.returnValue||(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=on(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=on(r[i],t,!1,e),n=n&&o}return n}function un(t){return(t=t[Xe])instanceof Ke?t:null}var cn="__closure_events_fn_"+(1e9*Math.random()>>>0);function ln(t){return f(t)?t:(t[cn]||(t[cn]=function(e){return t.handleEvent(e)}),t[cn])}function hn(){De.call(this),this.u=new Ke(this),(this.Yb=this).eb=null}function fn(t,e,n,r,i){t.u.add(String(e),n,!1,r,i)}function pn(t,e,n,r,i){t.u.add(String(e),n,!0,r,i)}function dn(t,e,n,r){if(!(e=t.u.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a,s,u=e[o];u&&!u.ua&&u.capture==n&&(a=u.listener,s=u.Ta||u.src,u.Na&&Qe(t.u,u),i=!1!==a.call(s,r)&&i)}return i&&!r.defaultPrevented}function vn(t,e,n){if(f(t))n&&(t=m(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=m(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function yn(t){var e=null;return new pe((function(n,r){-1==(e=vn((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).o((function(t){throw a.clearTimeout(e),t}))}function gn(t){if(t.V&&"function"==typeof t.V)return t.V();if("string"==typeof t)return t.split("");if(h(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function mn(t){if(t.X&&"function"==typeof t.X)return t.X();if(!t.V||"function"!=typeof t.V){if(h(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function bn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof bn)for(n=t.X(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function wn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];_n(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)_n(i,r=t.a[e])||(i[t.a[n++]=r]=1),e++;t.a.length=n}}function _n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}_(hn,De),hn.prototype[ze]=!0,hn.prototype.addEventListener=function(t,e,n,r){Je(this,t,e,n,r)},hn.prototype.removeEventListener=function(t,e,n,r){en(this,t,e,n,r)},hn.prototype.dispatchEvent=function(t){var e,n=this.eb;if(n)for(e=[];n;n=n.eb)e.push(n);n=this.Yb;var r=t.type||t;if("string"==typeof t?t=new Ve(t,n):t instanceof Ve?t.target=t.target||n:(a=t,ft(t=new Ve(r,n),a)),a=!0,e)for(var i=e.length-1;0<=i;i--)var o=t.b=e[i],a=dn(o,r,!0,t)&&a;if(a=dn(o=t.b=n,r,!0,t)&&a,a=dn(o,r,!1,t)&&a,e)for(i=0;i<e.length;i++)a=dn(o=t.b=e[i],r,!1,t)&&a;return a},hn.prototype.Ba=function(){if(hn.Za.Ba.call(this),this.u){var t,e=this.u;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)He(n[r]);delete e.a[t],e.b--}}this.eb=null},(t=bn.prototype).V=function(){wn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.X=function(){return wn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return _n(this.b,t)?this.b[t]:e},t.set=function(t,e){_n(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.X(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var En=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/\\#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function In(t,e){var n;this.b=this.i=this.f="",this.l=null,this.g=this.c="",this.h=!1,t instanceof In?(this.h=void 0!==e?e:t.h,Tn(this,t.f),this.i=t.i,this.b=t.b,Sn(this,t.l),this.c=t.c,Cn(this,Wn(t.a)),this.g=t.g):t&&(n=String(t).match(En))?(this.h=!!e,Tn(this,n[1]||"",!0),this.i=xn(n[2]||""),this.b=xn(n[3]||"",!0),Sn(this,n[4]),this.c=xn(n[5]||"",!0),Cn(this,n[6]||"",!0),this.g=xn(n[7]||"")):(this.h=!!e,this.a=new jn(null,this.h))}function Tn(t,e,n){t.f=n?xn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Sn(t,e){if(e){if(e=Number(e),isNaN(e)||e<0)throw Error("Bad port number "+e);t.l=e}else t.l=null}function Cn(t,e,n){var r,i;e instanceof jn?(t.a=e,r=t.a,(i=t.h)&&!r.f&&(Vn(r),r.c=null,r.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Bn(this,e),Gn(this,n,t))}),r)),r.f=i):(n||(e=Pn(e,Fn)),t.a=new jn(e,t.h))}function An(t,e,n){t.a.set(e,n)}function kn(t,e){return t.a.get(e)}function Nn(t){return t instanceof In?new In(t):new In(t,void 0)}function On(t,e){var n=new In(null,void 0);return Tn(n,"https"),t&&(n.b=t),e&&(n.c=e),n}function xn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Pn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Rn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Rn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}In.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Pn(e,Dn,!0),":");var n=this.b;return!n&&"file"!=e||(t.push("//"),(e=this.i)&&t.push(Pn(e,Dn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.l)&&t.push(":",String(n))),(n=this.c)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(Pn(n,"/"==n.charAt(0)?Mn:Ln,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.g)&&t.push("#",Pn(n,Un)),t.join("")},In.prototype.resolve=function(t){var e=new In(this),n=!!t.f;n?Tn(e,t.f):n=!!t.i,n?e.i=t.i:n=!!t.b,n?e.b=t.b:n=null!=t.l;var r,i=t.c;if(n)Sn(e,t.l);else if(n=!!t.c)if("/"!=i.charAt(0)&&(this.b&&!this.c?i="/"+i:-1!=(r=e.c.lastIndexOf("/"))&&(i=e.c.substr(0,r+1)+i)),".."==(r=i)||"."==r)i="";else if(rt(r,"./")||rt(r,"/.")){i=0==r.lastIndexOf("/",0),r=r.split("/");for(var o=[],a=0;a<r.length;){var s=r[a++];"."==s?i&&a==r.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),i&&a==r.length&&o.push("")):(o.push(s),i=!0)}i=o.join("/")}else i=r;return n?e.c=i:n=""!==t.a.toString(),n?Cn(e,Wn(t.a)):n=!!t.g,n&&(e.g=t.g),e};var Dn=/[#\/\?@]/g,Ln=/[#\?:]/g,Mn=/[#\?]/g,Fn=/[#\?@]/g,Un=/#/g;function jn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Vn(t){t.a||(t.a=new bn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r,i=t[n].indexOf("="),o=null;0<=i?(r=t[n].substring(0,i),o=t[n].substring(i+1)):r=t[n],e(r,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function qn(t){var e=mn(t);if(void 0===e)throw Error("Keys are undefined");var n=new jn(null,void 0);t=gn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?Gn(n,i,o):n.add(i,o)}return n}function Bn(t,e){Vn(t),e=Hn(t,e),_n(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,_n((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&wn(t)))}function zn(t,e){return Vn(t),e=Hn(t,e),_n(t.a.b,e)}function Gn(t,e,n){Bn(t,e),0<n.length&&(t.c=null,t.a.set(Hn(t,e),K(n)),t.b+=n.length)}function Wn(t){var e=new jn;return e.c=t.c,t.a&&(e.a=new bn(t.a),e.b=t.b),e}function Hn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function Kn(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(Array.isArray(n)){var i=n;n=i.length,r.push("[");for(var o="",a=0;a<n;a++)r.push(o),t(e,i[a],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&"function"!=typeof(a=n[i])&&(r.push(o),$n(i,r),r.push(":"),t(e,a,r),o=",");return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":$n(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new Qn,t,e),e.join("")}function Qn(){}(t=jn.prototype).add=function(t,e){Vn(this),this.c=null,t=Hn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Vn(this),this.a.forEach((function(n,r){j(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.X=function(){Vn(this);for(var t=this.a.V(),e=this.a.X(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.V=function(t){Vn(this);var e=[];if("string"==typeof t)zn(this,t)&&(e=H(e,this.a.get(Hn(this,t))));else{t=this.a.V();for(var n=0;n<t.length;n++)e=H(e,t[n])}return e},t.set=function(t,e){return Vn(this),this.c=null,zn(this,t=Hn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.V(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.X(),n=0;n<e.length;n++)for(var r=e[n],i=encodeURIComponent(String(r)),o=(r=this.V(r),0);o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}return this.c=t.join("&")};var Yn={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Xn=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function $n(t,e){e.push('"',t.replace(Xn,(function(t){var e=Yn[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),Yn[t]=e),e})),'"')}function Jn(){var t=yr();return zt&&Jt&&11==Jt||/Edge\/\d+/.test(t)}function Zn(){return a.window&&a.window.location.href||self&&self.location&&self.location.href||""}function tr(t,e){e=e||a.window;var n="about:blank";t&&(n=At(Nt(t))),e.location.href=n}function er(t){return!!((t=(t||yr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function nr(t){t=t||a.window;try{t.close()}catch(t){}}function rr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=yr().toLowerCase(),r&&(e.target=r,rt(n,"crios/")&&(e.target="_blank")),pr(yr())==fr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Ct?n:Nt(void 0!==n.href?n.href:String(n)),n=t.target||n.target,i=[],t)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(t[a]?1:0))}var a=i.join(",");if((st("iPhone")&&!st("iPod")&&!st("iPad")||st("iPad")||st("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(pt(a=se(document,"A"),"HTMLAnchorElement"),e instanceof Ct||e instanceof Ct||(e="object"==typeof e&&e.ra?e.qa():String(e),kt.test(e)||(e="about:invalid#zClosurez"),e=new Ct(xt,e)),a.href=At(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=r.open("",n,a),t=At(e),a&&(Wt&&rt(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,t=Lt('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ut(t)+'">'),r=a.document)&&(r.write(Rt(t)),r.close())):(a=r.open(At(e),n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(t){}return a}var ir=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,or=/^[^@]+@[^@]+$/;function ar(){var t=null;return new pe((function(e){"complete"==a.document.readyState?e():(t=function(){e()},tn(window,"load",t))})).o((function(e){throw en(window,"load",t),e}))}function sr(t){return t=t||yr(),!("file:"!==_r()&&"ionic:"!==_r()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function ur(){var t=a.window;try{return t&&t!=t.top}catch(t){return}}function cr(){return void 0!==a.WorkerGlobalScope&&"function"==typeof a.importScripts}function lr(){return yu.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":yu.INTERNAL.hasOwnProperty("node")?"Node":cr()?"Worker":"Browser"}function hr(){var t=lr();return"ReactNative"===t||"Node"===t}var fr="Firefox";function pr(t){var e=t.toLowerCase();return rt(e,"opera/")||rt(e,"opr/")||rt(e,"opios/")?"Opera":rt(e,"iemobile")?"IEMobile":rt(e,"msie")||rt(e,"trident/")?"IE":rt(e,"edge/")?"Edge":rt(e,"firefox/")?fr:rt(e,"silk/")?"Silk":rt(e,"blackberry")?"Blackberry":rt(e,"webos")?"Webos":!rt(e,"safari/")||rt(e,"chrome/")||rt(e,"crios/")||rt(e,"android")?!rt(e,"chrome/")&&!rt(e,"crios/")||rt(e,"edge/")?rt(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":"Chrome":"Safari"}var dr={jd:"FirebaseCore-web",ld:"FirebaseUI-web"};function vr(t,e){e=e||[];var n,r=[],i={};for(n in dr)i[dr[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=lr())?r=pr(i=yr()):"Worker"===r&&(r=pr(i=yr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function yr(){return a.navigator&&a.navigator.userAgent||""}function gr(t,e){t=t.split("."),e=e||a;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function mr(){try{var t=a.localStorage,e=Cr();if(t)return t.setItem(e,"1"),t.removeItem(e),!Jn()||!!a.indexedDB}catch(t){return cr()&&!!a.indexedDB}return!1}function br(){return(wr()||"chrome-extension:"===_r()||sr())&&!hr()&&mr()&&!cr()}function wr(){return"http:"===_r()||"https:"===_r()}function _r(){return a.location&&a.location.protocol||null}function Er(t){return!er(t=t||yr())&&pr(t)!=fr}function Ir(t){return void 0===t?null:Kn(t)}function Tr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function Sr(t){if(null!==t)return JSON.parse(t)}function Cr(t){return t||Math.floor(1e9*Math.random()).toString()}function Ar(t){return"Safari"!=pr(t=t||yr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function kr(){var t=a.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Nr(t,e){if(e<t)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=yr(),e=lr(),this.b=er(t)||"ReactNative"===e}function Or(){var t=a.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function xr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function Pr(){return gr("fireauth.oauthhelper",a)||gr("fireauth.iframe",a)}Nr.prototype.get=function(){var t=a.navigator;return!t||"boolean"!=typeof t.onLine||!wr()&&"chrome-extension:"!==_r()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Rr,Dr={};function Lr(t){Dr[t]||(Dr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Mr={};Object.defineProperty(Mr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Mr,"abcd",{configurable:!0,enumerable:!0,value:2}),Rr=2==Mr.abcd}catch(t){Rr=!1}function Fr(t,e,n){Rr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Ur(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Fr(t,n,e[n])}function jr(t){var e={};return Ur(e,t),e}function Vr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Fr(e,n,Vr(t[n]));return e}function qr(t){var e=t&&(t[Hr]?"phone":null);if(!(e&&t&&t[Wr]))throw new E("internal-error","Internal assert: invalid MultiFactorInfo object");Fr(this,"uid",t[Wr]),Fr(this,"displayName",t[zr]||null);var n=null;t[Gr]&&(n=new Date(t[Gr]).toUTCString()),Fr(this,"enrollmentTime",n),Fr(this,"factorId",e)}function Br(t){try{var e=new Kr(t)}catch(t){e=null}return e}qr.prototype.v=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var zr="displayName",Gr="enrolledAt",Wr="mfaEnrollmentId",Hr="phoneInfo";function Kr(t){qr.call(this,t),Fr(this,"phoneNumber",t[Hr])}function Qr(t){var e={},n=t[Jr],r=t[ti],i=t[ei];if(t=Br(t[Zr]),!i||i!=Xr&&i!=$r&&!n||i==$r&&!r||i==Yr&&!t)throw Error("Invalid checkActionCode response!");i==$r?(e[ri]=n||null,e[oi]=n||null,e[ni]=r):(e[ri]=r||null,e[oi]=r||null,e[ni]=n||null),e[ii]=t||null,Fr(this,si,i),Fr(this,ai,Vr(e))}_(Kr,qr),Kr.prototype.v=function(){var t=Kr.Za.v.call(this);return t.phoneNumber=this.phoneNumber,t};var Yr="REVERT_SECOND_FACTOR_ADDITION",Xr="EMAIL_SIGNIN",$r="VERIFY_AND_CHANGE_EMAIL",Jr="email",Zr="mfaInfo",ti="newEmail",ei="requestType",ni="email",ri="fromEmail",ii="multiFactorInfo",oi="previousEmail",ai="data",si="operation";function ui(t){var e=kn(t=Nn(t),ci)||null,n=kn(t,li)||null,r=(r=kn(t,pi)||null)&&vi[r]||null;if(!e||!n||!r)throw new E("argument-error",ci+", "+li+"and "+pi+" are required in a valid action code URL.");Ur(this,{apiKey:e,operation:r,code:n,continueUrl:kn(t,hi)||null,languageCode:kn(t,fi)||null,tenantId:kn(t,di)||null})}var ci="apiKey",li="oobCode",hi="continueUrl",fi="languageCode",pi="mode",di="tenantId",vi={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:Yr,signIn:Xr,verifyAndChangeEmail:$r,verifyEmail:"VERIFY_EMAIL"};function yi(t){try{return new ui(t)}catch(t){return null}}function gi(t){var e=t[Ei];if(void 0===e)throw new E("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new E("invalid-continue-uri");if(this.h=e,this.b=this.a=null,this.g=!1,(r=t[mi])&&"object"==typeof r){e=r[Si];var n=r[Ii],r=r[Ti];if("string"==typeof e&&e.length){if(this.a=e,void 0!==n&&"boolean"!=typeof n)throw new E("argument-error",Ii+" property must be a boolean when specified.");if(this.g=!!n,void 0!==r&&("string"!=typeof r||"string"==typeof r&&!r.length))throw new E("argument-error",Ti+" property must be a non empty string when specified.");this.b=r||null}else{if(void 0!==e)throw new E("argument-error",Si+" property must be a non empty string when specified.");if(void 0!==n||void 0!==r)throw new E("missing-android-pkg-name")}}else if(void 0!==r)throw new E("argument-error",mi+" property must be a non null object when specified.");if(this.f=null,(e=t[_i])&&"object"==typeof e){if("string"==typeof(e=e[Ci])&&e.length)this.f=e;else if(void 0!==e)throw new E("argument-error",Ci+" property must be a non empty string when specified.")}else if(void 0!==e)throw new E("argument-error",_i+" property must be a non null object when specified.");if(void 0!==(e=t[wi])&&"boolean"!=typeof e)throw new E("argument-error",wi+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[bi])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new E("argument-error",bi+" property must be a non empty string when specified.");this.i=t||null}var mi="android",bi="dynamicLinkDomain",wi="handleCodeInApp",_i="iOS",Ei="url",Ii="installApp",Ti="minimumVersion",Si="packageName",Ci="bundleId";function Ai(t){var e,n={};for(e in n.continueUrl=t.h,n.canHandleCodeInApp=t.c,(n.androidPackageName=t.a)&&(n.androidMinimumVersion=t.b,n.androidInstallApp=t.g),n.iOSBundleId=t.f,n.dynamicLinkDomain=t.i,n)null===n[e]&&delete n[e];return n}var ki=null;function Ni(t){var e=xi(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.g=t,this.c=e.exp,this.h=e.sub,this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.b=!!e.is_anonymous||"anonymous"==this.a}function Oi(t){try{return new Ni(t)}catch(t){return null}}function xi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(function(t){var e="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=ki[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!ki){ki={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;n<5;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===ki[o]&&(ki[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,(function(t){e+=String.fromCharCode(t)})),e}(t))}catch(t){}return null}Ni.prototype.S=function(){return this.f},Ni.prototype.i=function(){return this.b},Ni.prototype.toString=function(){return this.g};var Pi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Ri=["client_id","response_type","scope","redirect_uri","state"],Di={kd:{Ha:"locale",ta:700,sa:600,ea:"facebook.com",Va:Ri},md:{Ha:null,ta:500,sa:750,ea:"github.com",Va:Ri},nd:{Ha:"hl",ta:515,sa:680,ea:"google.com",Va:Ri},td:{Ha:"lang",ta:485,sa:705,ea:"twitter.com",Va:Pi},gd:{Ha:"locale",ta:640,sa:600,ea:"apple.com",Va:[]}};function Li(t){for(var e in Di)if(Di[e].ea==t)return Di[e];return null}function Mi(t){var e={};e["facebook.com"]=qi,e["google.com"]=zi,e["github.com"]=Bi,e["twitter.com"]=Gi;var n=t&&t[Ui];try{if(n)return e[n]?new e[n](t):new Vi(t);if(void 0!==t[Fi])return new ji(t)}catch(t){}return null}var Fi="idToken",Ui="providerId";function ji(t){var e,n=t[Ui];if(n||!t[Fi]||(e=Oi(t[Fi]))&&e.a&&(n=e.a),!n)throw Error("Invalid additional user info!");"anonymous"!=n&&"custom"!=n||(n=null),e=!1,void 0!==t.isNewUser?e=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(e=!0),Fr(this,"providerId",n),Fr(this,"isNewUser",e)}function Vi(t){ji.call(this,t),Fr(this,"profile",Vr((t=Sr(t.rawUserInfo||"{}"))||{}))}function qi(t){if(Vi.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Bi(t){if(Vi.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Fr(this,"username",this.profile&&this.profile.login||null)}function zi(t){if(Vi.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Gi(t){if(Vi.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Fr(this,"username",t.screenName||null)}function Wi(t){var e=kn(r=Nn(t),"link"),n=kn(Nn(e),"link"),r=kn(r,"deep_link_id");return kn(Nn(r),"link")||r||n||e||t}function Hi(t,e){if(!t&&!e)throw new E("internal-error","Internal assert: no raw session string available");if(t&&e)throw new E("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?Ki:Qi}_(Vi,ji),_(qi,Vi),_(Bi,Vi),_(zi,Vi),_(Gi,Vi);var Ki="enroll",Qi="signin";function Yi(){}function Xi(t,e){return t.then((function(t){if(t[Ua]){var n=Oi(t[Ua]);if(!n||e!=n.h)throw new E("user-mismatch");return t}throw new E("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==S+"user-not-found"?new E("user-mismatch"):t}))}function $i(t,e){if(!e)throw new E("internal-error","failed to construct a credential");this.a=e,Fr(this,"providerId",t),Fr(this,"signInMethod",t)}function Ji(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function Zi(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new $i(t.providerId,t.pendingToken)}catch(t){}return null}function to(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Fr(this,"idToken",e.idToken),e.accessToken&&Fr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Fr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new E("internal-error","failed to construct a credential");Fr(this,"accessToken",e.oauthToken),Fr(this,"secret",e.oauthTokenSecret)}Fr(this,"providerId",t),Fr(this,"signInMethod",n)}function eo(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:qn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function no(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new to(t.providerId,e,t.signInMethod)}catch(t){}}return null}function ro(t,e){this.Oc=e||[],Ur(this,{providerId:t,isOAuthProvider:!0}),this.Fb={},this.lb=(Li(t)||{}).Ha||null,this.kb=null}function io(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new E("argument-error",'SAML provider IDs must be prefixed with "saml."');ro.call(this,t,[])}function oo(t){ro.call(this,t,Ri),this.a=[]}function ao(){oo.call(this,"facebook.com")}function so(t){if(!t)throw new E("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return p(t)&&(e=t.accessToken),(new ao).credential({accessToken:e})}function uo(){oo.call(this,"github.com")}function co(t){if(!t)throw new E("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return p(t)&&(e=t.accessToken),(new uo).credential({accessToken:e})}function lo(){oo.call(this,"google.com"),this.Aa("profile")}function ho(t,e){var n=t;return p(t)&&(n=t.idToken,e=t.accessToken),(new lo).credential({idToken:n,accessToken:e})}function fo(){ro.call(this,"twitter.com",Pi)}function po(t,e){var n=t;if(p(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new E("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new to("twitter.com",n,"twitter.com")}function vo(t,e,n){this.a=t,this.f=e,Fr(this,"providerId","password"),Fr(this,"signInMethod",n===go.EMAIL_LINK_SIGN_IN_METHOD?go.EMAIL_LINK_SIGN_IN_METHOD:go.EMAIL_PASSWORD_SIGN_IN_METHOD)}function yo(t){return t&&t.email&&t.password?new vo(t.email,t.password,t.signInMethod):null}function go(){Ur(this,{providerId:"password",isOAuthProvider:!1})}function mo(t,e){if(!(e=bo(e)))throw new E("argument-error","Invalid email link!");return new vo(t,e.code,go.EMAIL_LINK_SIGN_IN_METHOD)}function bo(t){return(t=yi(t=Wi(t)))&&t.operation===Xr?t:null}function wo(t){if(!(t.bb&&t.ab||t.Ja&&t.da))throw new E("internal-error");this.a=t,Fr(this,"providerId","phone"),this.ea="phone",Fr(this,"signInMethod","phone")}function _o(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return j(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new wo(e)}return null}function Eo(t){return t.a.Ja&&t.a.da?{temporaryProof:t.a.Ja,phoneNumber:t.a.da}:{sessionInfo:t.a.bb,code:t.a.ab}}function Io(t){try{this.a=t||yu.auth()}catch(t){throw new E("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Ur(this,{providerId:"phone",isOAuthProvider:!1})}function To(t,e){if(!t)throw new E("missing-verification-id");if(!e)throw new E("missing-verification-code");return new wo({bb:t,ab:e})}function So(t){if(t.temporaryProof&&t.phoneNumber)return new wo({Ja:t.temporaryProof,da:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return ho(o,n);case"facebook.com":return so(n);case"github.com":return co(n);case"twitter.com":return po(n,r);default:return n||r||o||a?a?0==e.indexOf("saml.")?new $i(e,a):new to(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new oo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(t){return null}}function Co(t){if(!t.isOAuthProvider)throw new E("invalid-oauth-provider")}function Ao(t,e,n,r,i,o,a){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new E("invalid-auth-event");if(this.g&&this.a)throw new E("invalid-auth-event");if(this.g&&!this.f)throw new E("invalid-auth-event")}function ko(t){return(t=t||{}).type?new Ao(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&I(t.error),t.postBody,t.tenantId):null}function No(){this.b=null,this.a=[]}Hi.prototype.Fa=function(){return this.a?we(this.a):we(this.b)},Hi.prototype.v=function(){return this.type==Ki?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},Yi.prototype.ia=function(){},Yi.prototype.b=function(){},Yi.prototype.c=function(){},Yi.prototype.v=function(){},$i.prototype.ia=function(t){return rs(t,Ji(this))},$i.prototype.b=function(t,e){var n=Ji(this);return n.idToken=e,is(t,n)},$i.prototype.c=function(t,e){return Xi(os(t,Ji(this)),e)},$i.prototype.v=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},to.prototype.ia=function(t){return rs(t,eo(this))},to.prototype.b=function(t,e){var n=eo(this);return n.idToken=e,is(t,n)},to.prototype.c=function(t,e){return Xi(os(t,eo(this)),e)},to.prototype.v=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},ro.prototype.Ia=function(t){return this.Fb=lt(t),this},_(io,ro),_(oo,ro),oo.prototype.Aa=function(t){return z(this.a,t)||this.a.push(t),this},oo.prototype.Nb=function(){return K(this.a)},oo.prototype.credential=function(t,e){var n=p(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null};if(!n.idToken&&!n.accessToken)throw new E("argument-error","credential failed: must provide the ID token and/or the access token.");return new to(this.providerId,n,this.providerId)},_(ao,oo),Fr(ao,"PROVIDER_ID","facebook.com"),Fr(ao,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),_(uo,oo),Fr(uo,"PROVIDER_ID","github.com"),Fr(uo,"GITHUB_SIGN_IN_METHOD","github.com"),_(lo,oo),Fr(lo,"PROVIDER_ID","google.com"),Fr(lo,"GOOGLE_SIGN_IN_METHOD","google.com"),_(fo,ro),Fr(fo,"PROVIDER_ID","twitter.com"),Fr(fo,"TWITTER_SIGN_IN_METHOD","twitter.com"),vo.prototype.ia=function(t){return this.signInMethod==go.EMAIL_LINK_SIGN_IN_METHOD?Vs(t,ps,{email:this.a,oobCode:this.f}):Vs(t,Ls,{email:this.a,password:this.f})},vo.prototype.b=function(t,e){return this.signInMethod==go.EMAIL_LINK_SIGN_IN_METHOD?Vs(t,ds,{idToken:e,email:this.a,oobCode:this.f}):Vs(t,As,{idToken:e,email:this.a,password:this.f})},vo.prototype.c=function(t,e){return Xi(this.ia(t),e)},vo.prototype.v=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Ur(go,{PROVIDER_ID:"password"}),Ur(go,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Ur(go,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),wo.prototype.ia=function(t){return t.cb(Eo(this))},wo.prototype.b=function(t,e){var n=Eo(this);return n.idToken=e,Vs(t,Fs,n)},wo.prototype.c=function(t,e){var n=Eo(this);return n.operation="REAUTH",Xi(t=Vs(t,Us,n),e)},wo.prototype.v=function(){var t={providerId:"phone"};return this.a.bb&&(t.verificationId=this.a.bb),this.a.ab&&(t.verificationCode=this.a.ab),this.a.Ja&&(t.temporaryProof=this.a.Ja),this.a.da&&(t.phoneNumber=this.a.da),t},Io.prototype.cb=function(t,e){var n=this.a.b;return we(e.verify()).then((function(r){if("string"!=typeof r)throw new E("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");if("recaptcha"!==e.type)throw new E("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.');var i=p(t)?t.session:null,o=p(t)?t.phoneNumber:t;return(i&&i.type==Ki?i.Fa().then((function(t){return Vs(n,Ns,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}}).then((function(t){return t.phoneSessionInfo.sessionInfo}))})):i&&i.type==Qi?i.Fa().then((function(e){return i=n,o={mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}},Vs(i,Os,o).then((function(t){return t.phoneResponseInfo.sessionInfo}));var i,o})):Vs(n,Ss,{phoneNumber:o,recaptchaToken:r})).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}))}))},Ur(Io,{PROVIDER_ID:"phone"}),Ur(Io,{PHONE_SIGN_IN_METHOD:"phone"}),Ao.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Ao.prototype.S=function(){return this.h},Ao.prototype.v=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.v()}};var Oo,xo=null;function Po(t){var e="unauthorized-domain",n=void 0,r=Nn(t);t=r.b,"chrome-extension"==(r=r.f)?n=Ft("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Ft("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",E.call(this,e,n)}function Ro(t,e,n){E.call(this,t,n),(t=e||{}).Gb&&Fr(this,"email",t.Gb),t.da&&Fr(this,"phoneNumber",t.da),t.credential&&Fr(this,"credential",t.credential),t.Wb&&Fr(this,"tenantId",t.Wb)}function Do(t){if(t.code){var e=t.code||"";0==e.indexOf(S)&&(e=e.substring(S.length));var n={credential:So(t),Wb:t.tenantId};if(t.email)n.Gb=t.email;else if(t.phoneNumber)n.da=t.phoneNumber;else if(!n.credential)return new E(e,t.message||void 0);return new Ro(e,n,t.message)}return null}function Lo(){}function Mo(t){return t.c||(t.c=t.b())}function Fo(){}function Uo(t){if(t.f||"undefined"!=typeof XMLHttpRequest||"undefined"==typeof ActiveXObject)return t.f;for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}function jo(){}function Vo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=m(this.oc,this),this.a.onerror=m(this.Pb,this),this.a.onprogress=m(this.pc,this),this.a.ontimeout=m(this.tc,this)}function qo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Bo(t,e,n){this.reset(t,e,n,void 0,void 0)}function zo(t){this.f=t,this.b=this.c=this.a=null}function Go(t,e){this.name=t,this.value=e}_(Po,E),_(Ro,E),Ro.prototype.v=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.v();return e&&ft(t,e),t},Ro.prototype.toJSON=function(){return this.v()},Lo.prototype.c=null,_(Fo,Lo),Fo.prototype.a=function(){var t=Uo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Fo.prototype.b=function(){var t={};return Uo(this)&&(t[0]=!0,t[1]=!0),t},Oo=new Fo,_(jo,Lo),jo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Vo;throw Error("Unsupported browser")},jo.prototype.b=function(){return{}},(t=Vo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.oc=function(){this.status=200,this.response=this.responseText=this.a.responseText,qo(this,4)},t.Pb=function(){this.status=500,this.response=this.responseText="",qo(this,4)},t.tc=function(){this.Pb()},t.pc=function(){this.status=200,qo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Bo.prototype.a=null,Bo.prototype.reset=function(t,e,n,r,i){delete this.a},Go.prototype.toString=function(){return this.name};var Wo=new Go("SEVERE",1e3),Ho=new Go("WARNING",900),Ko=new Go("CONFIG",700),Qo=new Go("FINE",500);zo.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(P("Root logger has no level set."),null)}(this).value)for(f(e)&&(e=e()),t=new Bo(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var Yo,Xo={},$o=null;function Jo(t){var e,n,r;return $o||($o=new zo(""),(Xo[""]=$o).c=Ko),(e=Xo[t])||(e=new zo(t),r=t.lastIndexOf("."),n=t.substr(r+1),(r=Jo(t.substr(0,r))).b||(r.b={}),(r.b[n]=e).a=r,Xo[t]=e),e}function Zo(t,e){t&&t.log(Qo,e,void 0)}function ta(t){this.f=t}function ea(t){hn.call(this),this.s=t,this.readyState=na,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=Jo("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}_(ta,Lo),ta.prototype.a=function(){return new ea(this.f)},ta.prototype.b=(Yo={},function(){return Yo}),_(ea,hn);var na=0;function ra(t){t.c.read().then(t.nc.bind(t)).catch(t.Sa.bind(t))}function ia(t,e){e&&t.f&&(t.status=t.f.status,t.statusText=t.f.statusText),t.readyState=4,t.f=null,t.c=null,t.l=null,oa(t)}function oa(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function aa(t){hn.call(this),this.headers=new bn,this.D=t||null,this.c=!1,this.B=this.a=null,this.h=this.P=this.l="",this.f=this.O=this.i=this.N=!1,this.g=0,this.s=null,this.m=sa,this.w=this.R=!1}(t=ea.prototype).open=function(t,e){if(this.readyState!=na)throw this.abort(),Error("Error reopening a connection");this.m=t,this.g=e,this.readyState=1,oa(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.i,method:this.m,credentials:void 0,cache:void 0};t&&(e.body=t),this.s.fetch(new Request(this.g,e)).then(this.sc.bind(this),this.Sa.bind(this))},t.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ia(this,!1)),this.readyState=na},t.sc=function(t){this.a&&(this.f=t,this.b||(this.b=t.headers,this.readyState=2,oa(this)),this.a&&(this.readyState=3,oa(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.qc.bind(this),this.Sa.bind(this)):void 0!==a.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.l=new TextDecoder,ra(this)):t.text().then(this.rc.bind(this),this.Sa.bind(this)))))},t.nc=function(t){var e;this.a&&((e=this.l.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done}))&&(this.response=this.responseText+=e),t.done?ia(this,!0):oa(this),3==this.readyState&&ra(this))},t.rc=function(t){this.a&&(this.response=this.responseText=t,ia(this,!0))},t.qc=function(t){this.a&&(this.response=t,ia(this,!0))},t.Sa=function(t){var e=this.h;e&&e.log(Ho,"Failed to fetch url "+this.g,t instanceof Error?t:Error(t)),this.a&&ia(this,!0)},t.setRequestHeader=function(t,e){this.i.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log(Ho,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log(Ho,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},_(aa,hn);var sa="";aa.prototype.b=Jo("goog.net.XhrIo");var ua=/^https?$/i,ca=["POST","PUT"];function la(t){return"content-type"==t.toLowerCase()}function ha(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,fa(t),da(t)}function fa(t){t.N||(t.N=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function pa(t){if(t.c&&void 0!==o)if(t.B[1]&&4==ya(t)&&2==ga(t))Zo(t.b,ma(t,"Local request error detected and ignored"));else if(t.i&&4==ya(t))vn(t.Sb,0,t);else if(t.dispatchEvent("readystatechange"),4==ya(t)){Zo(t.b,ma(t,"Request complete")),t.c=!1;try{var e,n,r,i,s=ga(t);t:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var u=!0;break t;default:u=!1}if((e=u)||((n=0===s)&&(!(i=String(t.l).match(En)[1]||null)&&a.self&&a.self.location&&(i=(r=a.self.location.protocol).substr(0,r.length-1)),n=!ua.test(i?i.toLowerCase():"")),e=n),e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<ya(t)?t.a.statusText:""}catch(e){Zo(t.b,"Can not get status: "+e.message),c=""}t.h=c+" ["+ga(t)+"]",fa(t)}}finally{da(t)}}}function da(t,e){if(t.a){va(t);var n=t.a,r=t.B[0]?c:null;t.a=null,t.B=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){(t=t.b)&&t.log(Wo,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function va(t){t.a&&t.w&&(t.a.ontimeout=null),t.s&&(a.clearTimeout(t.s),t.s=null)}function ya(t){return t.a?t.a.readyState:0}function ga(t){try{return 2<ya(t)?t.a.status:-1}catch(t){return-1}}function ma(t,e){return e+" ["+t.P+" "+t.l+" "+ga(t)+"]"}function ba(t){var e=Oa;this.g=[],this.w=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.u=this.B=this.i=!1,this.h=0,this.b=null,this.l=0}function wa(t,e,n){t.a=!0,t.c=n,t.f=!e,Ta(t)}function _a(t){if(t.a){if(!t.u)throw new Sa;t.u=!1}}function Ea(t,e,n,r){t.g.push([e,n,r]),t.a&&Ta(t)}function Ia(t){return B(t.g,(function(t){return f(t[1])}))}function Ta(t){var e,n;t.h&&t.a&&Ia(t)&&(e=t.h,(n=ka[e])&&(a.clearTimeout(n.a),delete ka[e]),t.h=0),t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=(s=t.g.shift())[0],o=s[1],s=s[2];if(i=t.f?o:i)try{var u=i.call(s||t.s,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(N(e)||"function"==typeof a.Promise&&e instanceof a.Promise)&&(r=!0,t.i=!0)}catch(r){e=r,t.f=!0,Ia(t)||(n=!0)}}t.c=e,r&&(u=m(t.m,t,!0),r=m(t.m,t,!1),e instanceof ba?(Ea(e,u,r),e.B=!0):e.then(u,r)),n&&(e=new Aa(e),ka[e.a]=e,t.h=e.a)}function Sa(){O.call(this)}function Ca(){O.call(this)}function Aa(t){this.a=a.setTimeout(m(this.c,this),0),this.b=t}(t=aa.prototype).Ka=function(){void 0!==o&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Zo(this.b,ma(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(Zo(this.b,ma(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),da(this))},t.Ba=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),da(this,!0)),aa.Za.Ba.call(this)},t.Sb=function(){this.wa||(this.O||this.i||this.f?pa(this):this.Hc())},t.Hc=function(){pa(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case sa:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(Wo,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return Zo(this.b,"Can not get response: "+t.message),null}},ba.prototype.cancel=function(t){var e;this.a?this.c instanceof ba&&this.c.cancel():(this.b&&(e=this.b,delete this.b,t?e.cancel(t):(e.l--,e.l<=0&&e.cancel())),this.w?this.w.call(this.s,this):this.u=!0,this.a||(t=new Ca,_a(this),wa(this,!1,t)))},ba.prototype.m=function(t,e){this.i=!1,wa(this,t,e)},ba.prototype.then=function(t,e,n){var r,i,o=new pe((function(t,e){r=t,i=e}));return Ea(this,r,(function(t){t instanceof Ca?o.cancel():i(t)})),o.then(t,e,n)},ba.prototype.$goog_Thenable=!0,_(Sa,O),Sa.prototype.message="Deferred has already fired",Sa.prototype.name="AlreadyCalledError",_(Ca,O),Ca.prototype.message="Deferred was canceled",Ca.prototype.name="CanceledError",Aa.prototype.c=function(){throw delete ka[this.a],this.b};var ka={};function Na(t){var e,n,r,i,o=document,c=wt(t).toString(),l=se(document,"SCRIPT"),h={Tb:l,Ka:void 0},f=new ba(h),p=window.setTimeout((function(){xa(l,!0);var t=new Da(Ra,"Timeout reached for loading script "+c);_a(f),wa(f,!1,t)}),5e3);return h.Ka=p,l.onload=l.onreadystatechange=function(){l.readyState&&"loaded"!=l.readyState&&"complete"!=l.readyState||(xa(l,!1,p),_a(f),wa(f,!0,null))},l.onerror=function(){xa(l,!0,p);var t=new Da(Pa,"Error while loading script "+c);_a(f),wa(f,!1,t)},ft(h={},{type:"text/javascript",charset:"UTF-8"}),re(l,h),n=t,pt(e=l,"HTMLScriptElement"),e.src=wt(n),null===u&&(u=(n=(n=a.document).querySelector&&n.querySelector("script[nonce]"))&&(n=n.nonce||n.getAttribute("nonce"))&&s.test(n)?n:""),(n=u)&&e.setAttribute("nonce",n),((i=((r=o)||document).getElementsByTagName("HEAD"))&&0!=i.length?i[0]:r.documentElement).appendChild(l),f}function Oa(){var t;this&&this.Tb&&(t=this.Tb)&&"SCRIPT"==t.tagName&&xa(t,!0,this.Ka)}function xa(t,e,n){null!=n&&a.clearTimeout(n),t.onload=c,t.onerror=c,t.onreadystatechange=c,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Pa=0,Ra=1;function Da(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),O.call(this,n),this.code=t}function La(t){this.f=t}function Ma(t,e,n){if(this.c=t,t=e||{},this.u=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||ja,this.g=lt(t.secureTokenHeaders||Va),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.l=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.i=t.firebaseTimeout||qa,this.a=lt(t.firebaseHeaders||Ba),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==lr(),!(n=a.XMLHttpRequest||n&&yu.INTERNAL.node&&yu.INTERNAL.node.XMLHttpRequest)&&!cr())throw new E("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,cr()?this.f=new ta(self):hr()?this.f=new La(n):this.f=new jo,this.b=null}_(Da,O),_(La,Lo),La.prototype.a=function(){return new this.f},La.prototype.b=function(){return{}};var Fa,Ua="idToken",ja=new Nr(3e4,6e4),Va={"Content-Type":"application/x-www-form-urlencoded"},qa=new Nr(3e4,6e4),Ba={"Content-Type":"application/json"};function za(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function Ga(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function Wa(t,e,n,r,i,o,s){var u;(t=((u="Chrome"==pr(u=yr())&&(u=u.match(/\sChrome\/(\d+)/i))&&2==u.length?parseInt(u[1],10):null)&&u<30||zt&&Jt&&!(9<Jt))&&!cr()?(Fa=Fa||new pe((function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(a[Ka]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Ea(t,null,e,void 0)}(Na(_t(Ha,{onload:Ka})),(function(){e(Error("CORS_UNSUPPORTED"))})))}(t,e)})),m(t.s,t)):m(t.w,t))(e,n,r,i,o,s)}Ma.prototype.S=function(){return this.b},Ma.prototype.w=function(t,e,n,r,i,o){if(cr()&&(void 0===a.fetch||void 0===a.Headers||void 0===a.Request))throw new E("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s,u=new aa(this.f);o&&(u.g=Math.max(0,o),s=setTimeout((function(){u.dispatchEvent("timeout")}),o)),fn(u,"complete",(function(){s&&clearTimeout(s);var n=null;try{n=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return Zo(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(t){n=null}e&&e(n)})),pn(u,"ready",(function(){s&&clearTimeout(s),Le(this)})),pn(u,"timeout",(function(){s&&clearTimeout(s),Le(this),e&&e(null)})),function(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.N=!1,t.c=!0,t.a=t.D?t.D.a():Oo.a(),t.B=t.D?Mo(t.D):Mo(Oo),t.a.onreadystatechange=m(t.Sb,t);try{Zo(t.b,ma(t,"Opening Xhr")),t.O=!0,t.a.open(n,String(e),!0),t.O=!1}catch(e){return Zo(t.b,ma(t,"Error opening Xhr: "+e.message)),void ha(t,e)}e=r||"";var o,s=new bn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(h(t)||"string"==typeof t)j(t,e,void 0);else for(var n=mn(t),r=gn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){s.set(e,t)})),i=function(t){t:{for(var e=la,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return e<0?null:"string"==typeof t?t.charAt(e):t[e]}(s.X()),r=a.FormData&&e instanceof a.FormData,!z(ca,n)||i||r||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.R&&(t.a.withCredentials=t.R);try{va(t),0<t.g&&(t.w=(o=t.a,zt&&te(9)&&"number"==typeof o.timeout&&void 0!==o.ontimeout),Zo(t.b,ma(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.w)),t.w?(t.a.timeout=t.g,t.a.ontimeout=m(t.Ka,t)):t.s=vn(t.Ka,t.g,t)),Zo(t.b,ma(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(e){Zo(t.b,ma(t,"Send error: "+e.message)),ha(t,e)}}(u,t,n,r,i)};var Ha=new dt(gt,"https://apis.google.com/js/client.js?onload=%{onload}"),Ka="__fcb"+Math.floor(1e6*Math.random()).toString();function Qa(t){if("string"!=typeof(t=t.email)||!or.test(t))throw new E("invalid-email")}function Ya(t){"email"in t&&Qa(t)}function Xa(t){if(!t[Ua]){if(t.mfaPendingCredential)throw new E("multi-factor-auth-required",null,lt(t));throw new E("internal-error")}}function $a(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new E("internal-error")}else{if(!t.sessionInfo)throw new E("missing-verification-id");if(!t.code)throw new E("missing-verification-code")}}Ma.prototype.s=function(t,e,n,r,i){var o=this;Fa.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},Ma.prototype.vb=function(){return Vs(this,ks,{})},Ma.prototype.xb=function(t,e){return Vs(this,Cs,{idToken:t,email:e})},Ma.prototype.yb=function(t,e){return Vs(this,As,{idToken:t,password:e})};var Ja={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function Za(t){if(!t.phoneVerificationInfo)throw new E("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new E("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new E("missing-verification-code")}function ts(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new E("internal-error")}function es(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&zn(t=new jn(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function ns(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Do(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Do(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Do(t)):t.errorMessage&&(e=qs(t.errorMessage)),e)throw e;Xa(t)}function rs(t,e){return e.returnIdpCredential=!0,Vs(t,xs,e)}function is(t,e){return e.returnIdpCredential=!0,Vs(t,Rs,e)}function os(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Vs(t,Ps,e)}function as(t){if(!t.oobCode)throw new E("invalid-action-code")}(t=Ma.prototype).zb=function(t,e){var n={idToken:t},r=[];return ut(Ja,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),Vs(this,Cs,n)},t.rb=function(t,e){return ft(t={requestType:"PASSWORD_RESET",email:t},e),Vs(this,_s,t)},t.sb=function(t,e){return ft(t={requestType:"EMAIL_SIGNIN",email:t},e),Vs(this,ms,t)},t.qb=function(t,e){return ft(t={requestType:"VERIFY_EMAIL",idToken:t},e),Vs(this,bs,t)},t.Ab=function(t,e,n){return ft(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),Vs(this,ws,t)},t.cb=function(t){return Vs(this,Ms,t)},t.jb=function(t,e){return Vs(this,Ts,{oobCode:t,newPassword:e})},t.Pa=function(t){return Vs(this,us,{oobCode:t})},t.fb=function(t){return Vs(this,ss,{oobCode:t})};var ss={endpoint:"setAccountInfo",A:as,Y:"email",C:!0},us={endpoint:"resetPassword",A:as,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new E("internal-error")},C:!0},cs={endpoint:"signupNewUser",A:function(t){if(Qa(t),!t.password)throw new E("weak-password")},G:Xa,U:!0,C:!0},ls={endpoint:"createAuthUri",C:!0},hs={endpoint:"deleteAccount",M:["idToken"]},fs={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],A:function(t){if("array"!=l(t.deleteProvider))throw new E("internal-error")}},ps={endpoint:"emailLinkSignin",M:["email","oobCode"],A:Qa,G:Xa,U:!0,C:!0},ds={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],A:Qa,G:Xa,U:!0},vs={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],A:Za,G:Xa,C:!0,La:!0},ys={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],A:Za,G:Xa,C:!0,La:!0},gs={endpoint:"getAccountInfo"},ms={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new E("internal-error");Qa(t)},Y:"email",C:!0},bs={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new E("internal-error")},Y:"email",C:!0},ws={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new E("internal-error")},Y:"email",C:!0},_s={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new E("internal-error");Qa(t)},Y:"email",C:!0},Es={hb:!0,endpoint:"getProjectConfig",Rb:"GET"},Is={hb:!0,endpoint:"getRecaptchaParam",Rb:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new E("internal-error")}},Ts={endpoint:"resetPassword",A:as,Y:"email",C:!0},Ss={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Y:"sessionInfo",C:!0},Cs={endpoint:"setAccountInfo",M:["idToken"],A:Ya,U:!0},As={endpoint:"setAccountInfo",M:["idToken"],A:function(t){if(Ya(t),!t.password)throw new E("weak-password")},G:Xa,U:!0},ks={endpoint:"signupNewUser",G:Xa,U:!0,C:!0},Ns={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new E("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new E("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new E("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new E("internal-error")},C:!0,La:!0},Os={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new E("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new E("internal-error")},C:!0,La:!0},xs={endpoint:"verifyAssertion",A:ts,Wa:es,G:ns,U:!0,C:!0},Ps={endpoint:"verifyAssertion",A:ts,Wa:es,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new E("user-not-found");if(t.errorMessage)throw qs(t.errorMessage);Xa(t)},U:!0,C:!0},Rs={endpoint:"verifyAssertion",A:function(t){if(ts(t),!t.idToken)throw new E("internal-error")},Wa:es,G:ns,U:!0},Ds={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new E("invalid-custom-token")},G:Xa,U:!0,C:!0},Ls={endpoint:"verifyPassword",A:function(t){if(Qa(t),!t.password)throw new E("wrong-password")},G:Xa,U:!0,C:!0},Ms={endpoint:"verifyPhoneNumber",A:$a,G:Xa,C:!0},Fs={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new E("internal-error");$a(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Do(t);Xa(t)}},Us={Eb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:$a,G:Xa,C:!0},js={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Ua]^!!t.refreshToken)throw new E("internal-error")},C:!0,La:!0};function Vs(t,e,n){if(!function(t,e){if(!e||!e.length)return 1;if(t){for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return}return 1}}(n,e.M))return _e(new E("internal-error"));var r,i=!!e.La,o=e.Rb||"POST";return we(n).then(e.A).then((function(){return e.U&&(n.returnSecureToken=!0),e.C&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),function(t,e,n,r,i,o,a){var s=Nn(e+n);An(s,"key",t.c),a&&An(s,"cb",w().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&An(s,c,i[c]);return new pe((function(e,n){Wa(t,s.toString(),(function(t){t?t.error?n(Bs(t,o||{})):e(t):n(new E("network-request-failed"))}),r,u?void 0:Kn(Tr(i)),t.a,t.i.get())}))}(t,i?t.l:t.h,e.endpoint,o,n,e.Eb,e.hb||!1)})).then((function(t){return r=t,e.Wa?e.Wa(n,r):r})).then(e.G).then((function(){if(!e.Y)return r;if(!(e.Y in r))throw new E("internal-error");return r[e.Y]}))}function qs(t){return Bs({error:{errors:[{message:t}],code:400,message:t}})}function Bs(t,e){var n,r=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",i={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(r=i[r]?new E(i[r]):null)return r;for(n in r=t.error&&t.error.message||"",ft(i={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=r.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,i)if(0===r.indexOf(n))return new E(i[n],e);return!e&&t&&(e=Ir(t)),new E("internal-error",e)}function zs(t){var e;this.b=t,this.a=null,this.nb=(e=this,(Ks||(Ks=new pe((function(t,e){function n(){kr(),gr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){kr(),e(Error("Network Error"))},timeout:Ws.get()})}var r;gr("gapi.iframes.Iframe")?t():gr("gapi.load")?n():(r="__iframefcb"+Math.floor(1e6*Math.random()).toString(),a[r]=function(){gr("gapi.load")?n():e(Error("Network Error"))},we(Na(r=_t(Gs,{onload:r}))).o((function(){e(Error("Network Error"))})))})).o((function(t){throw Ks=null,t})))).then((function(){return new pe((function(t,n){gr("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:gr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),t()}e.a=r,e.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),Hs.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))})))}var Gs=new dt(gt,"https://apis.google.com/js/api.js?onload=%{onload}"),Ws=new Nr(3e4,6e4),Hs=new Nr(5e3,15e3),Ks=null;function Qs(t,e,n){this.i=t,this.g=e,this.h=n,this.f=null,this.a=On(this.i,"/__/auth/iframe"),An(this.a,"apiKey",this.g),An(this.a,"appName",this.h),this.b=null,this.c=[]}function Ys(t,e,n,r,i){this.s=t,this.m=e,this.c=n,this.u=r,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function Xs(t){try{return yu.app(t).auth().Ea()}catch(t){return[]}}function $s(t,e,n,r,i){this.u=t,this.f=e,this.b=n,this.c=r||null,this.h=i||null,this.m=this.s=this.w=null,this.g=[],this.l=this.a=null}function Js(t){var e=Zn();return Vs(t,Es,{}).then((function(t){return t.authorizedDomains||[]})).then((function(t){t:{for(var n=(r=Nn(e)).f,r=r.b,i=0;i<t.length;i++){var o=t[i],a=r,s=n;if(a=0==o.indexOf("chrome-extension://")?Nn(o).b==a&&"chrome-extension"==s:("http"==s||"https"==s)&&(ir.test(o)?a==o:(o=o.split(".").join("\\."),new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)))){t=!0;break t}}t=!1}if(!t)throw new Po(Zn())}))}function Zs(t){return t.l||(t.l=ar().then((function(){var e,n,r,i;t.s||(e=t.c,n=t.h,r=Xs(t.b),(i=new Qs(t.u,t.f,t.b)).f=e,i.b=n,i.c=K(r||[]),t.s=i.toString()),t.i=new zs(t.s),function(t){if(!t.i)throw Error("IfcHandler must be initialized!");!function(t,e){t.nb.then((function(){t.a.register("authEvent",e,gr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.i,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=ko(e.authEvent),n=0;n<t.g.length;n++)r=t.g[n](e)||r;return(n={}).status=r?"ACK":"ERROR",we(n)}return n.status="ERROR",we(n)}))}(t)}))),t.l}function tu(t){return t.m||(t.w=t.c?vr(t.c,Xs(t.b)):null,t.m=new Ma(t.f,k(t.h),t.w)),t.m}function eu(t,e,n,r,i,o,a,s,u,c,l){return(t=new Ys(t,e,n,r,i)).l=o,t.g=a,t.i=s,t.b=lt(u||null),t.f=c,t.ub(l).toString()}function nu(t){if(this.a=t||yu.INTERNAL.reactNative&&yu.INTERNAL.reactNative.AsyncStorage,!this.a)throw new E("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function ru(t){this.b=t,this.a={},this.f=m(this.c,this)}Qs.prototype.toString=function(){return this.f?An(this.a,"v",this.f):Bn(this.a.a,"v"),this.b?An(this.a,"eid",this.b):Bn(this.a.a,"eid"),this.c.length?An(this.a,"fw",this.c.join(",")):Bn(this.a.a,"fw"),this.a.toString()},Ys.prototype.ub=function(t){return this.h=t,this},Ys.prototype.toString=function(){var t=On(this.s,"/__/auth/handler");if(An(t,"apiKey",this.m),An(t,"appName",this.c),An(t,"authType",this.u),this.a.isOAuthProvider){var e,n=this.a;try{var r=yu.app(this.c).auth().ja()}catch(t){r=null}for(e in n.kb=r,An(t,"providerId",this.a.providerId),r=Tr((n=this.a).Fb))r[e]=r[e].toString();e=n.Oc,r=lt(r);for(var i=0;i<e.length;i++){var o=e[i];o in r&&delete r[o]}n.lb&&n.kb&&!r[n.lb]&&(r[n.lb]=n.kb),ct(r)||An(t,"customParameters",Ir(r))}if("function"==typeof this.a.Nb&&(n=this.a.Nb()).length&&An(t,"scopes",n.join(",")),this.l?An(t,"redirectUrl",this.l):Bn(t.a,"redirectUrl"),this.g?An(t,"eventId",this.g):Bn(t.a,"eventId"),this.i?An(t,"v",this.i):Bn(t.a,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!kn(t,a)&&An(t,a,this.b[a]);return this.h?An(t,"tid",this.h):Bn(t.a,"tid"),this.f?An(t,"eid",this.f):Bn(t.a,"eid"),(a=Xs(this.c)).length&&An(t,"fw",a.join(",")),t.toString()},(t=$s.prototype).Lb=function(t,e,n){var r=new E("popup-closed-by-user"),i=new E("web-storage-unsupported"),o=this,a=!1;return this.ka().then((function(){var n,r;r={type:"webStorageSupport"},Zs(n=o).then((function(){return t=n.i,e=r,t.nb.then((function(){return new pe((function(n){t.a.send(e.type,e,n,gr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}));var t,e})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})).then((function(n){n||(t&&nr(t),e(i),a=!0)}))})).o((function(){})).then((function(){if(!a)return e=t,new pe((function(t){return function n(){yn(2e3).then((function(){return e&&!e.closed?n():void t()}))}()}));var e})).then((function(){if(!a)return yn(n).then((function(){e(r)}))}))},t.Ub=function(){var t=yr();return!Er(t)&&!Ar(t)},t.Qb=function(){return!1},t.Jb=function(t,e,n,r,i,o,a,s){if(!t)return _e(new E("popup-blocked"));if(a&&!Er())return this.ka().o((function(e){nr(t),i(e)})),r(),we();this.a||(this.a=Js(tu(this)));var u=this;return this.a.then((function(){var e=u.ka().o((function(e){throw nr(t),i(e),e}));return r(),e})).then((function(){Co(n),a||tr(eu(u.u,u.f,u.b,e,n,null,o,u.c,void 0,u.h,s),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},t.Kb=function(t,e,n,r){this.a||(this.a=Js(tu(this)));var i=this;return this.a.then((function(){Co(e),tr(eu(i.u,i.f,i.b,t,e,Zn(),n,i.c,void 0,i.h,r))})).o((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.ka=function(){var t=this;return Zs(this).then((function(){return t.i.nb})).o((function(){throw t.a=null,new E("network-request-failed")}))},t.Xb=function(){return!0},t.Ca=function(t){this.g.push(t)},t.Qa=function(t){W(this.g,(function(e){return e==t}))},(t=nu.prototype).get=function(t){return we(this.a.getItem(t)).then((function(t){return t&&Sr(t)}))},t.set=function(t,e){return we(this.a.setItem(t,Ir(e)))},t.T=function(t){return we(this.a.removeItem(t))},t.ba=function(){},t.ha=function(){};var iu,ou=[];function au(t,e,n){ct(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function su(t){this.a=t}function uu(t){this.c=t,this.b=!1,this.a=[]}function cu(t,e,n,r){var i,o,a,s,u=n||{},c=null;if(t.b)return _e(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new pe((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),l),c={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(s),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}},t.a.push(c),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(e){return lu(t,c),e})).o((function(e){throw lu(t,c),e}))}function lu(t,e){var n,r;e&&(n=e.messageChannel,r=e.onMessage,n&&(n.port1.removeEventListener("message",r),n.port1.close()),W(t.a,(function(t){return t==e})))}function hu(){if(!pu())throw new E("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.u=a.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.s=!1,this.h=null;var t,e,n,r=this;cr()&&self?(this.l=(n=cr()?self:null,j(ou,(function(t){t.b==n&&(e=t)})),e||(e=new ru(n),ou.push(e)),e),au(this.l,"keyChanged",(function(t,e){return bu(r).then((function(t){return 0<t.length&&j(r.a,(function(e){e(t)})),{keyProcessed:z(t,e.key)}}))})),au(this.l,"ping",(function(){return we(["keyChanged"])}))):((t=a.navigator)&&t.serviceWorker?we().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):we(null)).then((function(t){(r.h=t)&&(r.g=new uu(new su(t)),cu(r.g,"ping",null,!0).then((function(t){t[0].fulfilled&&z(t[0].value,"keyChanged")&&(r.s=!0)})).o((function(){})))}))}function fu(t){return t.m||(t.m=function t(e){return new pe((function(n,r){var i=e.u.open("firebaseLocalStorageDb",1);i.onerror=function(t){try{t.preventDefault()}catch(t){}r(Error(t.target.error))},i.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){r(t)}},i.onsuccess=function(i){var o;(i=i.target.result).objectStoreNames.contains("firebaseLocalStorage")?n(i):(o=e,new pe((function(t,e){var n=o.u.deleteDatabase("firebaseLocalStorageDb");n.onsuccess=function(){t()},n.onerror=function(t){e(Error(t.target.error))}})).then((function(){return t(e)})).then((function(t){n(t)})).o((function(t){r(t)})))}}))}(t)),t.m}function pu(){try{return a.indexedDB}catch(t){return}}function du(t){return t.objectStore("firebaseLocalStorage")}function vu(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function gu(t){return new pe((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function mu(t,e){return t.g&&t.h&&((n=a.navigator)&&n.serviceWorker&&n.serviceWorker.controller||null)===t.h?cu(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):we();var n}function bu(t){return fu(t).then((function(t){var e=du(vu(t,!1));return e.getAll?gu(e.getAll()):new pe((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=function t(e,n){var r,i=[];for(r in e)r in n&&typeof e[r]==typeof n[r]?"object"==typeof e[r]&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&i.push(r):e[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in e||i.push(r);return i}(t.c,n),t.c=n}return r}))}function wu(t){t.i&&t.i.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function _u(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=we().then((function(){if(pu()){var t=Cr(),r="__sak"+t;return iu=iu||new hu,(n=iu).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.T(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ba((function(t){j(e.a,(function(e){e(t)}))})),t}))}function Eu(){this.a={},this.type="inMemory"}function Iu(){if(!function(){var t="Node"==lr();if(!(t=Tu()||t&&yu.INTERNAL.node&&yu.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==lr())throw new E("internal-error","The LocalStorage compatibility library was not found.");throw new E("web-storage-unsupported")}this.a=Tu()||yu.INTERNAL.node.localStorage,this.type="localStorage"}function Tu(){try{var t=a.localStorage,e=Cr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Su(){this.type="nullStorage"}function Cu(){if(!function(){var t="Node"==lr();if(!(t=Au()||t&&yu.INTERNAL.node&&yu.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==lr())throw new E("internal-error","The SessionStorage compatibility library was not found.");throw new E("web-storage-unsupported")}this.a=Au()||yu.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Au(){try{var t=a.sessionStorage,e=Cr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function ku(){var t={};t.Browser=xu,t.Node=Pu,t.ReactNative=Ru,t.Worker=Du,this.a=t[lr()]}ru.prototype.c=function(t){var e,n=t.data.eventType,r=t.data.eventId,i=this.a[n];i&&0<i.length&&(t.ports[0].postMessage({status:"ack",eventId:r,eventType:n,response:null}),e=[],j(i,(function(n){e.push(we().then((function(){return n(t.origin,t.data.data)})))})),Ie(e).then((function(e){var i=[];j(e,(function(t){i.push({fulfilled:t.Mb,value:t.value,reason:t.reason?t.reason.message:void 0})})),j(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:r,eventType:n,response:i})})))},su.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},uu.prototype.close=function(){for(;0<this.a.length;)lu(this,this.a[0]);this.b=!0},(t=hu.prototype).set=function(t,e){var n,r=!1,i=this;return fu(this).then((function(e){return gu((e=du(vu(n=e,!0))).get(t))})).then((function(o){var a=du(vu(n,!0));return o?(o.value=e,gu(a.put(o))):(i.b++,r=!0,(o={}).fbase_key=t,o.value=e,gu(a.add(o)))})).then((function(){return i.c[t]=e,mu(i,t)})).ma((function(){r&&i.b--}))},t.get=function(t){return fu(this).then((function(e){return gu(du(vu(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.T=function(t){var e=!1,n=this;return fu(this).then((function(r){return e=!0,n.b++,gu(du(vu(r,!0)).delete(t))})).then((function(){return delete n.c[t],mu(n,t)})).ma((function(){e&&n.b--}))},t.ba=function(t){var e;0==this.a.length&&(wu(e=this),function t(){e.f=setTimeout((function(){e.i=bu(e).then((function(t){0<t.length&&j(e.a,(function(e){e(t)}))})).then((function(){t()})).o((function(e){"STOP_EVENT"!=e.message&&t()}))}),800)}()),this.a.push(t)},t.ha=function(t){W(this.a,(function(e){return e==t})),0==this.a.length&&wu(this)},(t=_u.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.T=function(t){return this.b.then((function(e){return e.T(t)}))},t.ba=function(t){this.a.push(t)},t.ha=function(t){W(this.a,(function(e){return e==t}))},(t=Eu.prototype).get=function(t){return we(this.a[t])},t.set=function(t,e){return this.a[t]=e,we()},t.T=function(t){return delete this.a[t],we()},t.ba=function(){},t.ha=function(){},(t=Iu.prototype).get=function(t){var e=this;return we().then((function(){return Sr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return we().then((function(){var r=Ir(e);null===r?n.T(t):n.a.setItem(t,r)}))},t.T=function(t){var e=this;return we().then((function(){e.a.removeItem(t)}))},t.ba=function(t){a.window&&Je(a.window,"storage",t)},t.ha=function(t){a.window&&en(a.window,"storage",t)},(t=Su.prototype).get=function(){return we(null)},t.set=function(){return we()},t.T=function(){return we()},t.ba=function(){},t.ha=function(){},(t=Cu.prototype).get=function(t){var e=this;return we().then((function(){return Sr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return we().then((function(){var r=Ir(e);null===r?n.T(t):n.a.setItem(t,r)}))},t.T=function(t){var e=this;return we().then((function(){e.a.removeItem(t)}))},t.ba=function(){},t.ha=function(){};var Nu,Ou,xu={F:Iu,$a:Cu},Pu={F:Iu,$a:Cu},Ru={F:nu,$a:Su},Du={F:Iu,$a:Su},Lu={od:"local",NONE:"none",qd:"session"};function Mu(){var t=!(Ar(yr())||!ur()),e=Er(),n=mr();this.m=t,this.h=e,this.l=n,this.a={},t=Nu=Nu||new ku;try{this.g=!Jn()&&Pr()||!a.indexedDB?new t.a.F:new _u(cr()?new Eu:new t.a.F)}catch(t){this.g=new Eu,this.h=!0}try{this.i=new t.a.$a}catch(t){this.i=new Eu}this.u=new Eu,this.f=m(this.Vb,this),this.b={}}function Fu(){return Ou=Ou||new Mu}function Uu(t,e){switch(e){case"session":return t.i;case"none":return t.u;default:return t.g}}function ju(t,e){return"firebase:"+t.name+(e?":"+e:"")}function Vu(t,e,n){return n=ju(e,n),"local"==e.F&&(t.b[n]=null),Uu(t,e.F).T(n)}function qu(t){t.c&&(clearInterval(t.c),t.c=null)}function Bu(t){this.a=t,this.b=Fu()}(t=Mu.prototype).get=function(t,e){return Uu(this,t.F).get(ju(t,e))},t.set=function(t,e,n){var r=ju(t,n),i=this,o=Uu(this,t.F);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.F&&(i.b[r]=e)}))},t.addListener=function(t,e,n){var r;t=ju(t,e),this.l&&(this.b[t]=a.localStorage.getItem(t)),ct(this.a)&&(Uu(this,"local").ba(this.f),this.h||(Jn()||!Pr())&&a.indexedDB||!this.l||(qu(r=this),r.c=setInterval((function(){for(var t in r.a){var e=a.localStorage.getItem(t),n=r.b[t];e!=n&&(r.b[t]=e,e=new qe({type:"storage",key:t,target:window,oldValue:n,newValue:e,a:!0}),r.Vb(e))}}),1e3))),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=ju(t,e),this.a[t]&&(W(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),ct(this.a)&&(Uu(this,"local").ha(this.f),qu(this))},t.Vb=function(t){if(t&&t.f){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=a.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.ib(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?Uu(this,"local").ha(this.f):qu(this),this.m)if(n=a.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?a.localStorage.setItem(e,r):a.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===a.localStorage.getItem(e)||(o.b[e]=a.localStorage.getItem(e),o.ib(e))},zt&&Jt&&10==Jt&&a.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else j(t,m(this.ib,this))},t.ib=function(t){this.a[t]&&j(this.a[t],(function(t){t()}))};var zu,Gu={name:"authEvent",F:"local"};function Wu(){this.a=Fu()}function Hu(t,e){this.b=Ku,this.f=a.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=a.Int32Array?new Int32Array(64):Array(64),void 0===zu&&(zu=a.Int32Array?new Int32Array(tc):tc),this.reset()}_(Hu,(function(){this.b=-1}));for(var Ku=64,Qu=Ku-1,Yu=[],Xu=0;Xu<Qu;Xu++)Yu[Xu]=0;var $u=H(128,Yu);function Ju(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;e<64;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;e<64;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&h)+(0|zu[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function Zu(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(Ju(t),i=0);else{if(!h(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&o<=255&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(Ju(t),i=0)}}t.c=i,t.g+=n}Hu.prototype.reset=function(){this.g=this.c=0,this.a=a.Int32Array?new Int32Array(this.h):K(this.h)};var tc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function ec(){Hu.call(this,8,nc)}_(ec,Hu);var nc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function rc(t,e,n,r,i){this.u=t,this.i=e,this.l=n,this.m=r||null,this.s=i||null,this.h=e+":"+n,this.w=new Wu,this.g=new Bu(this.h),this.f=null,this.b=[],this.a=this.c=null}function ic(t){return new E("invalid-cordova-configuration",t)}function oc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(t){}}function ac(t){return t.f||(t.f=t.ka().then((function(){return new pe((function(e){function n(t){o=!0,s&&s.cancel(),sc(r).then((function(e){var n,o=i;e&&t&&t.url&&(n=null,-1!=(o=Wi(t.url)).indexOf("/__/auth/callback")&&(n=(n="object"==typeof(n=Sr(kn(n=Nn(o),"firebaseError")||null))?I(n):null)?new Ao(e.c,e.b,null,null,n,null,e.S()):new Ao(e.c,e.b,o,e.f,null,null,e.S())),o=n||i),oc(r,o)}))}var r,i,o,s,u;t.Ca((function n(r){return e(r),t.Qa(n),!1})),r=t,i=new Ao("unknown",null,null,null,new E("no-auth-event")),o=!1,s=yn(500).then((function(){return sc(r).then((function(){o||oc(r,i)}))})),u=a.handleOpenURL,a.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(gr("BuildInfo.packageName",a).toLowerCase()+"://")&&n({url:t}),"function"==typeof u)try{u(t)}catch(t){console.error(t)}},xo=xo||new No,function(t){var e=xo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=gr("universalLinks.subscribe",a))&&t(null,e.b))}(n)}))}))),t.f}function sc(t){var e,n=null;return(e=t.g).b.get(Gu,e.a).then(ko).then((function(e){return n=e,Vu((e=t.g).b,Gu,e.a)})).then((function(){return n}))}function uc(t){this.a=t,this.b=Fu()}(t=rc.prototype).ka=function(){return this.Ga?this.Ga:this.Ga=(sr(void 0)?ar().then((function(){return new pe((function(t,e){var n=a.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):_e(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof gr("universalLinks.subscribe",a))throw ic("cordova-universal-links-plugin-fix is not installed");if(void 0===gr("BuildInfo.packageName",a))throw ic("cordova-plugin-buildinfo is not installed");if("function"!=typeof gr("cordova.plugins.browsertab.openUrl",a))throw ic("cordova-plugin-browsertab is not installed");if("function"!=typeof gr("cordova.InAppBrowser.open",a))throw ic("cordova-plugin-inappbrowser is not installed")}),(function(){throw new E("cordova-not-ready")}))},t.Lb=function(t,e){return e(new E("operation-not-supported-in-this-environment")),we()},t.Jb=function(){return _e(new E("operation-not-supported-in-this-environment"))},t.Xb=function(){return!1},t.Ub=function(){return!0},t.Qb=function(){return!0},t.Kb=function(t,e,n,r){if(this.c)return _e(new E("redirect-operation-pending"));var i=this,o=a.document,s=null,u=null,c=null,l=null;return this.c=we().then((function(){return Co(e),ac(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),s=new Ao(e,r,null,o,new E("no-auth-event"),null,i),u=gr("BuildInfo.packageName",a);if("string"!=typeof u)throw new E("invalid-cordova-configuration");var c=gr("BuildInfo.displayName",a),l={};if(yr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!yr().toLowerCase().match(/android/))return _e(new E("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=function(t){var e=new ec;Zu(e,t),t=[];var n=8*e.g;e.c<56?Zu(e,$u,56-e.c):Zu(e,$u,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(Ju(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return q(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(o),l.sessionId=o;var h=eu(t.u,t.i,t.l,e,n,null,r,t.m,l,t.s,i);return t.ka().then((function(){var e=t.h;return t.w.a.set(Gu,s.v(),e)})).then((function(){var e=gr("cordova.plugins.browsertab.isAvailable",a);if("function"!=typeof e)throw new E("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=gr("cordova.plugins.browsertab.openUrl",a)))throw new E("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=gr("cordova.InAppBrowser.open",a)))throw new E("invalid-cordova-configuration");e=yr(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new pe((function(t,e){u=function(){var e=gr("cordova.plugins.browsertab.close",a);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ca(u),c=function(){s=s||yn(2e3).then((function(){e(new E("redirect-cancelled-by-user"))}))},l=function(){Or()&&c()},o.addEventListener("resume",c,!1),yr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(t){return sc(i).then((function(){throw t}))}))})).ma((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),s&&s.cancel(),u&&i.Qa(u),i.c=null}))},t.Ca=function(t){this.b.push(t),ac(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Ao("unknown",null,null,null,new E("no-auth-event")),t(e))}))},t.Qa=function(t){W(this.b,(function(e){return e==t}))};var cc={name:"pendingRedirect",F:"session"};function lc(t){return Vu(t.b,cc,t.a)}function hc(t,e,n){this.i={},this.w=0,this.D=t,this.u=e,this.m=n,this.h=[],this.f=!1,this.l=m(this.s,this),this.b=new Sc,this.B=new Oc,this.g=new uc(this.u+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.B,this.c.linkViaPopup=this.B,this.c.reauthViaPopup=this.B,this.a=fc(this.D,this.u,this.m,T)}function fc(t,e,n,r){var i=yu.SDK_VERSION||null;return new(sr()?rc:$s)(t,e,n,i,r)}function pc(t){t.f||(t.f=!0,t.a.Ca(t.l));var e=t.a;return t.a.ka().o((function(n){throw t.a==e&&t.reset(),n}))}function dc(t){t.a.Ub()&&pc(t).o((function(e){var n=new Ao("unknown",null,null,null,new E("operation-not-supported-in-this-environment"));wc(e)&&t.s(n)})),t.a.Qb()||Cc(t.b)}function vc(t,e){var n;z(t.h,e)||t.h.push(e),t.f||(n=t.g).b.get(cc,n.a).then((function(t){return"pending"==t})).then((function(e){e?lc(t.g).then((function(){pc(t).o((function(e){var n=new Ao("unknown",null,null,null,new E("operation-not-supported-in-this-environment"));wc(e)&&t.s(n)}))})):dc(t)})).o((function(){dc(t)}))}function yc(t,e){W(t.h,(function(t){return t==e}))}hc.prototype.reset=function(){this.f=!1,this.a.Qa(this.l),this.a=fc(this.D,this.u,this.m),this.i={}},hc.prototype.s=function(t){if(!t)throw new E("invalid-auth-event");if(6e5<=w()-this.w&&(this.i={},this.w=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Cb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.w=w())),e=!0;break}}return Cc(this.b),e};var gc=new Nr(2e3,1e4),mc=new Nr(3e4,6e4);function bc(t,e,n,r,i,o,a){return t.a.Jb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ca(t.l))}),(function(){t.reset()}),i,o,a)}function wc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function _c(t,e,n,r,i){var o,a;return(a=t.g).b.set(cc,"pending",a.a).then((function(){return t.a.Kb(e,n,r,i).o((function(e){if(wc(e))throw new E("operation-not-supported-in-this-environment");return o=e,lc(t.g).then((function(){throw o}))})).then((function(){return t.a.Xb()?new pe((function(){})):lc(t.g).then((function(){return t.pa()})).then((function(){})).o((function(){}))}))}))}function Ec(t,e,n,r,i){return t.a.Lb(r,(function(t){e.la(n,null,t,i)}),gc.get())}hc.prototype.pa=function(){return this.b.pa()};var Ic={};function Tc(t,e,n){var r=e+":"+n;return Ic[r]||(Ic[r]=new hc(t,e,n)),Ic[r]}function Sc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Cc(t){t.g||(t.g=!0,Nc(t,!1,null,null))}function Ac(t){t.g&&!t.i&&Nc(t,!1,null,null)}function kc(t,e){if(t.b=function(){return we(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Nc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return _e(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):kc(t,n):kc(t,{user:null}),t.f=[],t.c=[]}function Oc(){}function xc(){this.Bb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.Bb},set:function(t){this.Bb=t},enumerable:!1})}function Pc(t,e){this.a=e,Fr(this,"verificationId",t)}function Rc(t,e,n,r){return new Io(t).cb(e,n).then((function(t){return new Pc(t,r)}))}function Dc(t){var e=xi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new E("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Ur(this,{token:t,expirationTime:xr(1e3*e.exp),authTime:xr(1e3*e.auth_time),issuedAtTime:xr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function Lc(t,e,n){var r=e&&e[Fc];if(!r)throw new E("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=lt(e),this.g=n,this.c=new Hi(null,r),this.b=[];var i=this;j(e[Mc]||[],(function(t){(t=Br(t))&&i.b.push(t)})),Fr(this,"auth",this.a),Fr(this,"session",this.c),Fr(this,"hints",this.b)}Sc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Sc.prototype.h=function(t,e){var n,r,i,o;t?(this.reset(),this.g=!0,n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code,this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Nc(this,!0,null,t.a),we()):e.Da(n,r)?function(t,e,n){n=n.Da(e.c,e.b);var r=e.g,i=e.f,o=e.i,a=e.S(),s=!!e.c.match(/Redirect$/);n(r,i,a,o).then((function(e){Nc(t,s,e,null)})).o((function(e){Nc(t,s,null,e)}))}(this,t,e):_e(new E("invalid-auth-event")):(Nc(this,!1,null,null),we())):_e(new E("invalid-auth-event"))},Sc.prototype.pa=function(){var t=this;return new pe((function(e,n){var r,i;t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),r=t,i=new E("timeout"),r.a&&r.a.cancel(),r.a=yn(mc.get()).then((function(){r.b||(r.g=!0,Nc(r,!0,null,i))})))}))},Oc.prototype.h=function(t,e){var n,r,i,o,a,s;t?(n=t.c,r=t.b,t.a?(e.la(t.c,null,t.a,t.b),we()):e.Da(n,r)?(o=e,a=(i=t).b,s=i.c,o.Da(s,a)(i.g,i.f,i.S(),i.i).then((function(t){o.la(s,t,null,a)})).o((function(t){o.la(s,null,t,a)}))):_e(new E("invalid-auth-event"))):_e(new E("invalid-auth-event"))},Pc.prototype.confirm=function(t){return t=To(this.verificationId,t),this.a(t)};var Mc="mfaInfo",Fc="mfaPendingCredential";function Uc(t,e,n,r){E.call(this,"multi-factor-auth-required",r,e),this.b=new Lc(t,e,n),Fr(this,"resolver",this.b)}function jc(t,e,n){if(t&&p(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new Uc(e,t.serverResponse,n,t.message)}catch(t){}return null}function Vc(){}function qc(t){Fr(this,"factorId",t.ea),this.a=t}function Bc(t){if(qc.call(this,t),this.a.ea!=Io.PROVIDER_ID)throw new E("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function zc(t,e){for(var n in Ve.call(this,t),e)this[n]=e[n]}function Gc(t,e){this.a=t,this.b=[],this.c=m(this.wc,this),Je(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&j(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[Wr]=t.uid),t.displayName&&(r[zr]=t.displayName),t.enrollmentTime&&(r[Gr]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[Hr]=t.phoneNumber);try{e=new Kr(r)}catch(t){}t=e}else t=null;t&&n.push(t)})),Wc(this,n)}function Wc(t,e){t.b=e,Fr(t,"enrolledFactors",e)}function Hc(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function Kc(t){this.c=t,this.b=this.a=null}function Qc(t){return t.b&&1e3*t.b.c||0}function Yc(t,e){var n=e.refreshToken;t.b=Oi(e[Ua]||""),t.a=n}function Xc(t,e){this.a=t||null,this.b=e||null,Ur(this,{lastSignInTime:xr(e||null),creationTime:xr(t||null)})}function $c(t,e,n,r,i,o){Ur(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function Jc(t,e,n){var r;this.N=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null,t=yu.SDK_VERSION?vr(yu.SDK_VERSION):null,this.a=new Ma(this.l,k(T),t),this.b=new Kc(this.a),ol(this,e[Ua]),Yc(this.b,e),Fr(this,"refreshToken",this.b.a),ul(this,n||{}),hn.call(this),this.P=!1,this.s&&br()&&(this.i=Tc(this.s,this.l,this.m)),this.R=[],this.h=null,this.B=(r=this,new Hc((function(){return r.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var t=Qc(r.b)-w()-3e5;return 0<t?t:0}))),this.Z=m(this.Ma,this);var i=this;this.oa=null,this.za=function(t){i.va(t.g)},this.aa=null,this.W=[],this.ya=function(t){tl(i,t.c)},this.$=null,this.O=new Gc(this,n),Fr(this,"multiFactor",this.O)}function Zc(t,e){t.aa&&en(t.aa,"languageCodeChanged",t.za),(t.aa=e)&&Je(e,"languageCodeChanged",t.za)}function tl(t,e){t.W=e,Ga(t.a,yu.SDK_VERSION?vr(yu.SDK_VERSION,t.W):null)}function el(t,e){t.$&&en(t.$,"frameworkChanged",t.ya),(t.$=e)&&Je(e,"frameworkChanged",t.ya)}function nl(e){try{return yu.app(e.m).auth()}catch(t){throw new E("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function rl(t){t.D||t.B.b||(t.B.start(),en(t,"tokenChanged",t.Z),Je(t,"tokenChanged",t.Z))}function il(t){en(t,"tokenChanged",t.Z),t.B.stop()}function ol(t,e){t.xa=e,Fr(t,"_lat",e)}function al(t){for(var e=[],n=0;n<t.R.length;n++)e.push(t.R[n](t));return Ie(e).then((function(){return t}))}function sl(t){t.i&&!t.P&&(t.P=!0,vc(t.i,t))}function ul(t,e){Ur(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new Xc(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function cl(){}function ll(t){return we().then((function(){if(t.D)throw new E("app-deleted")}))}function hl(t){return q(t.providerData,(function(t){return t.providerId}))}function fl(t,e){e&&(pl(t,e.providerId),t.providerData.push(e))}function pl(t,e){W(t.providerData,(function(t){return t.providerId==e}))}function dl(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Fr(t,e,n)}function vl(t,e){var n,r,i;t!=e&&(Ur(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?Fr(t,"metadata",new Xc((i=e.metadata).a,i.b)):Fr(t,"metadata",new Xc),j(e.providerData,(function(e){fl(t,e)})),n=t.b,r=e.b,n.b=r.b,n.a=r.a,Fr(t,"refreshToken",t.b.a),Wc(t.O,e.O.b))}function yl(t){return t.I().then((function(e){var n,r,i=t.isAnonymous;return r=e,Vs((n=t).a,gs,{idToken:r}).then(m(n.Ic,n)).then((function(){return i||dl(t,"isAnonymous",!1),e}))}))}function gl(t,e){e[Ua]&&t.xa!=e[Ua]&&(Yc(t.b,e),t.dispatchEvent(new zc("tokenChanged")),ol(t,e[Ua]),dl(t,"refreshToken",t.b.a))}function ml(t,e){return yl(t).then((function(){if(z(hl(t),e))return al(t).then((function(){throw new E("provider-already-linked")}))}))}function bl(t,e,n){return jr({user:t,credential:So(e),additionalUserInfo:e=Mi(e),operationType:n})}function wl(t,e){return gl(t,e),t.reload().then((function(){return t}))}function _l(t,e,n,r,i){if(!br())return _e(new E("operation-not-supported-in-this-environment"));if(t.h&&!i)return _e(t.h);var o=Li(n.providerId),a=Cr(t.uid+":::"),s=null;(!Er()||ur())&&t.s&&n.isOAuthProvider&&(s=eu(t.s,t.l,t.m,e,n,null,a,yu.SDK_VERSION||null,null,null,t.tenantId));var u=rr(s,o&&o.ta,o&&o.sa);return r=r().then((function(){if(Il(t),!i)return t.I().then((function(){}))})).then((function(){return bc(t.i,u,e,n,a,!!s,t.tenantId)})).then((function(){return new pe((function(n,r){t.la(e,null,new E("cancelled-popup-request"),t.g||null),t.f=n,t.w=r,t.g=a,t.c=Ec(t.i,t,e,u,a)}))})).then((function(t){return u&&nr(u),t?jr(t):null})).o((function(t){throw u&&nr(u),t})),Tl(t,r,i)}function El(t,e,n,r,i){if(!br())return _e(new E("operation-not-supported-in-this-environment"));if(t.h&&!i)return _e(t.h);var o=null,a=Cr(t.uid+":::");return r=r().then((function(){if(Il(t),!i)return t.I().then((function(){}))})).then((function(){return t.fa=a,al(t)})).then((function(e){return t.ga&&(e=(e=t.ga).b.set(Al,t.v(),e.a)),e})).then((function(){return _c(t.i,e,n,a,t.tenantId)})).o((function(e){if(o=e,t.ga)return kl(t.ga);throw o})).then((function(){if(o)throw o})),Tl(t,r,i)}function Il(t){if(!t.i||!t.P){if(t.i&&!t.P)throw new E("internal-error");throw new E("auth-domain-config-required")}}function Tl(t,e,n){var r,i,o,a=(i=e,o=n,(r=t).h&&!o?(i.cancel(),_e(r.h)):i.o((function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(r.h||r.dispatchEvent(new zc("userInvalidated")),r.h=t),t})));return t.N.push(a),a.ma((function(){G(t.N,a)})),a.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=jc(e.v(),nl(t),m(t.hc,t))),n||e}))}function Sl(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Ua]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=new Jc(e,n,t);return t.providerData&&j(t.providerData,(function(t){t&&fl(r,jr(t))})),t.redirectEventId&&(r.fa=t.redirectEventId),r}function Cl(t){this.a=t,this.b=Fu()}Lc.prototype.Pc=function(t){var e=this;return t.ob(this.a.b,this.c).then((function(t){var n=lt(e.f);return delete n[Mc],delete n[Fc],ft(n,t),e.g(n)}))},_(Uc,E),Vc.prototype.ob=function(t,e,n){return e.type==Ki?(o=this,a=t,s=n,e.Fa().then((function(t){return t={idToken:t},void 0!==s&&(t.displayName=s),ft(t,{phoneVerificationInfo:Eo(o.a)}),Vs(a,vs,t)}))):(r=this,i=t,e.Fa().then((function(t){return ft(t={mfaPendingCredential:t},{phoneVerificationInfo:Eo(r.a)}),Vs(i,ys,t)})));var r,i,o,a,s},_(qc,Vc),_(Bc,qc),_(zc,Ve),(t=Gc.prototype).wc=function(t){var e,n;Wc(this,(e=t.ed,n=[],j(e.mfaInfo||[],(function(t){(t=Br(t))&&n.push(t)})),n))},t.Ob=function(){return this.a.I().then((function(t){return new Hi(t,null)}))},t.dc=function(t,e){var n=this,r=this.a.a;return this.Ob().then((function(n){return t.ob(r,n,e)})).then((function(t){return gl(n.a,t),n.a.reload()}))},t.$c=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return Vs(r,js,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=V(e.b,(function(t){return t.uid!=n}));return Wc(e,r),gl(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.v=function(){return{multiFactor:{enrolledFactors:q(this.b,(function(t){return t.v()}))}}},Hc.prototype.start=function(){this.a=this.c,function t(e,n){e.stop(),e.b=yn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,n)).then((function(){return t=a.document,e=null,Or()||!t?we():new pe((function(n){e=function(){Or()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}));var t,e})).then((function(){return e.h()})).then((function(){t(e,!0)})).o((function(n){e.i(n)&&t(e,!1)}))}(this,!0)},Hc.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},Kc.prototype.v=function(){return{apiKey:this.c.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:Qc(this)}},Kc.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?_e(new E("user-token-expired")):t||!this.b||w()>Qc(this)-3e4?this.a?function(t,e){return n=t.c,r=e,new pe((function(t,e){"refresh_token"==r.grant_type&&r.refresh_token||"authorization_code"==r.grant_type&&r.code?Wa(n,n.u+"?key="+encodeURIComponent(n.c),(function(n){n?n.error?e(Bs(n)):n.access_token&&n.refresh_token?t(n):e(new E("internal-error")):e(new E("network-request-failed"))}),"POST",qn(r).toString(),n.g,n.m.get()):e(new E("internal-error"))})).then((function(e){return t.b=Oi(e.access_token),t.a=e.refresh_token,{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}));var n,r}(this,{grant_type:"refresh_token",refresh_token:this.a}):we(null):we({accessToken:this.b.toString(),refreshToken:this.a})},Xc.prototype.v=function(){return{lastLoginAt:this.b,createdAt:this.a}},_(Jc,hn),Jc.prototype.va=function(t){this.oa=t,za(this.a,t)},Jc.prototype.ja=function(){return this.oa},Jc.prototype.Ea=function(){return K(this.W)},Jc.prototype.Ma=function(){this.B.b&&(this.B.stop(),this.B.start())},Fr(Jc.prototype,"providerId","firebase"),(t=Jc.prototype).reload=function(){var t=this;return Tl(this,ll(this).then((function(){return yl(t).then((function(){return al(t)})).then(cl)})))},t.mc=function(t){return this.I(t).then((function(t){return new Dc(t)}))},t.I=function(t){var e=this;return Tl(this,ll(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new E("internal-error");return t.accessToken!=e.xa&&(ol(e,t.accessToken),e.dispatchEvent(new zc("tokenChanged"))),dl(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Ic=function(t){if(!(t=t.users)||!t.length)throw new E("internal-error");ul(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e,n=(e=(e=t).providerUserInfo)&&e.length?q(e,(function(t){return new $c(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[],r=0;r<n.length;r++)fl(this,n[r]);dl(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new zc("userReloaded",{ed:t}))},t.Jc=function(t){return Lr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.pb(t)},t.pb=function(t){var e=this,n=null;return Tl(this,t.c(this.a,this.uid).then((function(t){return gl(e,t),n=bl(e,t,"reauthenticate"),e.h=null,e.reload()})).then((function(){return n})),!0)},t.Ac=function(t){return Lr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.mb(t)},t.mb=function(t){var e=this,n=null;return Tl(this,ml(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=bl(e,t,"link"),wl(e,t)})).then((function(){return n})))},t.Bc=function(t,e){var n=this;return Tl(this,ml(this,"phone").then((function(){return Rc(nl(n),t,e,m(n.mb,n))})))},t.Kc=function(t,e){var n=this;return Tl(this,we().then((function(){return Rc(nl(n),t,e,m(n.pb,n))})),!0)},t.xb=function(t){var e=this;return Tl(this,this.I().then((function(n){return e.a.xb(n,t)})).then((function(t){return gl(e,t),e.reload()})))},t.cd=function(t){var e=this;return Tl(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return gl(e,t),e.reload()})))},t.yb=function(t){var e=this;return Tl(this,this.I().then((function(n){return e.a.yb(n,t)})).then((function(t){return gl(e,t),e.reload()})))},t.zb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return ll(this);var e=this;return Tl(this,this.I().then((function(n){return e.a.zb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return gl(e,t),dl(e,"displayName",t.displayName||null),dl(e,"photoURL",t.photoUrl||null),j(e.providerData,(function(t){"password"===t.providerId&&(Fr(t,"displayName",e.displayName),Fr(t,"photoURL",e.photoURL))})),al(e)})).then(cl))},t.ad=function(t){var e=this;return Tl(this,yl(this).then((function(n){return z(hl(e),t)?Vs(e.a,fs,{idToken:n,deleteProvider:[t]}).then((function(t){var n={};return j(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),j(hl(e),(function(t){n[t]||pl(e,t)})),n[Io.PROVIDER_ID]||Fr(e,"phoneNumber",null),al(e)})):al(e).then((function(){throw new E("no-such-provider")}))})))},t.delete=function(){var t=this;return Tl(this,this.I().then((function(e){return Vs(t.a,hs,{idToken:e})})).then((function(){t.dispatchEvent(new zc("userDeleted"))}))).then((function(){for(var e=0;e<t.N.length;e++)t.N[e].cancel("app-deleted");Zc(t,null),el(t,null),t.N=[],t.D=!0,il(t),Fr(t,"refreshToken",null),t.i&&yc(t.i,t)}))},t.Cb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.fa||null)==e||"reauthViaRedirect"==t&&(this.fa||null)==e)},t.la=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.w?this.w(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},t.Da=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?m(this.Hb,this):"reauthViaPopup"==t&&e==(this.g||null)?m(this.Ib,this):"linkViaRedirect"==t&&(this.fa||null)==e?m(this.Hb,this):"reauthViaRedirect"==t&&(this.fa||null)==e?m(this.Ib,this):null},t.Cc=function(t){var e=this;return _l(this,"linkViaPopup",t,(function(){return ml(e,t.providerId).then((function(){return al(e)}))}),!1)},t.Lc=function(t){return _l(this,"reauthViaPopup",t,(function(){return we()}),!0)},t.Dc=function(t){var e=this;return El(this,"linkViaRedirect",t,(function(){return ml(e,t.providerId)}),!1)},t.Mc=function(t){return El(this,"reauthViaRedirect",t,(function(){return we()}),!0)},t.Hb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Tl(this,this.I().then((function(n){return is(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=bl(i,t,"link"),wl(i,t)})).then((function(){return o})))},t.Ib=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Tl(this,we().then((function(){return Xi(os(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=bl(i,t,"reauthenticate"),gl(i,t),i.h=null,i.reload()})).then((function(){return o})),!0)},t.qb=function(t){var e=this,n=null;return Tl(this,this.I().then((function(e){return n=e,void 0===t||ct(t)?{}:Ai(new gi(t))})).then((function(t){return e.a.qb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Ab=function(t,e){var n=this,r=null;return Tl(this,this.I().then((function(t){return r=t,void 0===e||ct(e)?{}:Ai(new gi(e))})).then((function(e){return n.a.Ab(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.hc=function(t){var e=null,n=this;return Tl(this,t=Xi(we(t),n.uid).then((function(t){return e=bl(n,t,"reauthenticate"),gl(n,t),n.h=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.v()},t.v=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.v(),redirectEventId:this.fa||null};return this.metadata&&ft(t,this.metadata.v()),j(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),ft(t,this.O.v()),t};var Al={name:"redirectUser",F:"session"};function kl(t){return Vu(t.b,Al,t.a)}function Nl(t){var e,n,r,i;this.a=t,this.b=Fu(),this.c=null,this.f=(n=Pl("local"),r=Pl("session"),i=Pl("none"),function(t,e,n){var r=ju(e,n),i=Uu(t,e.F);return t.get(e,n).then((function(o){var s=null;try{s=Sr(a.localStorage.getItem(r))}catch(o){}if(s&&!o)return a.localStorage.removeItem(r),t.set(e,s,n);s&&o&&"localStorage"!=i.type&&a.localStorage.removeItem(r)}))}((e=this).b,n,e.a).then((function(){return e.b.get(r,e.a)})).then((function(t){return t?r:e.b.get(i,e.a).then((function(t){return t?i:e.b.get(n,e.a).then((function(t){return t?n:e.b.get(xl,e.a).then((function(t){return t?Pl(t):n}))}))}))})).then((function(t){return e.c=t,Ol(e,t.F)})).o((function(){e.c||(e.c=n)}))),this.b.addListener(Pl("local"),this.a,m(this.g,this))}function Ol(t,e){var n,r,i=[];for(n in Lu)Lu[n]!==e&&i.push(Vu(t.b,Pl(Lu[n]),t.a));return i.push(Vu(t.b,xl,t.a)),r=i,new pe((function(t,e){var n=r.length,i=[];if(n)for(var o=function(e,r){n--,i[e]=r,0==n&&t(i)},a=function(t){e(t)},s=0;s<r.length;s++)Ee(r[s],b(o,s),a);else t(i)}))}Nl.prototype.g=function(){var t=this,e=Pl("local");Ml(this,(function(){return we().then((function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null})).then((function(n){if(n)return Ol(t,"local").then((function(){t.c=e}))}))}))};var xl={name:"persistence",F:"session"};function Pl(t){return{name:"authUser",F:t}}function Rl(t,e){return Ml(t,(function(){return t.b.set(t.c,e.v(),t.a)}))}function Dl(t){return Ml(t,(function(){return Vu(t.b,t.c,t.a)}))}function Ll(t,e){return Ml(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),Sl(t||{})}))}))}function Ml(t,e){return t.f=t.f.then(e,e),t.f}function Fl(t){if(this.l=!1,Fr(this,"settings",new xc),Fr(this,"app",t),!this.app.options||!this.app.options.apiKey)throw new E("invalid-api-key");var e,n,r,i,o,a,s,u;t=yu.SDK_VERSION?vr(yu.SDK_VERSION):null,this.b=new Ma(this.app.options&&this.app.options.apiKey,k(T),t),this.P=[],this.m=[],this.O=[],this.$b=yu.INTERNAL.createSubscribe(m(this.xc,this)),this.W=void 0,this.ac=yu.INTERNAL.createSubscribe(m(this.yc,this)),Bl(this,null),this.i=new Nl(this.app.options.apiKey+":"+this.app.name),this.B=new Cl(this.app.options.apiKey+":"+this.app.name),this.Z=Kl(this,(n=(e=this).app.options.authDomain,r=function(t){var e=function(t,e){return t.b.get(Al,t.a).then((function(t){return t&&e&&(t.authDomain=e),Sl(t||{})}))}(t.B,t.app.options.authDomain).then((function(e){return(t.D=e)&&(e.ga=t.B),kl(t.B)}));return Kl(t,e)}(e).then((function(){return Ll(e.i,n)})).then((function(t){return t?(t.ga=e.B,e.D&&(e.D.fa||null)==(t.fa||null)?t:t.reload().then((function(){return Rl(e.i,t).then((function(){return t}))})).o((function(n){return"auth/network-request-failed"==n.code?t:Dl(e.i)}))):null})).then((function(t){Bl(e,t||null)})),Kl(e,r))),this.h=Kl(this,(i=this).Z.then((function(){return ql(i)})).o((function(){})).then((function(){if(!i.l)return i.oa()})).o((function(){})).then((function(){var t;i.l||(i.aa=!0,(t=i.i).b.addListener(Pl("local"),t.a,i.oa))}))),this.aa=!1,this.oa=m(this.Xc,this),this.Ma=m(this.ca,this),this.xa=m(this.jc,this),this.ya=m(this.uc,this),this.za=m(this.vc,this),this.a=null,a=(o=this).app.options.authDomain,s=o.app.options.apiKey,a&&br()&&(o.Zb=o.Z.then((function(){var t;if(!o.l)return o.a=Tc(a,s,o.app.name),vc(o.a,o),Gl(o)&&sl(Gl(o)),o.D&&(sl(o.D),(t=o.D).va(o.ja()),Zc(t,o),tl(t=o.D,o.N),el(t,o),o.D=null),o.a}))),this.INTERNAL={},this.INTERNAL.delete=m(this.delete,this),this.INTERNAL.logFramework=m(this.Ec,this),this.s=0,hn.call(this),u=this,Object.defineProperty(u,"lc",{get:function(){return this.ja()},set:function(t){this.va(t)},enumerable:!1}),u.$=null,Object.defineProperty(u,"ti",{get:function(){return this.S()},set:function(t){this.ub(t)},enumerable:!1}),u.R=null,this.N=[]}function Ul(t){Ve.call(this,"languageCodeChanged"),this.g=t}function jl(t){Ve.call(this,"frameworkChanged"),this.c=t}function Vl(t){return t.Zb||_e(new E("auth-domain-config-required"))}function ql(t){if(!br())return _e(new E("operation-not-supported-in-this-environment"));var e=Vl(t).then((function(){return t.a.pa()})).then((function(t){return t?jr(t):null}));return Kl(t,e)}function Bl(t,e){var n,r;Gl(t)&&(n=Gl(t),r=t.Ma,W(n.R,(function(t){return t==r})),en(Gl(t),"tokenChanged",t.xa),en(Gl(t),"userDeleted",t.ya),en(Gl(t),"userInvalidated",t.za),il(Gl(t))),e&&(e.R.push(t.Ma),Je(e,"tokenChanged",t.xa),Je(e,"userDeleted",t.ya),Je(e,"userInvalidated",t.za),0<t.s&&rl(e)),Fr(t,"currentUser",e),e&&(e.va(t.ja()),Zc(e,t),tl(e,t.N),el(e,t))}function zl(t,e){var n=null,r=null;return Kl(t,e.then((function(e){return n=So(e),r=Mi(e),function(t,e){var n={};return n.apiKey=t.app.options.apiKey,n.authDomain=t.app.options.authDomain,n.appName=t.app.name,t.Z.then((function(){return r=n,i=e,o=t.B,a=t.Ea(),s=new Jc(r,i),o&&(s.ga=o),a&&tl(s,a),s.reload().then((function(){return s}));var r,i,o,a,s})).then((function(e){return Gl(t)&&e.uid==Gl(t).uid?vl(Gl(t),e):(Bl(t,e),sl(e)),t.ca(e)})).then((function(){Hl(t)}))}(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=jc(e.v(),t,m(t.ic,t))),n||e})).then((function(){return jr({user:Gl(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function Gl(t){return t.currentUser}function Wl(t){return Gl(t)&&Gl(t)._lat||null}function Hl(t){if(t.aa){for(var e=0;e<t.m.length;e++)t.m[e]&&t.m[e](Wl(t));if(t.W!==t.getUid()&&t.O.length)for(t.W=t.getUid(),e=0;e<t.O.length;e++)t.O[e]&&t.O[e](Wl(t))}}function Kl(t,e){return t.P.push(e),e.ma((function(){G(t.P,e)})),e}function Ql(){}function Yl(){this.a={},this.b=1e12}Nl.prototype.tb=function(t){var e=null,n=this;return function(t){var e=new E("invalid-persistence-type"),n=new E("unsupported-persistence-type");t:{for(r in Lu)if(Lu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(lr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!pu()&&"none"!==t)throw n;break;default:if(!mr()&&"none"!==t)throw n}}(t),Ml(this,(function(){return t!=n.c.F?n.b.get(n.c,n.a).then((function(r){return e=r,Ol(n,t)})).then((function(){if(n.c=Pl(t),e)return n.b.set(n.c,e,n.a)})):we()}))},_(Fl,hn),_(Ul,Ve),_(jl,Ve),(t=Fl.prototype).tb=function(t){return Kl(this,t=this.i.tb(t))},t.va=function(t){this.$===t||this.l||(this.$=t,za(this.b,this.$),this.dispatchEvent(new Ul(this.ja())))},t.ja=function(){return this.$},t.dd=function(){var t=a.navigator;this.va(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.Ec=function(t){this.N.push(t),Ga(this.b,yu.SDK_VERSION?vr(yu.SDK_VERSION,this.N):null),this.dispatchEvent(new jl(this.N))},t.Ea=function(){return K(this.N)},t.ub=function(t){this.R===t||this.l||(this.R=t,this.b.b=this.R)},t.S=function(){return this.R},t.toJSON=function(){return{apiKey:this.app.options.apiKey,authDomain:this.app.options.authDomain,appName:this.app.name,currentUser:Gl(this)&&Gl(this).v()}},t.Cb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.la=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.w?this.w(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},t.Da=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?m(this.gc,this):null},t.gc=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.Z.then((function(){return zl(i,rs(i.b,o))}))},t.Vc=function(t){if(!br())return _e(new E("operation-not-supported-in-this-environment"));var e=this,n=Li(t.providerId),r=Cr(),i=null;(!Er()||ur())&&this.app.options.authDomain&&t.isOAuthProvider&&(i=eu(this.app.options.authDomain,this.app.options.apiKey,this.app.name,"signInViaPopup",t,null,r,yu.SDK_VERSION||null,null,null,this.S()));var o=rr(i,n&&n.ta,n&&n.sa);return Kl(this,n=Vl(this).then((function(n){return bc(n,o,"signInViaPopup",t,r,!!i,e.S())})).then((function(){return new pe((function(t,n){e.la("signInViaPopup",null,new E("cancelled-popup-request"),e.g),e.f=t,e.w=n,e.g=r,e.c=Ec(e.a,e,"signInViaPopup",o,r)}))})).then((function(t){return o&&nr(o),t?jr(t):null})).o((function(t){throw o&&nr(o),t})))},t.Wc=function(t){if(!br())return _e(new E("operation-not-supported-in-this-environment"));var e=this;return Kl(this,Vl(this).then((function(){return Ml(t=e.i,(function(){return t.b.set(xl,t.c.F,t.a)}));var t})).then((function(){return _c(e.a,"signInViaRedirect",t,void 0,e.S())})))},t.pa=function(){var t=this;return ql(this).then((function(e){return t.a&&Ac(t.a.b),e})).o((function(e){throw t.a&&Ac(t.a.b),e}))},t.bd=function(t){if(!t)return _e(new E("null-user"));if(this.R!=t.tenantId)return _e(new E("tenant-id-mismatch"));var e=this,n={};n.apiKey=this.app.options.apiKey,n.authDomain=this.app.options.authDomain,n.appName=this.app.name;var r,i,o,a,s,u,c=(r=t,i=n,o=e.B,a=e.Ea(),s=r.b,(u={})[Ua]=s.b&&s.b.toString(),u.refreshToken=s.a,i=new Jc(i||{apiKey:r.l,authDomain:r.s,appName:r.m},u),o&&(i.ga=o),a&&tl(i,a),vl(i,r),i);return Kl(this,this.h.then((function(){if(e.app.options.apiKey!=t.l)return c.reload()})).then((function(){return Gl(e)&&t.uid==Gl(e).uid?(vl(Gl(e),t),e.ca(t)):(Bl(e,c),sl(c),e.ca(c))})).then((function(){Hl(e)})))},t.wb=function(){var t=this;return Kl(this,this.h.then((function(){return t.a&&Ac(t.a.b),Gl(t)?(Bl(t,null),Dl(t.i).then((function(){Hl(t)}))):we()})))},t.Xc=function(){var t=this;return Ll(this.i,this.app.options.authDomain).then((function(e){if(!t.l){var n,r;if((r=Gl(t)&&e)&&(r=Gl(t).uid,n=e.uid,r=null!=r&&""!==r&&null!=n&&""!==n&&r==n),r)return vl(Gl(t),e),Gl(t).I();(Gl(t)||e)&&(Bl(t,e),e&&(sl(e),e.ga=t.B),t.a&&vc(t.a,t),Hl(t))}}))},t.ca=function(t){return Rl(this.i,t)},t.jc=function(){Hl(this),this.ca(Gl(this))},t.uc=function(){this.wb()},t.vc=function(){this.wb()},t.ic=function(t){var e=this;return this.h.then((function(){return zl(e,we(t))}))},t.xc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(Gl(e))}))},t.yc=function(t){var e,n,r=this;n=function(){t.next(Gl(r))},(e=this).O.push(n),Kl(e,e.h.then((function(){!e.l&&z(e.O,n)&&e.W!==e.getUid()&&(e.W=e.getUid(),n(Wl(e)))})))},t.Gc=function(t,e,n){var r=this;return this.aa&&Promise.resolve().then((function(){"function"==typeof t?t(Gl(r)):"function"==typeof t.next&&t.next(Gl(r))})),this.$b(t,e,n)},t.Fc=function(t,e,n){var r=this;return this.aa&&Promise.resolve().then((function(){r.W=r.getUid(),"function"==typeof t?t(Gl(r)):"function"==typeof t.next&&t.next(Gl(r))})),this.ac(t,e,n)},t.kc=function(t){var e=this;return Kl(this,this.h.then((function(){return Gl(e)?Gl(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Rc=function(t){var e=this;return this.h.then((function(){return zl(e,Vs(e.b,Ds,{token:t}))})).then((function(t){var n=t.user;return dl(n,"isAnonymous",!1),e.ca(n),t}))},t.Sc=function(t,e){var n=this;return this.h.then((function(){return zl(n,Vs(n.b,Ls,{email:t,password:e}))}))},t.cc=function(t,e){var n=this;return this.h.then((function(){return zl(n,Vs(n.b,cs,{email:t,password:e}))}))},t.Ya=function(t){var e=this;return this.h.then((function(){return zl(e,t.ia(e.b))}))},t.Qc=function(t){return Lr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Ya(t)},t.vb=function(){var t=this;return this.h.then((function(){var e=Gl(t);if(e&&e.isAnonymous){var n=jr({providerId:null,isNewUser:!1});return jr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return zl(t,t.b.vb()).then((function(e){var n=e.user;return dl(n,"isAnonymous",!0),t.ca(n),e}))}))},t.getUid=function(){return Gl(this)&&Gl(this).uid||null},t.bc=function(t){this.addAuthTokenListener(t),this.s++,0<this.s&&Gl(this)&&rl(Gl(this))},t.Nc=function(t){var e=this;j(this.m,(function(n){n==t&&e.s--})),this.s<0&&(this.s=0),0==this.s&&Gl(this)&&il(Gl(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.m.push(t),Kl(this,this.h.then((function(){e.l||z(e.m,t)&&t(Wl(e))})))},t.removeAuthTokenListener=function(t){W(this.m,(function(e){return e==t}))},t.delete=function(){this.l=!0;for(var t=0;t<this.P.length;t++)this.P[t].cancel("app-deleted");return this.P=[],this.i&&(t=this.i).b.removeListener(Pl("local"),t.a,this.oa),this.a&&(yc(this.a,this),Ac(this.a.b)),Promise.resolve()},t.fc=function(t){return Kl(this,Vs(this.b,ls,{identifier:t,continueUri:wr()?Zn():"http://localhost"}).then((function(t){return t.signinMethods||[]})))},t.zc=function(t){return!!bo(t)},t.sb=function(t,e){var n=this;return Kl(this,we().then((function(){var t=new gi(e);if(!t.c)throw new E("argument-error",wi+" must be true when sending sign in link to email");return Ai(t)})).then((function(e){return n.b.sb(t,e)})).then((function(){})))},t.fd=function(t){return this.Pa(t).then((function(t){return t.data.email}))},t.jb=function(t,e){return Kl(this,this.b.jb(t,e).then((function(){})))},t.Pa=function(t){return Kl(this,this.b.Pa(t).then((function(t){return new Qr(t)})))},t.fb=function(t){return Kl(this,this.b.fb(t).then((function(){})))},t.rb=function(t,e){var n=this;return Kl(this,we().then((function(){return void 0===e||ct(e)?{}:Ai(new gi(e))})).then((function(e){return n.b.rb(t,e)})).then((function(){})))},t.Uc=function(t,e){return Kl(this,Rc(this,t,e,m(this.Ya,this)))},t.Tc=function(t,e){var n=this;return Kl(this,we().then((function(){var r=e||Zn(),i=mo(t,r);if(!(r=bo(r)))throw new E("argument-error","Invalid email link!");if(r.tenantId!==n.S())throw new E("tenant-id-mismatch");return n.Ya(i)})))},Ql.prototype.render=function(){},Ql.prototype.reset=function(){},Ql.prototype.getResponse=function(){},Ql.prototype.execute=function(){};var Xl=null;function $l(t,e){return(e=Jl(e))&&t.a[e]||null}function Jl(t){return(t=void 0===t?1e12:t)?t.toString():null}function Zl(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ne(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():Je(this.f,"click",this.i)}function th(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function eh(){}function nh(){}Yl.prototype.render=function(t,e){return this.a[this.b.toString()]=new Zl(t,e),this.b++},Yl.prototype.reset=function(t){var e=$l(this,t);t=Jl(t),e&&t&&(e.delete(),delete this.a[t])},Yl.prototype.getResponse=function(t){return(t=$l(this,t))?t.getResponse():null},Yl.prototype.execute=function(t){(t=$l(this,t))&&t.execute()},Zl.prototype.getResponse=function(){return th(this),this.b},Zl.prototype.execute=function(){th(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(e){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(e){}t.h&&t.execute()}),6e4)}),500))},Zl.prototype.delete=function(){th(this),this.g=!0,clearTimeout(this.a),this.a=null,en(this.f,"click",this.i)},Fr(eh,"FACTOR_ID","phone"),nh.prototype.g=function(){return we(Xl=Xl||new Yl)},nh.prototype.c=function(){};var rh=null;function ih(){this.b=a.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var oh=new dt(gt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),ah=new Nr(3e4,6e4);ih.prototype.g=function(t){var e=this;return new pe((function(n,r){var i=setTimeout((function(){r(new E("network-request-failed"))}),ah.get());!a.grecaptcha||t!==e.f&&!e.b?(a[e.a]=function(){var o;a.grecaptcha?(e.f=t,o=a.grecaptcha.render,a.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(a.grecaptcha)):(clearTimeout(i),r(new E("internal-error"))),delete a[e.a]},we(Na(_t(oh,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(i),r(new E("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(a.grecaptcha))}))},ih.prototype.c=function(){this.b--};var sh=null;function uh(t,e,n,r,i,o,s){if(Fr(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.u=e,this.g=null,s=s?rh=rh||new nh:sh=sh||new ih,this.m=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[hh])throw new E("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[fh],!a.document)throw new E("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ne(e)||!this.i&&ne(e).hasChildNodes())throw new E("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Ma(t,o||null,i||null),this.w=r||function(){return null};var u=this;this.l=[];var c=this.a[ch];this.a[ch]=function(t){var e;ph(u,t),"function"==typeof c?c(t):"string"!=typeof c||"function"==typeof(e=gr(c,a))&&e(t)};var l=this.a[lh];this.a[lh]=function(){var t;ph(u,null),"function"==typeof l?l():"string"!=typeof l||"function"==typeof(t=gr(l,a))&&t()}}var ch="callback",lh="expired-callback",hh="sitekey",fh="size";function ph(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(t){}}function dh(t,e){return t.h.push(e),e.ma((function(){G(t.h,e)})),e}function vh(t){if(t.D)throw new E("internal-error","RecaptchaVerifier instance has been destroyed.")}function yh(t,e,n){var r=!1;try{this.b=n||yu.app()}catch(t){throw new E("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new E("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ea()}catch(t){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}o=yu.SDK_VERSION?vr(yu.SDK_VERSION,o):null,uh.call(this,n,t,e,(function(){try{var e=i.b.auth().ja()}catch(t){e=null}return e}),o,k(T),r)}function gh(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new E("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].K(n[i])&&!o){if(e=e[i],i<0||i>=mh.length)throw new E("internal-error","Argument validator received an unsupported number of arguments.");n=mh[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.J+".";break t}r=null}}if(r)throw new E("argument-error",t+" failed: "+r)}(t=uh.prototype).Ga=function(){var t=this;return this.f?this.f:this.f=dh(this,we().then((function(){if(wr()&&!cr())return ar();throw new E("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.w())})).then((function(e){return t.g=e,Vs(t.s,Is,{})})).then((function(e){t.a[hh]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},t.render=function(){vh(this);var t=this;return dh(this,this.Ga().then((function(){var e,n;return null===t.c&&(n=t.u,t.i||(e=ne(n),n=function(t,e,n){var r,i=arguments,o=document,a=String(i[0]),s=i[1];return!ee&&s&&(s.name||s.type)&&(a=["<",a],s.name&&a.push(' name="',Ut(s.name),'"'),s.type&&(a.push(' type="',Ut(s.type),'"'),ft(r={},s),delete r.type,s=r),a.push(">"),a=a.join("")),a=se(o,a),s&&("string"==typeof s?a.className=s:Array.isArray(s)?a.className=s.join(" "):re(a,s)),2<i.length&&function(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];!h(o)||p(o)&&0<o.nodeType?r(o):j(function(t){if(t&&"number"==typeof t.length){if(p(t))return"function"==typeof t.item||"string"==typeof t.item;if(f(t))return"function"==typeof t.item}return!1}(o)?K(o):o,r)}}(o,a,i),a}("DIV"),e.appendChild(n)),t.c=t.g.render(n,t.a)),t.c})))},t.verify=function(){vh(this);var t=this;return dh(this,this.render().then((function(e){return new pe((function(n){var r,i=t.g.getResponse(e);i?n(i):(r=function(e){var i;e&&(i=r,W(t.l,(function(t){return t==i})),n(e))},t.l.push(r),t.i&&t.g.execute(t.c))}))})))},t.reset=function(){vh(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){vh(this),this.D=!0,this.m.c();for(var t,e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i)for(e=ne(this.u);t=e.firstChild;)e.removeChild(t)},_(yh,uh);var mh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function bh(t,e){return{name:t||"",J:"a valid string",optional:!!e,K:function(t){return"string"==typeof t}}}function wh(t,e){return{name:t||"",J:"a boolean",optional:!!e,K:function(t){return"boolean"==typeof t}}}function _h(t,e){return{name:t||"",J:"a valid object",optional:!!e,K:p}}function Eh(t,e){return{name:t||"",J:"a function",optional:!!e,K:function(t){return"function"==typeof t}}}function Ih(t,e){return{name:t||"",J:"null",optional:!!e,K:function(t){return null===t}}}function Th(t){return{name:t?t+"Credential":"credential",J:t?"a valid "+t+" credential":"a valid credential",optional:!1,K:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ia||!n)}}}function Sh(t,e){return p(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Fa}function Ch(t){return p(t)&&"string"==typeof t.uid}function Ah(t,e,n,r){return{name:n||"",J:t.J+" or "+e.J,optional:!!r,K:function(n){return t.K(n)||e.K(n)}}}function kh(t,e){for(var n in e){var r=e[n].name;t[r]=xh(r,t[n],e[n].j)}}function Nh(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:b((function(t){return this[t]}),n),set:b((function(t,e,n,r){gh(t,[n],[r],!0),this[e]=r}),r,n,e[n].gb),enumerable:!0})}}function Oh(t,e,n,r){t[e]=xh(e,n,r)}function xh(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return gh(a,n,t),e.apply(this,t)}if(!n)return e;var i,o,a=(o=(o=t).split("."))[o.length-1];for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}kh(Fl.prototype,{fb:{name:"applyActionCode",j:[bh("code")]},Pa:{name:"checkActionCode",j:[bh("code")]},jb:{name:"confirmPasswordReset",j:[bh("code"),bh("newPassword")]},cc:{name:"createUserWithEmailAndPassword",j:[bh("email"),bh("password")]},fc:{name:"fetchSignInMethodsForEmail",j:[bh("email")]},pa:{name:"getRedirectResult",j:[]},zc:{name:"isSignInWithEmailLink",j:[bh("emailLink")]},Fc:{name:"onAuthStateChanged",j:[Ah(_h(),Eh(),"nextOrObserver"),Eh("opt_error",!0),Eh("opt_completed",!0)]},Gc:{name:"onIdTokenChanged",j:[Ah(_h(),Eh(),"nextOrObserver"),Eh("opt_error",!0),Eh("opt_completed",!0)]},rb:{name:"sendPasswordResetEmail",j:[bh("email"),Ah(_h("opt_actionCodeSettings",!0),Ih(null,!0),"opt_actionCodeSettings",!0)]},sb:{name:"sendSignInLinkToEmail",j:[bh("email"),_h("actionCodeSettings")]},tb:{name:"setPersistence",j:[bh("persistence")]},Qc:{name:"signInAndRetrieveDataWithCredential",j:[Th()]},vb:{name:"signInAnonymously",j:[]},Ya:{name:"signInWithCredential",j:[Th()]},Rc:{name:"signInWithCustomToken",j:[bh("token")]},Sc:{name:"signInWithEmailAndPassword",j:[bh("email"),bh("password")]},Tc:{name:"signInWithEmailLink",j:[bh("email"),bh("emailLink",!0)]},Uc:{name:"signInWithPhoneNumber",j:[bh("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Vc:{name:"signInWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Wc:{name:"signInWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},bd:{name:"updateCurrentUser",j:[Ah({name:"user",J:"an instance of Firebase User",optional:!1,K:function(t){return!!(t&&t instanceof Jc)}},Ih(),"user")]},wb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[bh(null,!0)]},dd:{name:"useDeviceLanguage",j:[]},fd:{name:"verifyPasswordResetCode",j:[bh("code")]}}),Nh(Fl.prototype,{lc:{name:"languageCode",gb:Ah(bh(),Ih(),"languageCode")},ti:{name:"tenantId",gb:Ah(bh(),Ih(),"tenantId")}}),(Fl.Persistence=Lu).LOCAL="local",Fl.Persistence.SESSION="session",Fl.Persistence.NONE="none",kh(Jc.prototype,{delete:{name:"delete",j:[]},mc:{name:"getIdTokenResult",j:[wh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[wh("opt_forceRefresh",!0)]},Ac:{name:"linkAndRetrieveDataWithCredential",j:[Th()]},mb:{name:"linkWithCredential",j:[Th()]},Bc:{name:"linkWithPhoneNumber",j:[bh("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Cc:{name:"linkWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Dc:{name:"linkWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Jc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Th()]},pb:{name:"reauthenticateWithCredential",j:[Th()]},Kc:{name:"reauthenticateWithPhoneNumber",j:[bh("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Lc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Mc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},qb:{name:"sendEmailVerification",j:[Ah(_h("opt_actionCodeSettings",!0),Ih(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[bh(null,!0)]},ad:{name:"unlink",j:[bh("provider")]},xb:{name:"updateEmail",j:[bh("email")]},yb:{name:"updatePassword",j:[bh("password")]},cd:{name:"updatePhoneNumber",j:[Th("phone")]},zb:{name:"updateProfile",j:[_h("profile")]},Ab:{name:"verifyBeforeUpdateEmail",j:[bh("email"),Ah(_h("opt_actionCodeSettings",!0),Ih(null,!0),"opt_actionCodeSettings",!0)]}}),kh(Yl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),kh(Ql.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),kh(pe.prototype,{ma:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Nh(xc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",gb:wh("appVerificationDisabledForTesting")}}),kh(Pc.prototype,{confirm:{name:"confirm",j:[bh("verificationCode")]}}),Oh(Yi,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[no,yo,_o,Zi],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[Ah(bh(),_h(),"json")]),Oh(go,"credential",(function(t,e){return new vo(t,e)}),[bh("email"),bh("password")]),kh(vo.prototype,{v:{name:"toJSON",j:[bh(null,!0)]}}),kh(ao.prototype,{Aa:{name:"addScope",j:[bh("scope")]},Ia:{name:"setCustomParameters",j:[_h("customOAuthParameters")]}}),Oh(ao,"credential",so,[Ah(bh(),_h(),"token")]),Oh(go,"credentialWithLink",mo,[bh("email"),bh("emailLink")]),kh(uo.prototype,{Aa:{name:"addScope",j:[bh("scope")]},Ia:{name:"setCustomParameters",j:[_h("customOAuthParameters")]}}),Oh(uo,"credential",co,[Ah(bh(),_h(),"token")]),kh(lo.prototype,{Aa:{name:"addScope",j:[bh("scope")]},Ia:{name:"setCustomParameters",j:[_h("customOAuthParameters")]}}),Oh(lo,"credential",ho,[Ah(bh(),Ah(_h(),Ih()),"idToken"),Ah(bh(),Ih(),"accessToken",!0)]),kh(fo.prototype,{Ia:{name:"setCustomParameters",j:[_h("customOAuthParameters")]}}),Oh(fo,"credential",po,[Ah(bh(),_h(),"token"),bh("secret",!0)]),kh(oo.prototype,{Aa:{name:"addScope",j:[bh("scope")]},credential:{name:"credential",j:[Ah(bh(),Ah(_h(),Ih()),"optionsOrIdToken"),Ah(bh(),Ih(),"accessToken",!0)]},Ia:{name:"setCustomParameters",j:[_h("customOAuthParameters")]}}),kh(to.prototype,{v:{name:"toJSON",j:[bh(null,!0)]}}),kh($i.prototype,{v:{name:"toJSON",j:[bh(null,!0)]}}),Oh(Io,"credential",To,[bh("verificationId"),bh("verificationCode")]),kh(Io.prototype,{cb:{name:"verifyPhoneNumber",j:[Ah(bh(),{name:"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(t){return!!t&&(t.session&&t.phoneNumber?Sh(t.session,Ki)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Sh(t.session,Qi)&&Ch(t.multiFactorHint):t.session&&t.multiFactorUid?Sh(t.session,Qi)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),kh(wo.prototype,{v:{name:"toJSON",j:[bh(null,!0)]}}),kh(E.prototype,{toJSON:{name:"toJSON",j:[bh(null,!0)]}}),kh(Ro.prototype,{toJSON:{name:"toJSON",j:[bh(null,!0)]}}),kh(Po.prototype,{toJSON:{name:"toJSON",j:[bh(null,!0)]}}),kh(Uc.prototype,{toJSON:{name:"toJSON",j:[bh(null,!0)]}}),kh(Lc.prototype,{Pc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.ob}}]}}),kh(Gc.prototype,{Ob:{name:"getSession",j:[]},dc:{name:"enroll",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.ob}},bh("displayName",!0)]},$c:{name:"unenroll",j:[Ah({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:Ch},bh(),"multiFactorInfoIdentifier")]}}),kh(yh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Oh(ui,"parseLink",yi,[bh("link")]),Oh(eh,"assertion",(function(t){return new Bc(t)}),[Th("phone")]),function(){if(void 0===yu||!yu.INTERNAL||!yu.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Xr,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:Yr,VERIFY_AND_CHANGE_EMAIL:$r,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Fl,AuthCredential:Yi,Error:E};Oh(t,"EmailAuthProvider",go,[]),Oh(t,"FacebookAuthProvider",ao,[]),Oh(t,"GithubAuthProvider",uo,[]),Oh(t,"GoogleAuthProvider",lo,[]),Oh(t,"TwitterAuthProvider",fo,[]),Oh(t,"OAuthProvider",oo,[bh("providerId")]),Oh(t,"SAMLAuthProvider",io,[bh("providerId")]),Oh(t,"PhoneAuthProvider",Io,[{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(t){return!!(t&&t instanceof Fl)}}]),Oh(t,"RecaptchaVerifier",yh,[Ah(bh(),{name:"",J:"an HTML element",optional:!1,K:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),_h("recaptchaParameters",!0),{name:"app",J:"an instance of Firebase App",optional:!0,K:function(t){return!!(t&&t instanceof yu.app.App)}}]),Oh(t,"ActionCodeURL",ui,[]),Oh(t,"PhoneMultiFactorGenerator",eh,[]),yu.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new Fl(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),yu.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:m((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:m(t.kc,t),addAuthTokenListener:m(t.bc,t),removeAuthTokenListener:m(t.Nc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),yu.registerVersion("@firebase/auth","0.14.9"),yu.INTERNAL.extendNamespace({User:Jc})}()}.apply("undefined"!=typeof e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var gu=(mu.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),gs(e))},mu.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:ys(e)},mu.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},mu.prototype.prefixedName_=function(t){return this.prefix_+t},mu.prototype.toString=function(){return this.domStorage_.toString()},mu);function mu(t){this.domStorage_=t,this.prefix_="firebase:"}var bu=(wu.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},wu.prototype.get=function(t){return bs(this.cache_,t)?this.cache_[t]:null},wu.prototype.remove=function(t){delete this.cache_[t]},wu);function wu(){this.cache_={},this.isInMemoryStorage=!0}function _u(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new gu(e)}}catch(t){}return new bu}function Eu(t){var e=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i,o=t.charCodeAt(r);55296<=o&&o<=56319&&(i=o-55296,Ya(++r<t.length,"Surrogate pair missing trail surrogate."),o=65536+(i<<10)+(t.charCodeAt(r)-56320)),o<128?e[n++]=o:(o<2048?e[n++]=o>>6|192:(o<65536?e[n++]=o>>12|224:(e[n++]=o>>18|240,e[n++]=o>>12&63|128),e[n++]=o>>6&63|128),e[n++]=63&o|128)}return e}(t),n=new Is;n.update(e);var r=n.digest();return $a.encodeByteArray(r)}function Iu(t,e){Ya(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(Du.logLevel=Gs.VERBOSE,Fu=Du.log.bind(Du),e&&Ru.set("logging_enabled",!0)):"function"==typeof t?Fu=t:(Fu=null,Ru.remove("logging_enabled"))}function Tu(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+Mu.apply(void 0,za(t));Du.error(n)}function Su(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+Mu.apply(void 0,za(t));throw Du.error(n),new Error(n)}function Cu(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+Mu.apply(void 0,za(t));Du.warn(n)}function Au(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)}function ku(t,e){return t===e?0:t<e?-1:1}function Nu(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+gs(e))}function Ou(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)n<i+e?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r}var xu,Pu=_u("localStorage"),Ru=_u("sessionStorage"),Du=new Js("@firebase/database"),Lu=(xu=1,function(){return xu++}),Mu=function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r="",i=0;i<e.length;i++){var o=e[i];Array.isArray(o)||o&&"object"==typeof o&&"number"==typeof o.length?r+=t.apply(null,o):r+="object"==typeof o?gs(o):o,r+=" "}return r},Fu=null,Uu=!0,ju=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];!0===Uu&&(Uu=!1,null===Fu&&!0===Ru.get("logging_enabled")&&Iu(!0)),Fu&&(t=Mu.apply(null,e),Fu(t))},Vu=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];ju.apply(void 0,za([t],e))}},qu="[MIN_NAME]",Bu="[MAX_NAME]",zu=function(t,e){if(t===e)return 0;if(t===qu||e===Bu)return-1;if(e===qu||t===Bu)return 1;var n=Xu(t),r=Xu(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null===r&&t<e?-1:1},Gu=function t(e){if("object"!=typeof e||null===e)return gs(e);var n,r=[];for(n in e)r.push(n);r.sort();for(var i="{",o=0;o<r.length;o++)0!==o&&(i+=","),i+=gs(r[o]),i+=":",i+=t(e[r[o]]);return i+"}"};function Wu(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}function Hu(t){var e,n,r,i;Ya(!Au(t),"Invalid JSON number"),0===t?e=1/t==-1/(r=n=0)?1:0:(e=t<0,r=(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,Math.round(t/Math.pow(2,-1074))));for(var o=[],a=52;a;--a)o.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;--a)o.push(n%2?1:0),n=Math.floor(n/2);o.push(e?1:0),o.reverse();var s=o.join(""),u="";for(a=0;a<64;a+=8){var c=parseInt(s.substr(a,8),2).toString(16);1===c.length&&(c="0"+c),u+=c}return u.toLowerCase()}function Ku(t){try{t()}catch(u){setTimeout((function(){throw Cu("Exception was thrown by user callback.",u.stack||""),u}),Math.floor(0))}}function Qu(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n}var Yu=new RegExp("^-?(0*)\\d{1,10}$"),Xu=function(t){if(Yu.test(t)){var e=Number(t);if(-2147483648<=e&&e<=2147483647)return e}return null},$u=(Object.defineProperty(Ju,"Empty",{get:function(){return new Ju("")},enumerable:!1,configurable:!0}),Ju.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},Ju.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},Ju.prototype.popFront=function(){var t=this.pieceNum_;return t<this.pieces_.length&&t++,new Ju(this.pieces_,t)},Ju.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},Ju.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},Ju.prototype.toUrlEncodedString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+encodeURIComponent(String(this.pieces_[e])));return t||"/"},Ju.prototype.slice=function(t){return void 0===t&&(t=0),this.pieces_.slice(this.pieceNum_+t)},Ju.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var t=[],e=this.pieceNum_;e<this.pieces_.length-1;e++)t.push(this.pieces_[e]);return new Ju(t,0)},Ju.prototype.child=function(t){for(var e=[],n=this.pieceNum_;n<this.pieces_.length;n++)e.push(this.pieces_[n]);if(t instanceof Ju)for(n=t.pieceNum_;n<t.pieces_.length;n++)e.push(t.pieces_[n]);else{var r=t.split("/");for(n=0;n<r.length;n++)0<r[n].length&&e.push(r[n])}return new Ju(e,0)},Ju.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},Ju.relativePath=function(t,e){var n=t.getFront(),r=e.getFront();if(null===n)return e;if(n===r)return Ju.relativePath(t.popFront(),e.popFront());throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")},Ju.comparePaths=function(t,e){for(var n=t.slice(),r=e.slice(),i=0;i<n.length&&i<r.length;i++){var o=zu(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1},Ju.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var e=this.pieceNum_,n=t.pieceNum_;e<=this.pieces_.length;e++,n++)if(this.pieces_[e]!==t.pieces_[n])return!1;return!0},Ju.prototype.contains=function(t){var e=this.pieceNum_,n=t.pieceNum_;if(this.getLength()>t.getLength())return!1;for(;e<this.pieces_.length;){if(this.pieces_[e]!==t.pieces_[n])return!1;++e,++n}return!0},Ju);function Ju(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)0<this.pieces_[r].length&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}var Zu=(Object.defineProperty(tc,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!1,configurable:!0}),Object.defineProperty(tc,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!1,configurable:!0}),tc.prototype.push=function(t){0<this.parts_.length&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=Rs(t),this.checkValid_()},tc.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=Rs(t),0<this.parts_.length&&--this.byteLength_},tc.prototype.checkValid_=function(){if(this.byteLength_>tc.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+tc.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>tc.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+tc.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},tc.prototype.toErrorString=function(){return 0===this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},tc);function tc(t,e){this.errorPrefix_=e,this.parts_=t.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=Rs(this.parts_[n]);this.checkValid_()}var ec="firebaseio.com",nc="websocket",rc="long_polling",ic=(oc.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},oc.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},oc.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},oc.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},oc.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Pu.set("host:"+this.host,this.internalHost))},oc.prototype.connectionURL=function(t,e){var n;if(Ya("string"==typeof t,"typeof type must == string"),Ya("object"==typeof e,"typeof params must == object"),t===nc)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(t!==rc)throw new Error("Unknown connection type: "+t);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(e.ns=this.namespace);var r=[];return Wu(e,(function(t,e){r.push(t+"="+e)})),n+r.join("&")},oc.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},oc.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},oc);function oc(t,e,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=Pu.get("host:"+t)||this.host}function ac(t,e){var n=mc(t),r=n.namespace;"firebase.com"===n.domain&&Su(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||Su("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Cu("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new ic(n.host,n.secure,r,e,i,"",r!==n.subdomain),path:new $u(n.pathString)}}function sc(t){return"string"==typeof t&&0!==t.length&&!bc.test(t)}function uc(t){return"string"==typeof t&&0!==t.length&&!wc.test(t)}function cc(t){return null===t||"string"==typeof t||"number"==typeof t&&!Au(t)||t&&"object"==typeof t&&bs(t,".sv")}function lc(t,e,n,r,i){i&&void 0===n||Ec(Os(t,e,i),n,r)}function hc(t,e,n,r,i){if(!i||void 0!==n){var o=Os(t,e,i);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(o+" must be an object containing the children to replace.");var a=[];Wu(n,(function(t,e){var n=new $u(t);if(Ec(o,e,r.child(n)),".priority"===n.getBack()&&!cc(e))throw new Error(o+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(n)})),function(t,e){for(var n,r=0;r<e.length;r++)for(var i=(n=e[r]).slice(),o=0;o<i.length;o++)if((".priority"!==i[o]||o!==i.length-1)&&!sc(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+n.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort($u.comparePaths);var a=null;for(r=0;r<e.length;r++){if(n=e[r],null!==a&&a.contains(n))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+n.toString());a=n}}(o,a)}}function fc(t,e,n,r){if(!r||void 0!==n){if(Au(n))throw new Error(Os(t,e,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!cc(n))throw new Error(Os(t,e,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}}function pc(t,e,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Os(t,e,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}function dc(t,e,n,r){if(!(r&&void 0===n||sc(n)))throw new Error(Os(t,e,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')}function vc(t,e,n,r){if(!(r&&void 0===n||uc(n)))throw new Error(Os(t,e,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')}function yc(t,e){if(".info"===e.getFront())throw new Error(t+" failed = Can't modify data under /.info/")}function gc(t,e,n){var r,i=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!sc(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==i.length&&!uc(r=(r=i)&&r.replace(/^\/*\.info(\/|$)/,"/")))throw new Error(Os(t,e,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')}var mc=function(t){var e,n,r,i,o,a,s="",u="",c="",l="",h="",f=!0,p="https",d=443;return"string"==typeof t&&(0<=(i=t.indexOf("//"))&&(p=t.substring(0,i-1),t=t.substring(i+2)),-1===(e=t.indexOf("/"))&&(e=t.length),-1===(n=t.indexOf("?"))&&(n=t.length),s=t.substring(0,Math.min(e,n)),e<n&&(l=function(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(0<n[r].length){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(t){}e+="/"+i}return e}(t.substring(e,n))),r=function(t){var e,n,r={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var i=qa(t.split("&")),o=i.next();!o.done;o=i.next()){var a,s=o.value;0!==s.length&&(2===(a=s.split("=")).length?r[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):Cu("Invalid query segment '"+s+"' in query '"+t+"'"))}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}(t.substring(Math.min(t.length,n))),0<=(i=s.indexOf(":"))?(f="https"===p||"wss"===p,d=parseInt(s.substring(i+1),10)):i=s.length,"localhost"===(o=s.slice(0,i)).toLowerCase()?u="localhost":o.split(".").length<=2?u=o:(a=s.indexOf("."),c=s.substring(0,a).toLowerCase(),u=s.substring(a+1),h=c),"ns"in r&&(h=r.ns)),{host:s,port:d,domain:u,subdomain:c,secure:f,scheme:p,pathString:l,namespace:h}},bc=/[\[\].#$\/\u0000-\u001F\u007F]/,wc=/[\[\].#$\u0000-\u001F\u007F]/,_c=10485760,Ec=function t(e,n,r){var i=r instanceof $u?new Zu(r,e):r;if(void 0===n)throw new Error(e+"contains undefined "+i.toErrorString());if("function"==typeof n)throw new Error(e+"contains a function "+i.toErrorString()+" with contents = "+n.toString());if(Au(n))throw new Error(e+"contains "+n.toString()+" "+i.toErrorString());if("string"==typeof n&&n.length>_c/3&&Rs(n)>_c)throw new Error(e+"contains a string greater than "+_c+" utf8 bytes "+i.toErrorString()+" ('"+n.substring(0,50)+"...')");if(n&&"object"==typeof n){var o=!1,a=!1;if(Wu(n,(function(n,r){if(".value"===n)o=!0;else if(".priority"!==n&&".sv"!==n&&(a=!0,!sc(n)))throw new Error(e+" contains an invalid key ("+n+") "+i.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');i.push(n),t(e,r,i),i.pop()})),o&&a)throw new Error(e+' contains ".value" child '+i.toErrorString()+" in addition to actual children.")}},Ic=(Tc.prototype.cancel=function(t){Ns("OnDisconnect.cancel",0,1,arguments.length),xs("OnDisconnect.cancel",1,t,!0);var e=new ts;return this.repo_.onDisconnectCancel(this.path_,e.wrapCallback(t)),e.promise},Tc.prototype.remove=function(t){Ns("OnDisconnect.remove",0,1,arguments.length),yc("OnDisconnect.remove",this.path_),xs("OnDisconnect.remove",1,t,!0);var e=new ts;return this.repo_.onDisconnectSet(this.path_,null,e.wrapCallback(t)),e.promise},Tc.prototype.set=function(t,e){Ns("OnDisconnect.set",1,2,arguments.length),yc("OnDisconnect.set",this.path_),lc("OnDisconnect.set",1,t,this.path_,!1),xs("OnDisconnect.set",2,e,!0);var n=new ts;return this.repo_.onDisconnectSet(this.path_,t,n.wrapCallback(e)),n.promise},Tc.prototype.setWithPriority=function(t,e,n){Ns("OnDisconnect.setWithPriority",2,3,arguments.length),yc("OnDisconnect.setWithPriority",this.path_),lc("OnDisconnect.setWithPriority",1,t,this.path_,!1),fc("OnDisconnect.setWithPriority",2,e,!1),xs("OnDisconnect.setWithPriority",3,n,!0);var r=new ts;return this.repo_.onDisconnectSetWithPriority(this.path_,t,e,r.wrapCallback(n)),r.promise},Tc.prototype.update=function(t,e){if(Ns("OnDisconnect.update",1,2,arguments.length),yc("OnDisconnect.update",this.path_),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,Cu("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}hc("OnDisconnect.update",1,t,this.path_,!1),xs("OnDisconnect.update",2,e,!0);var i=new ts;return this.repo_.onDisconnectUpdate(this.path_,t,i.wrapCallback(e)),i.promise},Tc);function Tc(t,e){this.repo_=t,this.path_=e}var Sc=(Cc.prototype.toJSON=function(){return Ns("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},Cc);function Cc(t,e){this.committed=t,this.snapshot=e}var Ac,kc,Nc,Oc=(Ac="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",kc=0,Nc=[],function(t){var e=t===kc;kc=t;for(var n=new Array(8),r=7;0<=r;r--)n[r]=Ac.charAt(t%64),t=Math.floor(t/64);Ya(0===t,"Cannot push at time == 0");var i=n.join("");if(e){for(r=11;0<=r&&63===Nc[r];r--)Nc[r]=0;Nc[r]++}else for(r=0;r<12;r++)Nc[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)i+=Ac.charAt(Nc[r]);return Ya(20===i.length,"nextPushId: Length should be 20."),i}),xc=(Pc.Wrap=function(t,e){return new Pc(t,e)},Pc);function Pc(t,e){this.name=t,this.node=e}var Rc,Dc=(Lc.prototype.getCompare=function(){return this.compare.bind(this)},Lc.prototype.indexedValueChanged=function(t,e){var n=new xc(qu,t),r=new xc(qu,e);return 0!==this.compare(n,r)},Lc.prototype.minPost=function(){return xc.MIN},Lc);function Lc(){}var Mc,Fc=(Fa(Uc,Mc=Dc),Object.defineProperty(Uc,"__EMPTY_NODE",{get:function(){return Rc},set:function(t){Rc=t},enumerable:!1,configurable:!0}),Uc.prototype.compare=function(t,e){return zu(t.name,e.name)},Uc.prototype.isDefinedOn=function(t){throw Xa("KeyIndex.isDefinedOn not expected to be called.")},Uc.prototype.indexedValueChanged=function(t,e){return!1},Uc.prototype.minPost=function(){return xc.MIN},Uc.prototype.maxPost=function(){return new xc(Bu,Rc)},Uc.prototype.makePost=function(t,e){return Ya("string"==typeof t,"KeyIndex indexValue must always be a string."),new xc(t,Rc)},Uc.prototype.toString=function(){return".key"},Uc);function Uc(){return null!==Mc&&Mc.apply(this,arguments)||this}var jc,Vc=new Fc;function qc(t){return"number"==typeof t?"number:"+Hu(t):"string:"+t}var Bc,zc,Gc,Wc,Hc=function(t){var e;t.isLeafNode()?(e=t.val(),Ya("string"==typeof e||"number"==typeof e||"object"==typeof e&&bs(e,".sv"),"Priority must be a string or number.")):Ya(t===jc||t.isEmpty(),"priority of unexpected type."),Ya(t===jc||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Kc=(Object.defineProperty(Qc,"__childrenNodeConstructor",{get:function(){return Bc},set:function(t){Bc=t},enumerable:!1,configurable:!0}),Qc.prototype.isLeafNode=function(){return!0},Qc.prototype.getPriority=function(){return this.priorityNode_},Qc.prototype.updatePriority=function(t){return new Qc(this.value_,t)},Qc.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:Qc.__childrenNodeConstructor.EMPTY_NODE},Qc.prototype.getChild=function(t){return t.isEmpty()?this:".priority"===t.getFront()?this.priorityNode_:Qc.__childrenNodeConstructor.EMPTY_NODE},Qc.prototype.hasChild=function(){return!1},Qc.prototype.getPredecessorChildName=function(t,e){return null},Qc.prototype.updateImmediateChild=function(t,e){return".priority"===t?this.updatePriority(e):e.isEmpty()&&".priority"!==t?this:Qc.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,e).updatePriority(this.priorityNode_)},Qc.prototype.updateChild=function(t,e){var n=t.getFront();return null===n?e:e.isEmpty()&&".priority"!==n?this:(Ya(".priority"!==n||1===t.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(n,Qc.__childrenNodeConstructor.EMPTY_NODE.updateChild(t.popFront(),e)))},Qc.prototype.isEmpty=function(){return!1},Qc.prototype.numChildren=function(){return 0},Qc.prototype.forEachChild=function(t,e){return!1},Qc.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},Qc.prototype.hash=function(){var t,e;return null===this.lazyHash_&&(t="",this.priorityNode_.isEmpty()||(t+="priority:"+qc(this.priorityNode_.val())+":"),t+=(e=typeof this.value_)+":",t+="number"==e?Hu(this.value_):this.value_,this.lazyHash_=Eu(t)),this.lazyHash_},Qc.prototype.getValue=function(){return this.value_},Qc.prototype.compareTo=function(t){return t===Qc.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof Qc.__childrenNodeConstructor?-1:(Ya(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},Qc.prototype.compareToLeafNode_=function(t){var e=typeof t.value_,n=typeof this.value_,r=Qc.VALUE_TYPE_ORDER.indexOf(e),i=Qc.VALUE_TYPE_ORDER.indexOf(n);return Ya(0<=r,"Unknown leaf type: "+e),Ya(0<=i,"Unknown leaf type: "+n),r===i?"object"==n?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:i-r},Qc.prototype.withIndex=function(){return this},Qc.prototype.isIndexed=function(){return!0},Qc.prototype.equals=function(t){return t===this||!!t.isLeafNode()&&this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)},Qc.VALUE_TYPE_ORDER=["object","boolean","number","string"],Qc);function Qc(t,e){void 0===e&&(e=Qc.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=e,this.lazyHash_=null,Ya(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Hc(this.priorityNode_)}function Yc(){return null!==Wc&&Wc.apply(this,arguments)||this}var Xc=new(Fa(Yc,Wc=Dc),Yc.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?zu(t.name,e.name):i},Yc.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},Yc.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},Yc.prototype.minPost=function(){return xc.MIN},Yc.prototype.maxPost=function(){return new xc(Bu,new Kc("[PRIORITY-POST]",Gc))},Yc.prototype.makePost=function(t,e){var n=zc(t);return new xc(e,new Kc("[PRIORITY-POST]",n))},Yc.prototype.toString=function(){return".priority"},Yc),$c=(Jc.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_.pop(),e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value};if(this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},Jc.prototype.hasNext=function(){return 0<this.nodeStack_.length},Jc.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},Jc);function Jc(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}var Zc=(tl.prototype.copy=function(t,e,n,r,i){return new tl(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)},tl.prototype.count=function(){return this.left.count()+1+this.right.count()},tl.prototype.isEmpty=function(){return!1},tl.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},tl.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},tl.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},tl.prototype.minKey=function(){return this.min_().key},tl.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},tl.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp_()},tl.prototype.removeMin_=function(){if(this.left.isEmpty())return rl.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},tl.prototype.remove=function(t,e){var n,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed_()||r.left.left.isRed_()||(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),r.right.isEmpty()||r.right.isRed_()||r.right.left.isRed_()||(r=r.moveRedRight_()),0===e(t,r.key)){if(r.right.isEmpty())return rl.EMPTY_NODE;n=r.right.min_(),r=r.copy(n.key,n.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp_()},tl.prototype.isRed_=function(){return this.color},tl.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},tl.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},tl.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},tl.prototype.rotateLeft_=function(){var t=this.copy(null,null,tl.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},tl.prototype.rotateRight_=function(){var t=this.copy(null,null,tl.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},tl.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},tl.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},tl.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},tl.RED=!0,tl.BLACK=!1,tl);function tl(t,e,n,r,i){this.key=t,this.value=e,this.color=null!=n?n:tl.RED,this.left=null!=r?r:rl.EMPTY_NODE,this.right=null!=i?i:rl.EMPTY_NODE}var el=(nl.prototype.copy=function(t,e,n,r,i){return this},nl.prototype.insert=function(t,e,n){return new Zc(t,e,null)},nl.prototype.remove=function(t,e){return this},nl.prototype.count=function(){return 0},nl.prototype.isEmpty=function(){return!0},nl.prototype.inorderTraversal=function(t){return!1},nl.prototype.reverseTraversal=function(t){return!1},nl.prototype.minKey=function(){return null},nl.prototype.maxKey=function(){return null},nl.prototype.check_=function(){return 0},nl.prototype.isRed_=function(){return!1},nl);function nl(){}var rl=(il.prototype.insert=function(t,e){return new il(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Zc.BLACK,null,null))},il.prototype.remove=function(t){return new il(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Zc.BLACK,null,null))},il.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:0<e&&(n=n.right)}return null},il.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:0<e&&(n=(r=n).right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},il.prototype.isEmpty=function(){return this.root_.isEmpty()},il.prototype.count=function(){return this.root_.count()},il.prototype.minKey=function(){return this.root_.minKey()},il.prototype.maxKey=function(){return this.root_.maxKey()},il.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},il.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},il.prototype.getIterator=function(t){return new $c(this.root_,null,this.comparator_,!1,t)},il.prototype.getIteratorFrom=function(t,e){return new $c(this.root_,t,this.comparator_,!1,e)},il.prototype.getReverseIteratorFrom=function(t,e){return new $c(this.root_,t,this.comparator_,!0,e)},il.prototype.getReverseIterator=function(t){return new $c(this.root_,null,this.comparator_,!0,t)},il.EMPTY_NODE=new el,il);function il(t,e){void 0===e&&(e=il.EMPTY_NODE),this.comparator_=t,this.root_=e}var ol=Math.log(2),al=(sl.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},sl);function sl(t){var e;this.count=(e=t+1,parseInt(Math.log(e)/ol,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=t+1&r}var ul,cl,ll=function(t,e,n,r){t.sort(e);var i=function(e){for(var r=null,i=null,o=t.length,a=function(e,r){var i=o-e,a=o;o-=e;var u=function e(r,i){var o=i-r;if(0==o)return null;if(1==o)return c=t[r],l=n?n(c):c,new Zc(l,c.node,Zc.BLACK,null,null);var a=parseInt(o/2,10)+r,s=e(r,a),u=e(a+1,i),c=t[a],l=n?n(c):c;return new Zc(l,c.node,Zc.BLACK,s,u)}(1+i,a),c=t[i],l=n?n(c):c;s(new Zc(l,c.node,r,null,u))},s=function(t){r=r?r.left=t:i=t},u=0;u<e.count;++u){var c=e.nextBitIsOne(),l=Math.pow(2,e.count-(u+1));c?a(l,Zc.BLACK):(a(l,Zc.BLACK),a(l,Zc.RED))}return i}(new al(t.length));return new rl(r||e,i)},hl={},fl=(Object.defineProperty(pl,"Default",{get:function(){return Ya(Xc,"ChildrenNode.ts has not been loaded"),ul=ul||new pl({".priority":hl},{".priority":Xc})},enumerable:!1,configurable:!0}),pl.prototype.get=function(t){var e=ws(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof rl?e:null},pl.prototype.hasIndex=function(t){return bs(this.indexSet_,t.toString())},pl.prototype.addIndex=function(t,e){Ya(t!==Vc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var n,r=[],i=!1,o=e.getIterator(xc.Wrap),a=o.getNext();a;)i=i||t.isDefinedOn(a.node),r.push(a),a=o.getNext();n=i?ll(r,t.getCompare()):hl;var s=t.toString(),u=Ua({},this.indexSet_);u[s]=t;var c=Ua({},this.indexes_);return c[s]=n,new pl(c,u)},pl.prototype.addToIndexes=function(t,e){var n=this;return new pl(Es(this.indexes_,(function(r,i){var o=ws(n.indexSet_,i);if(Ya(o,"Missing index implementation for "+i),r===hl){if(o.isDefinedOn(t.node)){for(var a=[],s=e.getIterator(xc.Wrap),u=s.getNext();u;)u.name!==t.name&&a.push(u),u=s.getNext();return a.push(t),ll(a,o.getCompare())}return hl}var c=e.get(t.name),l=r;return c&&(l=l.remove(new xc(t.name,c))),l.insert(t,t.node)})),this.indexSet_)},pl.prototype.removeFromIndexes=function(t,e){return new pl(Es(this.indexes_,(function(n){if(n===hl)return n;var r=e.get(t.name);return r?n.remove(new xc(t.name,r)):n})),this.indexSet_)},pl);function pl(t,e){this.indexes_=t,this.indexSet_=e}function dl(t,e){return zu(t.name,e.name)}function vl(t,e){return zu(t,e)}var yl,gl=(Object.defineProperty(ml,"EMPTY_NODE",{get:function(){return cl=cl||new ml(new rl(vl),null,fl.Default)},enumerable:!1,configurable:!0}),ml.prototype.isLeafNode=function(){return!1},ml.prototype.getPriority=function(){return this.priorityNode_||cl},ml.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new ml(this.children_,t,this.indexMap_)},ml.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?cl:e},ml.prototype.getChild=function(t){var e=t.getFront();return null===e?this:this.getImmediateChild(e).getChild(t.popFront())},ml.prototype.hasChild=function(t){return null!==this.children_.get(t)},ml.prototype.updateImmediateChild=function(t,e){if(Ya(e,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(e);var n=new xc(t,e),r=void 0,i=e.isEmpty()?(r=this.children_.remove(t),this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(t,e),this.indexMap_.addToIndexes(n,this.children_)),o=r.isEmpty()?cl:this.priorityNode_;return new ml(r,o,i)},ml.prototype.updateChild=function(t,e){var n=t.getFront();if(null===n)return e;Ya(".priority"!==t.getFront()||1===t.getLength(),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(t.popFront(),e);return this.updateImmediateChild(n,r)},ml.prototype.isEmpty=function(){return this.children_.isEmpty()},ml.prototype.numChildren=function(){return this.children_.count()},ml.prototype.val=function(t){if(this.isEmpty())return null;var e={},n=0,r=0,i=!0;if(this.forEachChild(Xc,(function(o,a){e[o]=a.val(t),n++,i&&ml.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):i=!1})),!t&&i&&r<2*n){var o,a=[];for(o in e)a[o]=e[o];return a}return t&&!this.getPriority().isEmpty()&&(e[".priority"]=this.getPriority().val()),e},ml.prototype.hash=function(){var t;return null===this.lazyHash_&&(t="",this.getPriority().isEmpty()||(t+="priority:"+qc(this.getPriority().val())+":"),this.forEachChild(Xc,(function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)})),this.lazyHash_=""===t?"":Eu(t)),this.lazyHash_},ml.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new xc(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},ml.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},ml.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new xc(e,this.children_.get(e)):null},ml.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},ml.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new xc(e,this.children_.get(e)):null},ml.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal((function(t){return e(t.name,t.node)})):this.children_.inorderTraversal(e)},ml.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},ml.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getIteratorFrom(t.name,xc.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},ml.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},ml.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getReverseIteratorFrom(t.name,xc.Wrap),i=r.peek();null!=i&&0<e.compare(i,t);)r.getNext(),i=r.peek();return r},ml.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===_l?-1:0},ml.prototype.withIndex=function(t){if(t===Vc||this.indexMap_.hasIndex(t))return this;var e=this.indexMap_.addIndex(t,this.children_);return new ml(this.children_,this.priorityNode_,e)},ml.prototype.isIndexed=function(t){return t===Vc||this.indexMap_.hasIndex(t)},ml.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()!==e.children_.count())return!1;for(var n=this.getIterator(Xc),r=e.getIterator(Xc),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1},ml.prototype.resolveIndex_=function(t){return t===Vc?null:this.indexMap_.get(t.toString())},ml.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,ml);function ml(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Hc(this.priorityNode_),this.children_.isEmpty()&&Ya(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}function bl(){return yl.call(this,new rl(vl),gl.EMPTY_NODE,fl.Default)||this}var wl,_l=new(Fa(bl,yl=gl),bl.prototype.compareTo=function(t){return t===this?0:1},bl.prototype.equals=function(t){return t===this},bl.prototype.getPriority=function(){return this},bl.prototype.getImmediateChild=function(t){return gl.EMPTY_NODE},bl.prototype.isEmpty=function(){return!1},bl);function El(t,e){if(void 0===e&&(e=null),null===t)return gl.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),Ya(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Kc(t,El(e));if(t instanceof Array){var n=gl.EMPTY_NODE;return Wu(t,(function(e,r){var i;bs(t,e)&&"."!==e.substring(0,1)&&(!(i=El(r)).isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(e,i)))})),n.updatePriority(El(e))}var r=[],i=!1;if(Wu(t,(function(t,e){var n;"."!==t.substring(0,1)&&((n=El(e)).isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new xc(t,n))))})),0===r.length)return gl.EMPTY_NODE;var o=ll(r,dl,(function(t){return t.name}),vl);if(i){var a=ll(r,Xc.getCompare());return new gl(o,El(e),new fl({".priority":a},{".priority":Xc}))}return new gl(o,El(e),fl.Default)}function Il(){return null!==wl&&wl.apply(this,arguments)||this}Object.defineProperties(xc,{MIN:{value:new xc(qu,gl.EMPTY_NODE)},MAX:{value:new xc(Bu,_l)}}),Fc.__EMPTY_NODE=gl.EMPTY_NODE,Kc.__childrenNodeConstructor=gl,jc=_l,Gc=_l,zc=El;var Tl,Sl=new(Fa(Il,wl=Dc),Il.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?zu(t.name,e.name):n},Il.prototype.isDefinedOn=function(t){return!0},Il.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},Il.prototype.minPost=function(){return xc.MIN},Il.prototype.maxPost=function(){return xc.MAX},Il.prototype.makePost=function(t,e){var n=El(t);return new xc(e,n)},Il.prototype.toString=function(){return".value"},Il),Cl=(Fa(Al,Tl=Dc),Al.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},Al.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},Al.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?zu(t.name,e.name):i},Al.prototype.makePost=function(t,e){var n=El(t),r=gl.EMPTY_NODE.updateChild(this.indexPath_,n);return new xc(e,r)},Al.prototype.maxPost=function(){var t=gl.EMPTY_NODE.updateChild(this.indexPath_,_l);return new xc(Bu,t)},Al.prototype.toString=function(){return this.indexPath_.slice().join("/")},Al);function Al(t){var e=Tl.call(this)||this;return e.indexPath_=t,Ya(!t.isEmpty()&&".priority"!==t.getFront(),"Can't create PathIndex with empty path or .priority key"),e}var kl=(Nl.prototype.val=function(){return Ns("DataSnapshot.val",0,0,arguments.length),this.node_.val()},Nl.prototype.exportVal=function(){return Ns("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},Nl.prototype.toJSON=function(){return Ns("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},Nl.prototype.exists=function(){return Ns("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},Nl.prototype.child=function(t){Ns("DataSnapshot.child",0,1,arguments.length),vc("DataSnapshot.child",1,t=String(t),!1);var e=new $u(t),n=this.ref_.child(e);return new Nl(this.node_.getChild(e),n,Xc)},Nl.prototype.hasChild=function(t){Ns("DataSnapshot.hasChild",1,1,arguments.length),vc("DataSnapshot.hasChild",1,t,!1);var e=new $u(t);return!this.node_.getChild(e).isEmpty()},Nl.prototype.getPriority=function(){return Ns("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},Nl.prototype.forEach=function(t){var e=this;return Ns("DataSnapshot.forEach",1,1,arguments.length),xs("DataSnapshot.forEach",1,t,!1),!this.node_.isLeafNode()&&!!this.node_.forEachChild(this.index_,(function(n,r){return t(new Nl(r,e.ref_.child(n),Xc))}))},Nl.prototype.hasChildren=function(){return Ns("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(Nl.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!1,configurable:!0}),Nl.prototype.numChildren=function(){return Ns("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},Nl.prototype.getRef=function(){return Ns("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(Nl.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),Nl);function Nl(t,e,n){this.node_=t,this.ref_=e,this.index_=n}var Ol=(xl.prototype.getPath=function(){var t=this.snapshot.getRef();return"value"===this.eventType?t.path:t.getParent().path},xl.prototype.getEventType=function(){return this.eventType},xl.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},xl.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+gs(this.snapshot.exportVal())},xl);function xl(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}var Pl=(Rl.prototype.getPath=function(){return this.path},Rl.prototype.getEventType=function(){return"cancel"},Rl.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},Rl.prototype.toString=function(){return this.path.toString()+":cancel"},Rl);function Rl(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}var Dl=(Ll.prototype.respondsTo=function(t){return"value"===t},Ll.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new Ol("value",this,new kl(t.snapshotNode,e.getRef(),n))},Ll.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){Ya(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callback_;return function(){r.call(e,t.snapshot)}},Ll.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Pl(this,t,e):null},Ll.prototype.matches=function(t){return t instanceof Ll&&(!t.callback_||!this.callback_||t.callback_===this.callback_&&t.context_===this.context_)},Ll.prototype.hasAnyCallback=function(){return null!==this.callback_},Ll);function Ll(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}var Ml,Fl=(Ul.prototype.respondsTo=function(t){var e="children_removed"===(e="children_added"===t?"child_added":t)?"child_removed":e;return bs(this.callbacks_,e)},Ul.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Pl(this,t,e):null},Ul.prototype.createEvent=function(t,e){Ya(null!=t.childName,"Child events should have a childName.");var n=e.getRef().child(t.childName),r=e.getQueryParams().getIndex();return new Ol(t.type,this,new kl(t.snapshotNode,n,r),t.prevName)},Ul.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){Ya(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callbacks_[t.eventType];return function(){r.call(e,t.snapshot,t.prevName)}},Ul.prototype.matches=function(t){var e=this;if(t instanceof Ul){if(!this.callbacks_||!t.callbacks_)return!0;if(this.context_===t.context_){var n=Object.keys(t.callbacks_),r=Object.keys(this.callbacks_),i=n.length;if(i===r.length){if(1!==i)return r.every((function(n){return t.callbacks_[n]===e.callbacks_[n]}));var o=n[0],a=r[0];return!(a!==o||t.callbacks_[o]&&this.callbacks_[a]&&t.callbacks_[o]!==this.callbacks_[a])}}}return!1},Ul.prototype.hasAnyCallback=function(){return null!==this.callbacks_},Ul);function Ul(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}var jl=(Object.defineProperty(Vl,"__referenceConstructor",{get:function(){return Ya(Ml,"Reference.ts has not been loaded"),Ml},set:function(t){Ml=t},enumerable:!1,configurable:!0}),Vl.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Vc){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==qu)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==Bu)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(t.getIndex()===Xc){if(null!=e&&!cc(e)||null!=n&&!cc(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Ya(t.getIndex()instanceof Cl||t.getIndex()===Sl,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},Vl.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},Vl.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+": You can't combine multiple orderBy calls.")},Vl.prototype.getQueryParams=function(){return this.queryParams_},Vl.prototype.getRef=function(){return Ns("Query.ref",0,0,arguments.length),new Vl.__referenceConstructor(this.repo,this.path)},Vl.prototype.on=function(t,e,n,r){Ns("Query.on",2,4,arguments.length),pc("Query.on",1,t,!1),xs("Query.on",2,e,!1);var i,o=Vl.getCancelAndContextArgs_("Query.on",n,r);return"value"===t?this.onValueEvent(e,o.cancel,o.context):((i={})[t]=e,this.onChildEvent(i,o.cancel,o.context)),e},Vl.prototype.onValueEvent=function(t,e,n){var r=new Dl(t,e||null,n||null);this.repo.addEventCallbackForQuery(this,r)},Vl.prototype.onChildEvent=function(t,e,n){var r=new Fl(t,e,n);this.repo.addEventCallbackForQuery(this,r)},Vl.prototype.off=function(t,e,n){Ns("Query.off",0,3,arguments.length),pc("Query.off",1,t,!0),xs("Query.off",2,e,!0),Ps("Query.off",3,n,!0);var r=null,i=null;"value"===t?r=new Dl(e||null,null,n||null):t&&(e&&((i={})[t]=e),r=new Fl(i,null,n||null)),this.repo.removeEventCallbackForQuery(this,r)},Vl.prototype.once=function(t,e,n,r){var i=this;Ns("Query.once",1,4,arguments.length),pc("Query.once",1,t,!1),xs("Query.once",2,e,!0);var o=Vl.getCancelAndContextArgs_("Query.once",n,r),a=!0,s=new ts;s.promise.catch((function(){}));var u=function n(r){a&&(a=!1,i.off(t,n),e&&e.bind(o.context)(r),s.resolve(r))};return this.on(t,u,(function(e){i.off(t,u),o.cancel&&o.cancel.bind(o.context)(e),s.reject(e)})),s.promise},Vl.prototype.limitToFirst=function(t){if(Ns("Query.limitToFirst",1,1,arguments.length),"number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new Vl(this.repo,this.path,this.queryParams_.limitToFirst(t),this.orderByCalled_)},Vl.prototype.limitToLast=function(t){if(Ns("Query.limitToLast",1,1,arguments.length),"number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new Vl(this.repo,this.path,this.queryParams_.limitToLast(t),this.orderByCalled_)},Vl.prototype.orderByChild=function(t){if(Ns("Query.orderByChild",1,1,arguments.length),"$key"===t)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===t)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===t)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');vc("Query.orderByChild",1,t,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var e=new $u(t);if(e.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var n=new Cl(e),r=this.queryParams_.orderBy(n);return Vl.validateQueryEndpoints_(r),new Vl(this.repo,this.path,r,!0)},Vl.prototype.orderByKey=function(){Ns("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var t=this.queryParams_.orderBy(Vc);return Vl.validateQueryEndpoints_(t),new Vl(this.repo,this.path,t,!0)},Vl.prototype.orderByPriority=function(){Ns("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var t=this.queryParams_.orderBy(Xc);return Vl.validateQueryEndpoints_(t),new Vl(this.repo,this.path,t,!0)},Vl.prototype.orderByValue=function(){Ns("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var t=this.queryParams_.orderBy(Sl);return Vl.validateQueryEndpoints_(t),new Vl(this.repo,this.path,t,!0)},Vl.prototype.startAt=function(t,e){void 0===t&&(t=null),Ns("Query.startAt",0,2,arguments.length),lc("Query.startAt",1,t,this.path,!0),dc("Query.startAt",2,e,!0);var n=this.queryParams_.startAt(t,e);if(Vl.validateLimit_(n),Vl.validateQueryEndpoints_(n),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===t&&(e=t=null),new Vl(this.repo,this.path,n,this.orderByCalled_)},Vl.prototype.endAt=function(t,e){void 0===t&&(t=null),Ns("Query.endAt",0,2,arguments.length),lc("Query.endAt",1,t,this.path,!0),dc("Query.endAt",2,e,!0);var n=this.queryParams_.endAt(t,e);if(Vl.validateLimit_(n),Vl.validateQueryEndpoints_(n),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new Vl(this.repo,this.path,n,this.orderByCalled_)},Vl.prototype.equalTo=function(t,e){if(Ns("Query.equalTo",1,2,arguments.length),lc("Query.equalTo",1,t,this.path,!1),dc("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(t,e).endAt(t,e)},Vl.prototype.toString=function(){return Ns("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},Vl.prototype.toJSON=function(){return Ns("Query.toJSON",0,1,arguments.length),this.toString()},Vl.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},Vl.prototype.queryIdentifier=function(){var t=this.queryObject(),e=Gu(t);return"{}"===e?"default":e},Vl.prototype.isEqual=function(t){if(Ns("Query.isEqual",1,1,arguments.length),!(t instanceof Vl))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");var e=this.repo===t.repo,n=this.path.equals(t.path),r=this.queryIdentifier()===t.queryIdentifier();return e&&n&&r},Vl.getCancelAndContextArgs_=function(t,e,n){var r={cancel:null,context:null};if(e&&n)r.cancel=e,xs(t,3,r.cancel,!0),r.context=n,Ps(t,4,r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error(Os(t,3,!0)+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(Vl.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),Vl);function Vl(t,e,n,r){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=r}var ql=(Bl.prototype.getImmediateChild=function(t){return new Bl(this.node_.getImmediateChild(t))},Bl.prototype.node=function(){return this.node_},Bl);function Bl(t){this.node_=t}var zl=(Gl.prototype.getImmediateChild=function(t){var e=this.path_.child(t);return new Gl(this.syncTree_,e)},Gl.prototype.node=function(){return this.syncTree_.calcCompleteEventCache(this.path_)},Gl);function Gl(t,e){this.syncTree_=t,this.path_=e}function Wl(t,e,n,r){return Xl(e,new zl(n,t),r)}function Hl(t,e,n){return Xl(t,new ql(e),n)}var Kl=function(t,e,n){return t&&"object"==typeof t?(Ya(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?Ql(t[".sv"],e,n):"object"==typeof t[".sv"]?Yl(t[".sv"],e):void Ya(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},Ql=function(t,e,n){if("timestamp"===t)return n.timestamp;Ya(!1,"Unexpected server value: "+t)},Yl=function(t,e,n){t.hasOwnProperty("increment")||Ya(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;"number"!=typeof r&&Ya(!1,"Unexpected increment value: "+r);var i=e.node();if(Ya(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var o=i.getValue();return"number"!=typeof o?r:o+r};function Xl(t,e,n){var r=t.getPriority().val(),i=Kl(r,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var o=t,a=Kl(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new Kc(a,El(i)):t}var s=t,u=s;return i!==s.getPriority().val()&&(u=u.updatePriority(new Kc(i))),s.forEachChild(Xc,(function(t,r){var i=Xl(r,e.getImmediateChild(t),n);i!==r&&(u=u.updateImmediateChild(t,i))})),u}var $l,Jl,Zl=(th.prototype.find=function(t){if(null!=this.value)return this.value.getChild(t);if(!t.isEmpty()&&0<this.children.size){var e=t.getFront();return t=t.popFront(),this.children.has(e)?this.children.get(e).find(t):null}return null},th.prototype.remember=function(t,e){var n,r;t.isEmpty()?(this.value=e,this.children.clear()):null!==this.value?this.value=this.value.updateChild(t,e):(n=t.getFront(),this.children.has(n)||this.children.set(n,new th),r=this.children.get(n),t=t.popFront(),r.remember(t,e))},th.prototype.forget=function(t){if(t.isEmpty())return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var e=this.value;this.value=null;var n=this;return e.forEachChild(Xc,(function(t,e){n.remember(new $u(t),e)})),this.forget(t)}if(0<this.children.size){var r=t.getFront();return t=t.popFront(),this.children.has(r)&&this.children.get(r).forget(t)&&this.children.delete(r),0===this.children.size}return!0},th.prototype.forEachTree=function(t,e){null!==this.value?e(t,this.value):this.forEachChild((function(n,r){var i=new $u(t.toString()+"/"+n);r.forEachTree(i,e)}))},th.prototype.forEachChild=function(t){this.children.forEach((function(e,n){t(n,e)}))},th);function th(){this.value=null,this.children=new Map}(Jl=$l=$l||{})[Jl.OVERWRITE=0]="OVERWRITE",Jl[Jl.MERGE=1]="MERGE",Jl[Jl.ACK_USER_WRITE=2]="ACK_USER_WRITE",Jl[Jl.LISTEN_COMPLETE=3]="LISTEN_COMPLETE";var eh=(nh.User=new nh(!0,!1,null,!1),nh.Server=new nh(!1,!0,null,!1),nh.forServerTaggedQuery=function(t){return new nh(!1,!0,t,!0)},nh);function nh(t,e,n,r){this.fromUser=t,this.fromServer=e,this.queryId=n,this.tagged=r,Ya(!r||e,"Tagged queries must be from server.")}var rh,ih=(oh.prototype.operationForChild=function(t){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return Ya(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var e=this.affectedTree.subtree(new $u(t));return new oh($u.Empty,e,this.revert)}return Ya(this.path.getFront()===t,"operationForChild called for unrelated child."),new oh(this.path.popFront(),this.affectedTree,this.revert)},oh);function oh(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=$l.ACK_USER_WRITE,this.source=eh.User}var ah=(sh.fromObject=function(t){var e=sh.Empty;return Wu(t,(function(t,n){e=e.set(new $u(t),n)})),e},sh.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},sh.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:$u.Empty,value:this.value};if(t.isEmpty())return null;var n=t.getFront(),r=this.children.get(n);if(null===r)return null;var i=r.findRootMostMatchingPathAndValue(t.popFront(),e);return null==i?null:{path:new $u(n).child(i.path),value:i.value}},sh.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,(function(){return!0}))},sh.prototype.subtree=function(t){if(t.isEmpty())return this;var e=t.getFront(),n=this.children.get(e);return null!==n?n.subtree(t.popFront()):sh.Empty},sh.prototype.set=function(t,e){if(t.isEmpty())return new sh(e,this.children);var n=t.getFront(),r=(this.children.get(n)||sh.Empty).set(t.popFront(),e),i=this.children.insert(n,r);return new sh(this.value,i)},sh.prototype.remove=function(t){if(t.isEmpty())return this.children.isEmpty()?sh.Empty:new sh(null,this.children);var e=t.getFront(),n=this.children.get(e);if(n){var r=n.remove(t.popFront()),i=void 0;return i=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&i.isEmpty()?sh.Empty:new sh(this.value,i)}return this},sh.prototype.get=function(t){if(t.isEmpty())return this.value;var e=t.getFront(),n=this.children.get(e);return n?n.get(t.popFront()):null},sh.prototype.setTree=function(t,e){if(t.isEmpty())return e;var n=t.getFront(),r=(this.children.get(n)||sh.Empty).setTree(t.popFront(),e),i=r.isEmpty()?this.children.remove(n):this.children.insert(n,r);return new sh(this.value,i)},sh.prototype.fold=function(t){return this.fold_($u.Empty,t)},sh.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(t.child(r),e)})),e(t,this.value,n)},sh.prototype.findOnPath=function(t,e){return this.findOnPath_(t,$u.Empty,e)},sh.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(t.isEmpty())return null;var i=t.getFront(),o=this.children.get(i);return o?o.findOnPath_(t.popFront(),e.child(i),n):null},sh.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,$u.Empty,e)},sh.prototype.foreachOnPath_=function(t,e,n){if(t.isEmpty())return this;this.value&&n(e,this.value);var r=t.getFront(),i=this.children.get(r);return i?i.foreachOnPath_(t.popFront(),e.child(r),n):sh.Empty},sh.prototype.foreach=function(t){this.foreach_($u.Empty,t)},sh.prototype.foreach_=function(t,e){this.children.inorderTraversal((function(n,r){r.foreach_(t.child(n),e)})),this.value&&e(t,this.value)},sh.prototype.foreachChild=function(t){this.children.inorderTraversal((function(e,n){n.value&&t(e,n.value)}))},sh.Empty=new sh(null),sh);function sh(t,e){void 0===e&&(e=rh=rh||new rl(ku)),this.value=t,this.children=e}var uh=(ch.prototype.operationForChild=function(t){return this.path.isEmpty()?new ch(this.source,$u.Empty):new ch(this.source,this.path.popFront())},ch);function ch(t,e){this.source=t,this.path=e,this.type=$l.LISTEN_COMPLETE}var lh=(hh.prototype.operationForChild=function(t){return this.path.isEmpty()?new hh(this.source,$u.Empty,this.snap.getImmediateChild(t)):new hh(this.source,this.path.popFront(),this.snap)},hh);function hh(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=$l.OVERWRITE}var fh=(ph.prototype.operationForChild=function(t){if(this.path.isEmpty()){var e=this.children.subtree(new $u(t));return e.isEmpty()?null:e.value?new lh(this.source,$u.Empty,e.value):new ph(this.source,$u.Empty,e)}return Ya(this.path.getFront()===t,"Can't get a merge for a child not on the path of the operation"),new ph(this.source,this.path.popFront(),this.children)},ph.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},ph);function ph(t,e,n){this.source=t,this.path=e,this.children=n,this.type=$l.MERGE}var dh=(vh.prototype.isFullyInitialized=function(){return this.fullyInitialized_},vh.prototype.isFiltered=function(){return this.filtered_},vh.prototype.isCompleteForPath=function(t){if(t.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var e=t.getFront();return this.isCompleteForChild(e)},vh.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},vh.prototype.getNode=function(){return this.node_},vh);function vh(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}var yh=(gh.prototype.updateEventSnap=function(t,e,n){return new gh(new dh(t,e,n),this.serverCache_)},gh.prototype.updateServerSnap=function(t,e,n){return new gh(this.eventCache_,new dh(t,e,n))},gh.prototype.getEventCache=function(){return this.eventCache_},gh.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},gh.prototype.getServerCache=function(){return this.serverCache_},gh.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},gh.Empty=new gh(new dh(gl.EMPTY_NODE,!1,!1),new dh(gl.EMPTY_NODE,!1,!1)),gh);function gh(t,e){this.eventCache_=t,this.serverCache_=e}var mh=(bh.valueChange=function(t){return new bh(bh.VALUE,t)},bh.childAddedChange=function(t,e){return new bh(bh.CHILD_ADDED,e,t)},bh.childRemovedChange=function(t,e){return new bh(bh.CHILD_REMOVED,e,t)},bh.childChangedChange=function(t,e,n){return new bh(bh.CHILD_CHANGED,e,t,n)},bh.childMovedChange=function(t,e){return new bh(bh.CHILD_MOVED,e,t)},bh.CHILD_ADDED="child_added",bh.CHILD_REMOVED="child_removed",bh.CHILD_CHANGED="child_changed",bh.CHILD_MOVED="child_moved",bh.VALUE="value",bh);function bh(t,e,n,r,i){this.type=t,this.snapshotNode=e,this.childName=n,this.oldSnap=r,this.prevName=i}var wh=(_h.prototype.updateChild=function(t,e,n,r,i,o){Ya(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=t.getImmediateChild(e);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?t:(null!=o&&(n.isEmpty()?t.hasChild(e)?o.trackChildChange(mh.childRemovedChange(e,a)):Ya(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(mh.childAddedChange(e,n)):o.trackChildChange(mh.childChangedChange(e,n,a))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},_h.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(Xc,(function(t,r){e.hasChild(t)||n.trackChildChange(mh.childRemovedChange(t,r))})),e.isLeafNode()||e.forEachChild(Xc,(function(e,r){var i;t.hasChild(e)?(i=t.getImmediateChild(e)).equals(r)||n.trackChildChange(mh.childChangedChange(e,r,i)):n.trackChildChange(mh.childAddedChange(e,r))}))),e.withIndex(this.index_)},_h.prototype.updatePriority=function(t,e){return t.isEmpty()?gl.EMPTY_NODE:t.updatePriority(e)},_h.prototype.filtersNodes=function(){return!1},_h.prototype.getIndexedFilter=function(){return this},_h.prototype.getIndex=function(){return this.index_},_h);function _h(t){this.index_=t}var Eh=(Ih.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;Ya(e===mh.CHILD_ADDED||e===mh.CHILD_CHANGED||e===mh.CHILD_REMOVED,"Only child changes supported for tracking"),Ya(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if(e===mh.CHILD_ADDED&&i===mh.CHILD_REMOVED)this.changeMap.set(n,mh.childChangedChange(n,t.snapshotNode,r.snapshotNode));else if(e===mh.CHILD_REMOVED&&i===mh.CHILD_ADDED)this.changeMap.delete(n);else if(e===mh.CHILD_REMOVED&&i===mh.CHILD_CHANGED)this.changeMap.set(n,mh.childRemovedChange(n,r.oldSnap));else if(e===mh.CHILD_CHANGED&&i===mh.CHILD_ADDED)this.changeMap.set(n,mh.childAddedChange(n,t.snapshotNode));else{if(e!==mh.CHILD_CHANGED||i!==mh.CHILD_CHANGED)throw Xa("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,mh.childChangedChange(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},Ih.prototype.getChanges=function(){return Array.from(this.changeMap.values())},Ih);function Ih(){this.changeMap=new Map}function Th(){}var Sh=new(Th.prototype.getCompleteChild=function(t){return null},Th.prototype.getChildAfterChild=function(t,e,n){return null},Th),Ch=(Ah.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new dh(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(t,n)},Ah.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),i=this.writes_.calcIndexedSlice(r,e,1,n,t);return 0===i.length?null:i[0]},Ah);function Ah(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}var kh=function(t,e){this.viewCache=t,this.changes=e},Nh=(Oh.prototype.assertIndexed=function(t){Ya(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),Ya(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},Oh.prototype.applyOperation=function(t,e,n,r){var i,o=new Eh;if(e.type===$l.OVERWRITE)var a=e,s=a.source.fromUser?this.applyUserOverwrite_(t,a.path,a.snap,n,r,o):(Ya(a.source.fromServer,"Unknown source."),i=a.source.tagged||t.getServerCache().isFiltered()&&!a.path.isEmpty(),this.applyServerOverwrite_(t,a.path,a.snap,n,r,i,o));else if(e.type===$l.MERGE){var u=e;s=u.source.fromUser?this.applyUserMerge_(t,u.path,u.children,n,r,o):(Ya(u.source.fromServer,"Unknown source."),i=u.source.tagged||t.getServerCache().isFiltered(),this.applyServerMerge_(t,u.path,u.children,n,r,i,o))}else if(e.type===$l.ACK_USER_WRITE){var c=e;s=c.revert?this.revertUserWrite_(t,c.path,n,r,o):this.ackUserWrite_(t,c.path,c.affectedTree,n,r,o)}else{if(e.type!==$l.LISTEN_COMPLETE)throw Xa("Unknown operation type: "+e.type);s=this.listenComplete_(t,e.path,n,o)}var l=o.getChanges();return Oh.maybeAddValueEvent_(t,s,l),new kh(s,l)},Oh.maybeAddValueEvent_=function(t,e,n){var r,i,o=e.getEventCache();o.isFullyInitialized()&&(r=o.getNode().isLeafNode()||o.getNode().isEmpty(),i=t.getCompleteEventSnap(),(0<n.length||!t.getEventCache().isFullyInitialized()||r&&!o.getNode().equals(i)||!o.getNode().getPriority().equals(i.getPriority()))&&n.push(mh.valueChange(e.getCompleteEventSnap())))},Oh.prototype.generateEventCacheAfterServerEvent_=function(t,e,n,r,i){var o=t.getEventCache();if(null!=n.shadowingWrite(e))return t;var a,s,u,c,l,h,f,p,d,v,y,g=void 0;return y=e.isEmpty()?(Ya(t.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),t.getServerCache().isFiltered()?(s=(a=t.getCompleteServerSnap())instanceof gl?a:gl.EMPTY_NODE,u=n.calcCompleteEventChildren(s),this.filter_.updateFullNode(t.getEventCache().getNode(),u,i)):(c=n.calcCompleteEventCache(t.getCompleteServerSnap()),this.filter_.updateFullNode(t.getEventCache().getNode(),c,i))):".priority"===(l=e.getFront())?(Ya(1===e.getLength(),"Can't have a priority with additional path components"),h=o.getNode(),g=t.getServerCache().getNode(),null!=(f=n.calcEventCacheAfterServerOverwrite(e,h,g))?this.filter_.updatePriority(h,f):o.getNode()):(p=e.popFront(),null!=(v=o.isCompleteForChild(l)?(g=t.getServerCache().getNode(),null!=(d=n.calcEventCacheAfterServerOverwrite(e,o.getNode(),g))?o.getNode().getImmediateChild(l).updateChild(p,d):o.getNode().getImmediateChild(l)):n.calcCompleteChild(l,t.getServerCache()))?this.filter_.updateChild(o.getNode(),l,v,p,r,i):o.getNode()),t.updateEventSnap(y,o.isFullyInitialized()||e.isEmpty(),this.filter_.filtersNodes())},Oh.prototype.applyServerOverwrite_=function(t,e,n,r,i,o,a){var s=t.getServerCache(),u=o?this.filter_:this.filter_.getIndexedFilter();if(e.isEmpty())l=u.updateFullNode(s.getNode(),n,null);else if(u.filtersNodes()&&!s.isFiltered())var c=s.getNode().updateChild(e,n),l=u.updateFullNode(s.getNode(),c,null);else{var h=e.getFront();if(!s.isCompleteForPath(e)&&1<e.getLength())return t;var f=e.popFront(),p=s.getNode().getImmediateChild(h).updateChild(f,n);l=".priority"===h?u.updatePriority(s.getNode(),p):u.updateChild(s.getNode(),h,p,f,Sh,null)}var d=t.updateServerSnap(l,s.isFullyInitialized()||e.isEmpty(),u.filtersNodes()),v=new Ch(r,d,i);return this.generateEventCacheAfterServerEvent_(d,e,r,v,a)},Oh.prototype.applyUserOverwrite_=function(t,e,n,r,i,o){var a,s,u,c,l,h,f,p=t.getEventCache(),d=new Ch(r,t,i);return e.isEmpty()?(a=this.filter_.updateFullNode(t.getEventCache().getNode(),n,o),t.updateEventSnap(a,!0,this.filter_.filtersNodes())):".priority"===(s=e.getFront())?(a=this.filter_.updatePriority(t.getEventCache().getNode(),n),t.updateEventSnap(a,p.isFullyInitialized(),p.isFiltered())):(u=e.popFront(),c=p.getNode().getImmediateChild(s),h=u.isEmpty()?n:null!=(l=d.getCompleteChild(s))?".priority"===u.getBack()&&l.getChild(u.parent()).isEmpty()?l:l.updateChild(u,n):gl.EMPTY_NODE,c.equals(h)?t:(f=this.filter_.updateChild(p.getNode(),s,h,u,d,o),t.updateEventSnap(f,p.isFullyInitialized(),this.filter_.filtersNodes())))},Oh.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},Oh.prototype.applyUserMerge_=function(t,e,n,r,i,o){var a=this,s=t;return n.foreach((function(n,u){var c=e.child(n);Oh.cacheHasChild_(t,c.getFront())&&(s=a.applyUserOverwrite_(s,c,u,r,i,o))})),n.foreach((function(n,u){var c=e.child(n);Oh.cacheHasChild_(t,c.getFront())||(s=a.applyUserOverwrite_(s,c,u,r,i,o))})),s},Oh.prototype.applyMerge_=function(t,e){return e.foreach((function(e,n){t=t.updateChild(e,n)})),t},Oh.prototype.applyServerMerge_=function(t,e,n,r,i,o,a){var s=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var u=t,c=e.isEmpty()?n:ah.Empty.setTree(e,n),l=t.getServerCache().getNode();return c.children.inorderTraversal((function(e,n){var c,h;l.hasChild(e)&&(c=t.getServerCache().getNode().getImmediateChild(e),h=s.applyMerge_(c,n),u=s.applyServerOverwrite_(u,new $u(e),h,r,i,o,a))})),c.children.inorderTraversal((function(e,n){var c,h,f=!t.getServerCache().isCompleteForChild(e)&&null==n.value;l.hasChild(e)||f||(c=t.getServerCache().getNode().getImmediateChild(e),h=s.applyMerge_(c,n),u=s.applyServerOverwrite_(u,new $u(e),h,r,i,o,a))})),u},Oh.prototype.ackUserWrite_=function(t,e,n,r,i,o){if(null!=r.shadowingWrite(e))return t;var a=t.getServerCache().isFiltered(),s=t.getServerCache();if(null!=n.value){if(e.isEmpty()&&s.isFullyInitialized()||s.isCompleteForPath(e))return this.applyServerOverwrite_(t,e,s.getNode().getChild(e),r,i,a,o);if(e.isEmpty()){var u=ah.Empty;return s.getNode().forEachChild(Vc,(function(t,e){u=u.set(new $u(t),e)})),this.applyServerMerge_(t,e,u,r,i,a,o)}return t}var c=ah.Empty;return n.foreach((function(t,n){var r=e.child(t);s.isCompleteForPath(r)&&(c=c.set(t,s.getNode().getChild(r)))})),this.applyServerMerge_(t,e,c,r,i,a,o)},Oh.prototype.listenComplete_=function(t,e,n,r){var i=t.getServerCache(),o=t.updateServerSnap(i.getNode(),i.isFullyInitialized()||e.isEmpty(),i.isFiltered());return this.generateEventCacheAfterServerEvent_(o,e,n,Sh,r)},Oh.prototype.revertUserWrite_=function(t,e,n,r,i){var o;if(null!=n.shadowingWrite(e))return t;var a,s,u,c,l=new Ch(n,t,r),h=t.getEventCache().getNode(),f=void 0;return e.isEmpty()||".priority"===e.getFront()?(s=t.getServerCache().isFullyInitialized()?n.calcCompleteEventCache(t.getCompleteServerSnap()):(a=t.getServerCache().getNode(),Ya(a instanceof gl,"serverChildren would be complete if leaf node"),n.calcCompleteEventChildren(a)),f=this.filter_.updateFullNode(h,s,i)):(u=e.getFront(),null==(c=n.calcCompleteChild(u,t.getServerCache()))&&t.getServerCache().isCompleteForChild(u)&&(c=h.getImmediateChild(u)),(f=null!=c?this.filter_.updateChild(h,u,c,e.popFront(),l,i):t.getEventCache().getNode().hasChild(u)?this.filter_.updateChild(h,u,gl.EMPTY_NODE,e.popFront(),l,i):h).isEmpty()&&t.getServerCache().isFullyInitialized()&&(o=n.calcCompleteEventCache(t.getCompleteServerSnap())).isLeafNode()&&(f=this.filter_.updateFullNode(f,o,i))),o=t.getServerCache().isFullyInitialized()||null!=n.shadowingWrite($u.Empty),t.updateEventSnap(f,o,this.filter_.filtersNodes())},Oh);function Oh(t){this.filter_=t}var xh=(Ph.prototype.generateEventsForChanges=function(t,e,n){var r=this,i=[],o=[];return t.forEach((function(t){t.type===mh.CHILD_CHANGED&&r.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push(mh.childMovedChange(t.childName,t.snapshotNode))})),this.generateEventsForType_(i,mh.CHILD_REMOVED,t,n,e),this.generateEventsForType_(i,mh.CHILD_ADDED,t,n,e),this.generateEventsForType_(i,mh.CHILD_MOVED,o,n,e),this.generateEventsForType_(i,mh.CHILD_CHANGED,t,n,e),this.generateEventsForType_(i,mh.VALUE,t,n,e),i},Ph.prototype.generateEventsForType_=function(t,e,n,r,i){var o=this,a=n.filter((function(t){return t.type===e}));a.sort(this.compareChanges_.bind(this)),a.forEach((function(e){var n=o.materializeSingleChange_(e,i);r.forEach((function(r){r.respondsTo(e.type)&&t.push(r.createEvent(n,o.query_))}))}))},Ph.prototype.materializeSingleChange_=function(t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,this.index_)),t},Ph.prototype.compareChanges_=function(t,e){if(null==t.childName||null==e.childName)throw Xa("Should only compare child_ events.");var n=new xc(t.childName,t.snapshotNode),r=new xc(e.childName,e.snapshotNode);return this.index_.compare(n,r)},Ph);function Ph(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}var Rh,Dh=(Lh.prototype.getQuery=function(){return this.query_},Lh.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},Lh.prototype.getCompleteServerCache=function(t){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!t.isEmpty()&&!e.getImmediateChild(t.getFront()).isEmpty())?e.getChild(t):null},Lh.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},Lh.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},Lh.prototype.removeEventRegistration=function(t,e){var n,r=[];if(e&&(Ya(null==t,"A cancel should cancel all event registrations."),n=this.query_.path,this.eventRegistrations_.forEach((function(t){var i=t.createCancelEvent(e,n);i&&r.push(i)}))),t){for(var i=[],o=0;o<this.eventRegistrations_.length;++o){var a=this.eventRegistrations_[o];if(a.matches(t)){if(t.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(o+1));break}}else i.push(a)}this.eventRegistrations_=i}else this.eventRegistrations_=[];return r},Lh.prototype.applyOperation=function(t,e,n){t.type===$l.MERGE&&null!==t.source.queryId&&(Ya(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),Ya(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,i=this.processor_.applyOperation(r,t,e,n);return this.processor_.assertIndexed(i.viewCache),Ya(i.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=i.viewCache,this.generateEventsForChanges_(i.changes,i.viewCache.getEventCache().getNode(),null)},Lh.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),n=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Xc,(function(t,e){n.push(mh.childAddedChange(t,e))})),e.isFullyInitialized()&&n.push(mh.valueChange(e.getNode())),this.generateEventsForChanges_(n,e.getNode(),t)},Lh.prototype.generateEventsForChanges_=function(t,e,n){var r=n?[n]:this.eventRegistrations_;return this.eventGenerator_.generateEventsForChanges(t,e,r)},Lh);function Lh(t,e){this.query_=t,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),r=new wh(n.getIndex()),i=n.getNodeFilter();this.processor_=new Nh(i);var o=e.getServerCache(),a=e.getEventCache(),s=r.updateFullNode(gl.EMPTY_NODE,o.getNode(),null),u=i.updateFullNode(gl.EMPTY_NODE,a.getNode(),null),c=new dh(s,o.isFullyInitialized(),r.filtersNodes()),l=new dh(u,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=new yh(l,c),this.eventGenerator_=new xh(this.query_)}var Mh=(Object.defineProperty(Fh,"__referenceConstructor",{get:function(){return Ya(Rh,"Reference.ts has not been loaded"),Rh},set:function(t){Ya(!Rh,"__referenceConstructor has already been defined"),Rh=t},enumerable:!1,configurable:!0}),Fh.prototype.isEmpty=function(){return 0===this.views.size},Fh.prototype.applyOperation=function(t,e,n){var r,i,o=t.source.queryId;if(null!==o){var a=this.views.get(o);return Ya(null!=a,"SyncTree gave us an op for an invalid query."),a.applyOperation(t,e,n)}var s=[];try{for(var u=qa(this.views.values()),c=u.next();!c.done;c=u.next())a=c.value,s=s.concat(a.applyOperation(t,e,n))}catch(t){r={error:t}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}return s},Fh.prototype.addEventRegistration=function(t,e,n,r,i){var o,a,s,u=t.queryIdentifier(),c=this.views.get(u);return c||(a=!!(o=n.calcCompleteEventCache(i?r:null))||(o=r instanceof gl?n.calcCompleteEventChildren(r):gl.EMPTY_NODE,!1),s=new yh(new dh(o,a,!1),new dh(r,i,!1)),c=new Dh(t,s),this.views.set(u,c)),c.addEventRegistration(e),c.getInitialEvents(e)},Fh.prototype.removeEventRegistration=function(t,e,n){var r,i,o=t.queryIdentifier(),a=[],s=[],u=this.hasCompleteView();if("default"===o)try{for(var c=qa(this.views.entries()),l=c.next();!l.done;l=c.next()){var h=Ba(l.value,2),f=h[0],p=h[1];s=s.concat(p.removeEventRegistration(e,n)),p.isEmpty()&&(this.views.delete(f),p.getQuery().getQueryParams().loadsAllData()||a.push(p.getQuery()))}}catch(t){r={error:t}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}else(p=this.views.get(o))&&(s=s.concat(p.removeEventRegistration(e,n)),p.isEmpty()&&(this.views.delete(o),p.getQuery().getQueryParams().loadsAllData()||a.push(p.getQuery())));return u&&!this.hasCompleteView()&&a.push(new Fh.__referenceConstructor(t.repo,t.path)),{removed:a,events:s}},Fh.prototype.getQueryViews=function(){var t,e,n=[];try{for(var r=qa(this.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;o.getQuery().getQueryParams().loadsAllData()||n.push(o)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},Fh.prototype.getCompleteServerCache=function(t){var e,n,r=null;try{for(var i=qa(this.views.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r||a.getCompleteServerCache(t)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r},Fh.prototype.viewForQuery=function(t){if(t.getQueryParams().loadsAllData())return this.getCompleteView();var e=t.queryIdentifier();return this.views.get(e)},Fh.prototype.viewExistsForQuery=function(t){return null!=this.viewForQuery(t)},Fh.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},Fh.prototype.getCompleteView=function(){var t,e;try{for(var n=qa(this.views.values()),r=n.next();!r.done;r=n.next()){var i=r.value;if(i.getQuery().getQueryParams().loadsAllData())return i}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return null},Fh);function Fh(){this.views=new Map}var Uh=(jh.prototype.addWrite=function(t,e){if(t.isEmpty())return new jh(new ah(e));var n=this.writeTree_.findRootMostValueAndPath(t);if(null!=n){var r=n.path,i=n.value,o=$u.relativePath(r,t);return i=i.updateChild(o,e),new jh(this.writeTree_.set(r,i))}var a=new ah(e);return new jh(this.writeTree_.setTree(t,a))},jh.prototype.addWrites=function(t,e){var n=this;return Wu(e,(function(e,r){n=n.addWrite(t.child(e),r)})),n},jh.prototype.removeWrite=function(t){return t.isEmpty()?jh.Empty:new jh(this.writeTree_.setTree(t,ah.Empty))},jh.prototype.hasCompleteWrite=function(t){return null!=this.getCompleteNode(t)},jh.prototype.getCompleteNode=function(t){var e=this.writeTree_.findRootMostValueAndPath(t);return null!=e?this.writeTree_.get(e.path).getChild($u.relativePath(e.path,t)):null},jh.prototype.getCompleteChildren=function(){var t=[],e=this.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Xc,(function(e,n){t.push(new xc(e,n))})):this.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new xc(e,n.value))})),t},jh.prototype.childCompoundWrite=function(t){if(t.isEmpty())return this;var e=this.getCompleteNode(t);return new jh(null!=e?new ah(e):this.writeTree_.subtree(t))},jh.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},jh.prototype.apply=function(t){return function t(e,n,r){if(null!=n.value)return r.updateChild(e,n.value);var i=null;return n.children.inorderTraversal((function(n,o){".priority"===n?(Ya(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):r=t(e.child(n),o,r)})),r.getChild(e).isEmpty()||null===i||(r=r.updateChild(e.child(".priority"),i)),r}($u.Empty,this.writeTree_,t)},jh.Empty=new jh(new ah(null)),jh);function jh(t){this.writeTree_=t}var Vh=(qh.prototype.childWrites=function(t){return new Bh(t,this)},qh.prototype.addOverwrite=function(t,e,n,r){Ya(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:t,snap:e,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(t,e)),this.lastWriteId_=n},qh.prototype.addMerge=function(t,e,n){Ya(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:t,children:e,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(t,e),this.lastWriteId_=n},qh.prototype.getWrite=function(t){for(var e=0;e<this.allWrites_.length;e++){var n=this.allWrites_[e];if(n.writeId===t)return n}return null},qh.prototype.removeWrite=function(t){var e=this,n=this.allWrites_.findIndex((function(e){return e.writeId===t}));Ya(0<=n,"removeWrite called with nonexistent writeId.");var r=this.allWrites_[n];this.allWrites_.splice(n,1);for(var i=r.visible,o=!1,a=this.allWrites_.length-1;i&&0<=a;){var s=this.allWrites_[a];s.visible&&(n<=a&&this.recordContainsPath_(s,r.path)?i=!1:r.path.contains(s.path)&&(o=!0)),a--}return!!i&&(o?this.resetTree_():r.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(r.path):Wu(r.children,(function(t){e.visibleWrites_=e.visibleWrites_.removeWrite(r.path.child(t))})),!0)},qh.prototype.getCompleteWriteData=function(t){return this.visibleWrites_.getCompleteNode(t)},qh.prototype.calcCompleteEventCache=function(t,e,n,r){if(n||r){var i=this.visibleWrites_.childCompoundWrite(t);if(!r&&i.isEmpty())return e;if(r||null!=e||i.hasCompleteWrite($u.Empty)){var o=qh.layerTree_(this.allWrites_,(function(e){return(e.visible||r)&&(!n||!~n.indexOf(e.writeId))&&(e.path.contains(t)||t.contains(e.path))}),t),a=e||gl.EMPTY_NODE;return o.apply(a)}return null}var s=this.visibleWrites_.getCompleteNode(t);if(null!=s)return s;var u=this.visibleWrites_.childCompoundWrite(t);return u.isEmpty()?e:null!=e||u.hasCompleteWrite($u.Empty)?(a=e||gl.EMPTY_NODE,u.apply(a)):null},qh.prototype.calcCompleteEventChildren=function(t,e){var n=gl.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(t);if(r)return r.isLeafNode()||r.forEachChild(Xc,(function(t,e){n=n.updateImmediateChild(t,e)})),n;if(e){var i=this.visibleWrites_.childCompoundWrite(t);return e.forEachChild(Xc,(function(t,e){var r=i.childCompoundWrite(new $u(t)).apply(e);n=n.updateImmediateChild(t,r)})),i.getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n}return this.visibleWrites_.childCompoundWrite(t).getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n},qh.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n,r){Ya(n||r,"Either existingEventSnap or existingServerSnap must exist");var i=t.child(e);if(this.visibleWrites_.hasCompleteWrite(i))return null;var o=this.visibleWrites_.childCompoundWrite(i);return o.isEmpty()?r.getChild(e):o.apply(r.getChild(e))},qh.prototype.calcCompleteChild=function(t,e,n){var r=t.child(e),i=this.visibleWrites_.getCompleteNode(r);return null!=i?i:n.isCompleteForChild(e)?this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(e)):null},qh.prototype.shadowingWrite=function(t){return this.visibleWrites_.getCompleteNode(t)},qh.prototype.calcIndexedSlice=function(t,e,n,r,i,o){var a,s=this.visibleWrites_.childCompoundWrite(t),u=s.getCompleteNode($u.Empty);if(null!=u)a=u;else{if(null==e)return[];a=s.apply(e)}if((a=a.withIndex(o)).isEmpty()||a.isLeafNode())return[];for(var c=[],l=o.getCompare(),h=i?a.getReverseIteratorFrom(n,o):a.getIteratorFrom(n,o),f=h.getNext();f&&c.length<r;)0!==l(f,n)&&c.push(f),f=h.getNext();return c},qh.prototype.recordContainsPath_=function(t,e){if(t.snap)return t.path.contains(e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&t.path.child(n).contains(e))return!0;return!1},qh.prototype.resetTree_=function(){this.visibleWrites_=qh.layerTree_(this.allWrites_,qh.DefaultFilter_,$u.Empty),0<this.allWrites_.length?this.lastWriteId_=this.allWrites_[this.allWrites_.length-1].writeId:this.lastWriteId_=-1},qh.DefaultFilter_=function(t){return t.visible},qh.layerTree_=function(t,e,n){for(var r=Uh.Empty,i=0;i<t.length;++i){var o=t[i];if(e(o)){var a,s,u=o.path,c=void 0;if(o.snap)n.contains(u)?(c=$u.relativePath(n,u),r=r.addWrite(c,o.snap)):u.contains(n)&&(c=$u.relativePath(u,n),r=r.addWrite($u.Empty,o.snap.getChild(c)));else{if(!o.children)throw Xa("WriteRecord should have .snap or .children");n.contains(u)?(c=$u.relativePath(n,u),r=r.addWrites(c,o.children)):u.contains(n)&&((c=$u.relativePath(u,n)).isEmpty()?r=r.addWrites($u.Empty,o.children):(a=ws(o.children,c.getFront()))&&(s=a.getChild(c.popFront()),r=r.addWrite($u.Empty,s)))}}}return r},qh);function qh(){this.visibleWrites_=Uh.Empty,this.allWrites_=[],this.lastWriteId_=-1}var Bh=(zh.prototype.calcCompleteEventCache=function(t,e,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,n)},zh.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},zh.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,e,n)},zh.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(this.treePath_.child(t))},zh.prototype.calcIndexedSlice=function(t,e,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,n,r,i)},zh.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},zh.prototype.child=function(t){return new zh(this.treePath_.child(t),this.writeTree_)},zh);function zh(t,e){this.treePath_=t,this.writeTree_=e}var Gh=(Wh.prototype.applyUserOverwrite=function(t,e,n,r){return this.pendingWriteTree_.addOverwrite(t,e,n,r),r?this.applyOperationToSyncPoints_(new lh(eh.User,t,e)):[]},Wh.prototype.applyUserMerge=function(t,e,n){this.pendingWriteTree_.addMerge(t,e,n);var r=ah.fromObject(e);return this.applyOperationToSyncPoints_(new fh(eh.User,t,r))},Wh.prototype.ackUserWrite=function(t,e){void 0===e&&(e=!1);var n=this.pendingWriteTree_.getWrite(t);if(this.pendingWriteTree_.removeWrite(t)){var r=ah.Empty;return null!=n.snap?r=r.set($u.Empty,!0):Wu(n.children,(function(t,e){r=r.set(new $u(t),e)})),this.applyOperationToSyncPoints_(new ih(n.path,r,e))}return[]},Wh.prototype.applyServerOverwrite=function(t,e){return this.applyOperationToSyncPoints_(new lh(eh.Server,t,e))},Wh.prototype.applyServerMerge=function(t,e){var n=ah.fromObject(e);return this.applyOperationToSyncPoints_(new fh(eh.Server,t,n))},Wh.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new uh(eh.Server,t))},Wh.prototype.applyTaggedQueryOverwrite=function(t,e,n){var r=this.queryKeyForTag_(n);if(null==r)return[];var i=Wh.parseQueryKey_(r),o=i.path,a=i.queryId,s=$u.relativePath(o,t),u=new lh(eh.forServerTaggedQuery(a),s,e);return this.applyTaggedOperation_(o,u)},Wh.prototype.applyTaggedQueryMerge=function(t,e,n){var r=this.queryKeyForTag_(n);if(r){var i=Wh.parseQueryKey_(r),o=i.path,a=i.queryId,s=$u.relativePath(o,t),u=ah.fromObject(e),c=new fh(eh.forServerTaggedQuery(a),s,u);return this.applyTaggedOperation_(o,c)}return[]},Wh.prototype.applyTaggedListenComplete=function(t,e){var n=this.queryKeyForTag_(e);if(n){var r=Wh.parseQueryKey_(n),i=r.path,o=r.queryId,a=$u.relativePath(i,t),s=new uh(eh.forServerTaggedQuery(o),a);return this.applyTaggedOperation_(i,s)}return[]},Wh.prototype.addEventRegistration=function(t,e){var n=t.path,r=null,i=!1;this.syncPointTree_.foreachOnPath(n,(function(t,e){var o=$u.relativePath(t,n);r=r||e.getCompleteServerCache(o),i=i||e.hasCompleteView()}));var o,a=this.syncPointTree_.get(n);a?(i=i||a.hasCompleteView(),r=r||a.getCompleteServerCache($u.Empty)):(a=new Mh,this.syncPointTree_=this.syncPointTree_.set(n,a)),null!=r?o=!0:(o=!1,r=gl.EMPTY_NODE,this.syncPointTree_.subtree(n).foreachChild((function(t,e){var n=e.getCompleteServerCache($u.Empty);n&&(r=r.updateImmediateChild(t,n))})));var s,u,c=a.viewExistsForQuery(t);c||t.getQueryParams().loadsAllData()||(s=Wh.makeQueryKey_(t),Ya(!this.queryToTagMap.has(s),"View does not exist, but we have a tag"),u=Wh.getNextQueryTag_(),this.queryToTagMap.set(s,u),this.tagToQueryMap.set(u,s));var l,h=this.pendingWriteTree_.childWrites(n),f=a.addEventRegistration(t,e,h,r,o);return c||i||(l=a.viewForQuery(t),f=f.concat(this.setupListener_(t,l))),f},Wh.prototype.removeEventRegistration=function(t,e,n){var r=this,i=t.path,o=this.syncPointTree_.get(i),a=[];if(o&&("default"===t.queryIdentifier()||o.viewExistsForQuery(t))){var s=o.removeEventRegistration(t,e,n);o.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(i));var u=s.removed,c=(a=s.events,-1!==u.findIndex((function(t){return t.getQueryParams().loadsAllData()}))),l=this.syncPointTree_.findOnPath(i,(function(t,e){return e.hasCompleteView()}));if(c&&!l){var h=this.syncPointTree_.subtree(i);if(!h.isEmpty())for(var f=this.collectDistinctViewsForSubTree_(h),p=0;p<f.length;++p){var d=f[p],v=d.getQuery(),y=this.createListenerForView_(d);this.listenProvider_.startListening(Wh.queryForListening_(v),this.tagForQuery_(v),y.hashFn,y.onComplete)}}!l&&0<u.length&&!n&&(c?this.listenProvider_.stopListening(Wh.queryForListening_(t),null):u.forEach((function(t){var e=r.queryToTagMap.get(Wh.makeQueryKey_(t));r.listenProvider_.stopListening(Wh.queryForListening_(t),e)}))),this.removeTags_(u)}return a},Wh.prototype.calcCompleteEventCache=function(t,e){var n=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(t,(function(e,n){var r=$u.relativePath(e,t),i=n.getCompleteServerCache(r);if(i)return i}));return n.calcCompleteEventCache(t,r,e,!0)},Wh.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold((function(t,e,n){if(e&&e.hasCompleteView())return[e.getCompleteView()];var r=[];return e&&(r=e.getQueryViews()),Wu(n,(function(t,e){r=r.concat(e)})),r}))},Wh.prototype.removeTags_=function(t){for(var e=0;e<t.length;++e){var n,r,i=t[e];i.getQueryParams().loadsAllData()||(n=Wh.makeQueryKey_(i),r=this.queryToTagMap.get(n),this.queryToTagMap.delete(n),this.tagToQueryMap.delete(r))}},Wh.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},Wh.prototype.setupListener_=function(t,e){var n=t.path,r=this.tagForQuery_(t),i=this.createListenerForView_(e),o=this.listenProvider_.startListening(Wh.queryForListening_(t),r,i.hashFn,i.onComplete),a=this.syncPointTree_.subtree(n);if(r)Ya(!a.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var s=a.fold((function(t,e,n){if(!t.isEmpty()&&e&&e.hasCompleteView())return[e.getCompleteView().getQuery()];var r=[];return e&&(r=r.concat(e.getQueryViews().map((function(t){return t.getQuery()})))),Wu(n,(function(t,e){r=r.concat(e)})),r})),u=0;u<s.length;++u){var c=s[u];this.listenProvider_.stopListening(Wh.queryForListening_(c),this.tagForQuery_(c))}return o},Wh.prototype.createListenerForView_=function(t){var e=this,n=t.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){return(t.getServerCache()||gl.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?e.applyTaggedListenComplete(n.path,r):e.applyListenComplete(n.path);var i=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");var r=new Error(t+" at "+e.path.toString()+": "+n);return r.code=t.toUpperCase(),r}(t,n);return e.removeEventRegistration(n,null,i)}}},Wh.makeQueryKey_=function(t){return t.path.toString()+"$"+t.queryIdentifier()},Wh.parseQueryKey_=function(t){var e=t.indexOf("$");return Ya(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new $u(t.substr(0,e))}},Wh.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap.get(t)},Wh.prototype.tagForQuery_=function(t){var e=Wh.makeQueryKey_(t);return this.queryToTagMap.get(e)},Wh.getNextQueryTag_=function(){return Wh.nextQueryTag_++},Wh.prototype.applyTaggedOperation_=function(t,e){var n=this.syncPointTree_.get(t);Ya(n,"Missing sync point for query tag that we're tracking");var r=this.pendingWriteTree_.childWrites(t);return n.applyOperation(e,r,null)},Wh.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites($u.Empty))},Wh.prototype.applyOperationHelper_=function(t,e,n,r){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,e,n,r);var i=e.get($u.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache($u.Empty));var o,a,s=[],u=t.path.getFront(),c=t.operationForChild(u),l=e.children.get(u);return l&&c&&(o=n?n.getImmediateChild(u):null,a=r.child(u),s=s.concat(this.applyOperationHelper_(c,l,o,a))),i&&(s=s.concat(i.applyOperation(t,r,n))),s},Wh.prototype.applyOperationDescendantsHelper_=function(t,e,n,r){var i=this,o=e.get($u.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache($u.Empty));var a=[];return e.children.inorderTraversal((function(e,o){var s=n?n.getImmediateChild(e):null,u=r.child(e),c=t.operationForChild(e);c&&(a=a.concat(i.applyOperationDescendantsHelper_(c,o,s,u)))})),o&&(a=a.concat(o.applyOperation(t,r,n))),a},Wh.nextQueryTag_=1,Wh);function Wh(t){this.listenProvider_=t,this.syncPointTree_=ah.Empty,this.pendingWriteTree_=new Vh,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}var Hh=(Kh.prototype.getNode=function(t){return this.rootNode_.getChild(t)},Kh.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},Kh);function Kh(){this.rootNode_=gl.EMPTY_NODE}var Qh=(Yh.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),bs(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},Yh.prototype.get=function(){return Ja(this.counters_)},Yh);function Yh(){this.counters_={}}var Xh=($h.getCollection=function(t){var e=t.toString();return this.collections_[e]||(this.collections_[e]=new Qh),this.collections_[e]},$h.getOrCreateReporter=function(t,e){var n=t.toString();return this.reporters_[n]||(this.reporters_[n]=e()),this.reporters_[n]},$h.collections_={},$h.reporters_={},$h);function $h(){}var Jh=(Zh.prototype.get=function(){var t=this.collection_.get(),e=Ua({},t);return this.last_&&Wu(this.last_,(function(t,n){e[t]=e[t]-n})),this.last_=t,e},Zh);function Zh(t){this.collection_=t,this.last_=null}var tf=(ef.prototype.includeStat=function(t){this.statsToReport_[t]=!0},ef.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;Wu(e,(function(e,i){0<i&&bs(t.statsToReport_,e)&&(n[e]=i,r=!0)})),r&&this.server_.reportStats(n),Qu(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},ef);function ef(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Jh(t);var n=1e4+2e4*Math.random();Qu(this.reportStats_.bind(this),Math.floor(n))}var nf=(rf.prototype.queueEvents=function(t){for(var e=null,n=0;n<t.length;n++){var r=t[n],i=r.getPath();null===e||i.equals(e.getPath())||(this.eventLists_.push(e),e=null),null===e&&(e=new of(i)),e.add(r)}e&&this.eventLists_.push(e)},rf.prototype.raiseEventsAtPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.equals(t)}))},rf.prototype.raiseEventsForChangedPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.contains(t)||t.contains(e)}))},rf.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var e=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];r&&(t(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):e=!1)}e&&(this.eventLists_=[]),this.recursionDepth_--},rf);function rf(){this.eventLists_=[],this.recursionDepth_=0}var of=(af.prototype.add=function(t){this.events_.push(t)},af.prototype.raise=function(){for(var t=0;t<this.events_.length;t++){var e,n=this.events_[t];null!==n&&(this.events_[t]=null,e=n.getEventRunner(),Fu&&ju("event: "+n.toString()),Ku(e))}},af.prototype.getPath=function(){return this.path_},af);function af(t){this.path_=t,this.events_=[]}var sf=(uf.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=za(this.listeners_[t]),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)},uf.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},uf.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},uf.prototype.validateEventType_=function(t){Ya(this.allowedEvents_.find((function(e){return e===t})),"Unknown event: "+t)},uf);function uf(t){this.allowedEvents_=t,this.listeners_={},Ya(Array.isArray(t)&&0<t.length,"Requires a non-empty array")}var cf,lf=(Fa(hf,cf=sf),hf.getInstance=function(){return new hf},hf.prototype.getInitialEvent=function(t){return Ya("visible"===t,"Unknown event type: "+t),[this.visible_]},hf);function hf(){var t,e,n=cf.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),n.visible_=!0,e&&document.addEventListener(e,(function(){var e=!document[t];e!==n.visible_&&(n.visible_=e,n.trigger("visible",e))}),!1),n}var ff,pf=(Fa(df,ff=sf),df.getInstance=function(){return new df},df.prototype.getInitialEvent=function(t){return Ya("online"===t,"Unknown event type: "+t),[this.online_]},df.prototype.currentlyOnline=function(){return this.online_},df);function df(){var t=ff.call(this,["online"])||this;return t.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||rs()||(window.addEventListener("online",(function(){t.online_||(t.online_=!0,t.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){t.online_&&(t.online_=!1,t.trigger("online",!1))}),!1)),t}var vf=(yf.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},yf.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=this;this.pendingResponses[this.currentResponseNum]&&"break"!==function(){var t=r.pendingResponses[r.currentResponseNum];delete r.pendingResponses[r.currentResponseNum];for(var e=0;e<t.length;++e)!function(e){t[e]&&Ku((function(){n.onMessage_(t[e])}))}(e);if(r.currentResponseNum===r.closeAfterResponse)return r.onClose&&(r.onClose(),r.onClose=null),"break";r.currentResponseNum++}(););},yf);function yf(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}var gf=(mf.prototype.open=function(t,e){var n,r,i,o=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new vf(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){o.log_("Timed out trying to connect."),o.onClosed_(),o.connectTimeoutTimer_=null}),Math.floor(3e4)),n=function(){var t,e;o.isClosed_||(o.scriptTagHolder=new bf((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Ba(t,5),r=n[0],i=n[1],a=n[2];if(n[3],n[4],o.incrementIncomingBytes_(t),o.scriptTagHolder)if(o.connectTimeoutTimer_&&(clearTimeout(o.connectTimeoutTimer_),o.connectTimeoutTimer_=null),o.everConnected_=!0,"start"===r)o.id=i,o.password=a;else{if("close"!==r)throw new Error("Unrecognized command received: "+r);i?(o.scriptTagHolder.sendNewPolls=!1,o.myPacketOrderer.closeAfter(i,(function(){o.onClosed_()}))):o.onClosed_()}}),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Ba(t,2),r=n[0],i=n[1];o.incrementIncomingBytes_(t),o.myPacketOrderer.handleResponse(r,i)}),(function(){o.onClosed_()}),o.urlFn),(t={start:"t"}).ser=Math.floor(1e8*Math.random()),o.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=o.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",o.transportSessionId&&(t.s=o.transportSessionId),o.lastSessionId&&(t.ls=o.lastSessionId),o.applicationId&&(t.p=o.applicationId),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf(ec)&&(t.r="f"),e=o.urlFn(t),o.log_("Connecting via long-poll to "+e),o.scriptTagHolder.addTag(e,(function(){})))},"complete"===document.readyState?n():(r=!1,i=function(){document.body?r||(r=!0,n()):setTimeout(i,Math.floor(10))},document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&i()})),window.attachEvent("onload",i)))},mf.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},mf.forceAllow=function(){mf.forceAllow_=!0},mf.forceDisallow=function(){mf.forceDisallow_=!0},mf.isAvailable=function(){return!!mf.forceAllow_||!(mf.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI)},mf.prototype.markConnectionHealthy=function(){},mf.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},mf.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},mf.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},mf.prototype.send=function(t){var e=gs(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n,r=Ou((n=Wa(e),$a.encodeByteArray(n,!0)),1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},mf.prototype.addDisconnectPingFrame=function(t,e){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)},mf.prototype.incrementIncomingBytes_=function(t){var e=gs(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},mf);function mf(t,e,n,r,i){this.connId=t,this.repoInfo=e,this.applicationId=n,this.transportSessionId=r,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Vu(t),this.stats_=Xh.getCollection(e),this.urlFn=function(t){return e.connectionURL(rc,t)}}var bf=(wf.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||ju("No IE domain setting required")}catch(i){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},wf.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)}),Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},wf.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},wf.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(0<this.pendingSegs.length?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;0<this.pendingSegs.length&&this.pendingSegs[0].d.length+30+n.length<=1870;){var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return e+=n,this.addLongPollTag_(e,this.currentSerial),!0}return!1},wf.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},wf.prototype.addLongPollTag_=function(t,e){var n=this;function r(){n.outstandingRequests.delete(e),n.newRequest_()}this.outstandingRequests.add(e);var i=setTimeout(r,Math.floor(25e3));this.addTag(t,(function(){clearTimeout(i),r()}))},wf.prototype.addTag=function(t,e){var n=this;setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){ju("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(t){}}),Math.floor(1))},wf);function wf(t,e,n,r){this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,this.uniqueCallbackIdentifier=Lu(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=wf.createIFrame_();var i="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(i='<script>document.domain="'+document.domain+'";<\/script>');var o="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(t){ju("frame writing exception"),t.stack&&ju(t.stack),ju(t)}}var _f="";function Ef(t){_f=t}var If=null;"undefined"!=typeof MozWebSocket?If=MozWebSocket:"undefined"!=typeof WebSocket&&(If=WebSocket);var Tf=(Sf.connectionURL_=function(t,e,n){var r={v:"5"};return"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf(ec)&&(r.r="f"),e&&(r.s=e),n&&(r.ls=n),t.connectionURL(nc,r)},Sf.prototype.open=function(t,e){var n,r=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Pu.set("previous_websocket_failure",!0);try{as()||(n={headers:{"X-Firebase-GMPID":this.applicationId||""}},this.mySock=new If(this.connURL,[],n))}catch(t){this.log_("Error instantiating WebSocket.");var i=t.message||t.data;return i&&this.log_(i),void this.onClosed_()}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(t){r.handleIncomingFrame(t)},this.mySock.onerror=function(t){r.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&r.log_(e),r.onClosed_()}},Sf.prototype.start=function(){},Sf.forceDisallow=function(){Sf.forceDisallow_=!0},Sf.isAvailable=function(){var t,e=!1;return"undefined"!=typeof navigator&&navigator.userAgent&&(t=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/))&&1<t.length&&parseFloat(t[1])<4.4&&(e=!0),!e&&null!==If&&!Sf.forceDisallow_},Sf.previouslyFailed=function(){return Pu.isInMemoryStorage||!0===Pu.get("previous_websocket_failure")},Sf.prototype.markConnectionHealthy=function(){Pu.remove("previous_websocket_failure")},Sf.prototype.appendFrame_=function(t){var e,n;this.frames.push(t),this.frames.length===this.totalFrames&&(e=this.frames.join(""),this.frames=null,n=ys(e),this.onMessage(n))},Sf.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},Sf.prototype.extractFrameCount_=function(t){if(Ya(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},Sf.prototype.handleIncomingFrame=function(t){var e,n;null!==this.mySock&&(e=t.data,this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames?this.appendFrame_(e):null!==(n=this.extractFrameCount_(e))&&this.appendFrame_(n))},Sf.prototype.send=function(t){this.resetKeepAlive();var e=gs(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=Ou(e,16384);1<n.length&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},Sf.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},Sf.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},Sf.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},Sf.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()}),Math.floor(45e3))},Sf.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},Sf.responsesRequiredToBeHealthy=2,Sf.healthyTimeout=3e4,Sf);function Sf(t,e,n,r,i){this.connId=t,this.applicationId=n,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Vu(this.connId),this.stats_=Xh.getCollection(e),this.connURL=Sf.connectionURL_(e,r,i),this.nodeAdmin=e.nodeAdmin}var Cf=(Object.defineProperty(Af,"ALL_TRANSPORTS",{get:function(){return[gf,Tf]},enumerable:!1,configurable:!0}),Af.prototype.initTransports_=function(t){var e,n,r=Tf&&Tf.isAvailable(),i=r&&!Tf.previouslyFailed();if(t.webSocketOnly&&(r||Cu("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Tf];else{var o=this.transports_=[];try{for(var a=qa(Af.ALL_TRANSPORTS),s=a.next();!s.done;s=a.next()){var u=s.value;u&&u.isAvailable()&&o.push(u)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}}},Af.prototype.initialTransport=function(){if(0<this.transports_.length)return this.transports_[0];throw new Error("No transports available")},Af.prototype.upgradeTransport=function(){return 1<this.transports_.length?this.transports_[1]:null},Af);function Af(t){this.initTransports_(t)}var kf=(Nf.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){t.conn_&&t.conn_.open(n,r)}),Math.floor(0));var i=e.healthyTimeout||0;0<i&&(this.healthyTimeout_=Qu((function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&102400<t.conn_.bytesReceived?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&10240<t.conn_.bytesSent?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))}),Math.floor(i)))},Nf.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},Nf.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},Nf.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},Nf.prototype.sendRequest=function(t){var e={t:"d",d:t};this.sendData_(e)},Nf.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},Nf.prototype.onSecondaryControl_=function(t){var e;"t"in t&&("a"===(e=t.t)?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_()))},Nf.prototype.onSecondaryMessageReceived_=function(t){var e=Nu("t",t),n=Nu("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},Nf.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},Nf.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},Nf.prototype.onPrimaryMessageReceived_=function(t){var e=Nu("t",t),n=Nu("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)},Nf.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},Nf.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},Nf.prototype.onControl_=function(t){var e=Nu("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?Tu("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Tu("Unknown control packet command: "+e)}},Nf.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(r),0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&Cu("Protocol version mismatch detected"),this.tryStartUpgrade_())},Nf.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},Nf.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Qu((function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())}),Math.floor(6e4))},Nf.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.updateHost(t),1===this.state_?this.close():(this.closeConnections_(),this.start_())},Nf.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Qu((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},Nf.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},Nf.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},Nf.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Pu.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},Nf.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},Nf.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},Nf.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},Nf.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},Nf);function Nf(t,e,n,r,i,o,a,s){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.onMessage_=r,this.onReady_=i,this.onDisconnect_=o,this.onKill_=a,this.lastSessionId=s,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Vu("c:"+this.id+":"),this.transportManager_=new Cf(e),this.log_("Connection created"),this.start_()}var Of=(xf.prototype.put=function(t,e,n,r){},xf.prototype.merge=function(t,e,n,r){},xf.prototype.refreshAuthToken=function(t){},xf.prototype.onDisconnectPut=function(t,e,n){},xf.prototype.onDisconnectMerge=function(t,e,n){},xf.prototype.onDisconnectCancel=function(t,e){},xf.prototype.reportStats=function(t){},xf);function xf(){}var Pf,Rf=1e3,Df=(Fa(Lf,Pf=Of),Lf.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,i={r:r,a:t,b:e};this.log_(gs(i)),Ya(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},Lf.prototype.listen=function(t,e,n,r){var i=t.queryIdentifier(),o=t.path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),Ya(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),Ya(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)},Lf.prototype.sendListen_=function(t){var e=this,n=t.query,r=n.path.toString(),i=n.queryIdentifier();this.log_("Listen on "+r+" for "+i);var o={p:r};t.tag&&(o.q=n.queryObject(),o.t=t.tag),o.h=t.hashFn(),this.sendRequest("q",o,(function(o){var a=o.d,s=o.s;Lf.warnOnListenWarnings_(a,n),(e.listens.get(r)&&e.listens.get(r).get(i))===t&&(e.log_("listen response",o),"ok"!==s&&e.removeListen_(r,i),t.onComplete&&t.onComplete(s,a))}))},Lf.warnOnListenWarnings_=function(t,e){var n;t&&"object"==typeof t&&bs(t,"w")&&(n=ws(t,"w"),Array.isArray(n)&&~n.indexOf("no_index")&&Cu('Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ".indexOn": "'+e.getQueryParams().getIndex().toString()+'" at '+e.path.toString()+" to your security rules for better performance."))},Lf.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(t)},Lf.prototype.reduceReconnectDelayIfAdminCredential_=function(t){var e;(t&&40===t.length||"object"==typeof(e=ms(t).claims)&&!0===e.admin)&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},Lf.prototype.tryAuth=function(){var t,e,n,r,i=this;this.connected_&&this.authToken_&&(e=(r=ms(t=this.authToken_).claims)&&"object"==typeof r&&r.hasOwnProperty("iat")?"auth":"gauth",n={cred:t},null===this.authOverride_?n.noauth=!0:"object"==typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(e,n,(function(e){var n=e.s,r=e.d||"error";i.authToken_===t&&("ok"===n?i.invalidAuthTokenCount_=0:i.onAuthRevoked_(n,r))})))},Lf.prototype.unlisten=function(t,e){var n=t.path.toString(),r=t.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),Ya(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t.queryObject(),e)},Lf.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},Lf.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},Lf.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},Lf.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},Lf.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,(function(t){r&&setTimeout((function(){r(t.s,t.d)}),Math.floor(0))}))},Lf.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},Lf.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},Lf.prototype.putInternal=function(t,e,n,r,i){var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+e)},Lf.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,(function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)}))},Lf.prototype.reportStats=function(t){var e,n=this;this.connected_&&(e={c:t},this.log_("reportStats",e),this.sendRequest("s",e,(function(t){var e;"ok"!==t.s&&(e=t.d,n.log_("reportStats","Error sending stats: "+e))})))},Lf.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+gs(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},Lf.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):Tu("Unrecognized action received from server: "+gs(t)+"\nAre you using the latest client?")},Lf.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},Lf.prototype.scheduleConnect_=function(t){var e=this;Ya(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){e.establishConnectionTimer_=null,e.establishConnection_()}),Math.floor(t))},Lf.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Rf,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},Lf.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Rf,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},Lf.prototype.onRealtimeDisconnect_=function(){var t,e;this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()&&(this.visible_?this.lastConnectionEstablishedTime_&&(3e4<(new Date).getTime()-this.lastConnectionEstablishedTime_&&(this.reconnectDelay_=Rf),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime()),t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t),e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)),this.onConnectStatus_(!1)},Lf.prototype.establishConnection_=function(){var t,e,n,r,i,o,a,s,u,c,l=this;this.shouldReconnect_()&&(this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),e=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+Lf.nextConnectionId_++,o=(i=this).lastSessionId,a=!1,s=null,u=function(){s?s.close():(a=!0,n())},this.realtime_={close:u,sendRequest:function(t){Ya(s,"sendRequest call when we're not connected not allowed."),s.sendRequest(t)}},c=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(c).then((function(u){a?ju("getToken() completed but was canceled"):(ju("getToken() completed. Creating connection."),i.authToken_=u&&u.accessToken,s=new kf(r,i.repoInfo_,i.applicationId_,t,e,n,(function(t){Cu(t+" ("+i.repoInfo_.toString()+")"),i.interrupt("server_kill")}),o))})).then(null,(function(t){i.log_("Failed to get token: "+t),a||(l.repoInfo_.nodeAdmin&&Cu(t),u())})))},Lf.prototype.interrupt=function(t){ju("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},Lf.prototype.resume=function(t){ju("Resuming connection for reason: "+t),delete this.interruptReasons_[t],_s(this.interruptReasons_)&&(this.reconnectDelay_=Rf,this.realtime_||this.scheduleConnect_(0))},Lf.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},Lf.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},Lf.prototype.onListenRevoked_=function(t,e){var n=e?e.map((function(t){return Gu(t)})).join("$"):"default",r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},Lf.prototype.removeListen_=function(t,e){var n,r,i=new $u(t).toString();return this.listens.has(i)?(r=(n=this.listens.get(i)).get(e),n.delete(e),0===n.size&&this.listens.delete(i)):r=void 0,r},Lf.prototype.onAuthRevoked_=function(t,e){ju("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,3<=this.invalidAuthTokenCount_&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},Lf.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},Lf.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth();try{for(var i=qa(this.listens.values()),o=i.next();!o.done;o=i.next()){var a=o.value;try{for(var s=(n=void 0,qa(a.values())),u=s.next();!u.done;u=s.next()){var c=u.value;this.sendListen_(c)}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}for(var l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}},Lf.prototype.sendConnectStats_=function(){var t={};t["sdk.js."+_f.replace(/\./g,"-")]=1,rs()?t["framework.cordova"]=1:os()&&(t["framework.reactnative"]=1),this.reportStats(t)},Lf.prototype.shouldReconnect_=function(){var t=pf.getInstance().currentlyOnline();return _s(this.interruptReasons_)&&t},Lf.nextPersistentConnectionId_=0,Lf.nextConnectionId_=0,Lf);function Lf(t,e,n,r,i,o,a){var s=Pf.call(this)||this;if(s.repoInfo_=t,s.applicationId_=e,s.onDataUpdate_=n,s.onConnectStatus_=r,s.onServerInfoUpdate_=i,s.authTokenProvider_=o,s.authOverride_=a,s.id=Lf.nextPersistentConnectionId_++,s.log_=Vu("p:"+s.id+":"),s.interruptReasons_={},s.listens=new Map,s.outstandingPuts_=[],s.outstandingPutCount_=0,s.onDisconnectRequestQueue_=[],s.connected_=!1,s.reconnectDelay_=Rf,s.maxReconnectDelay_=3e5,s.securityDebugCallback_=null,s.lastSessionId=null,s.establishConnectionTimer_=null,s.visible_=!1,s.requestCBHash_={},s.requestNumber_=0,s.realtime_=null,s.authToken_=null,s.forceTokenRefresh_=!1,s.invalidAuthTokenCount_=0,s.firstConnection_=!0,s.lastConnectionAttemptTime_=null,s.lastConnectionEstablishedTime_=null,a&&!as())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return s.scheduleConnect_(0),lf.getInstance().on("visible",s.onVisible_,s),-1===t.host.indexOf("fblocal")&&pf.getInstance().on("online",s.onOnline_,s),s}var Mf,Ff=(Fa(Uf,Mf=Of),Uf.prototype.reportStats=function(t){throw new Error("Method not implemented.")},Uf.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(Ya(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},Uf.prototype.listen=function(t,e,n,r){var i=this,o=t.path.toString();this.log_("Listen called for "+o+" "+t.queryIdentifier());var a=Uf.getListenId_(t,n),s={};this.listens_[a]=s;var u=t.getQueryParams().toRestQueryStringParameters();this.restRequest_(o+".json",u,(function(t,e){var u=e;404===t&&(t=u=null),null===t&&i.onDataUpdate_(o,u,!1,n),ws(i.listens_,a)===s&&r(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)}))},Uf.prototype.unlisten=function(t,e){var n=Uf.getListenId_(t,e);delete this.listens_[n]},Uf.prototype.refreshAuthToken=function(t){},Uf.prototype.restRequest_=function(t,e,n){var r=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then((function(i){var o=i&&i.accessToken;o&&(e.auth=o);var a=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+function(t){for(var e=[],n=0,r=Object.entries(t);n<r.length;n++){var i=r[n];!function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}(i[0],i[1])}return e.length?"&"+e.join("&"):""}(e);r.log_("Sending REST request for "+a);var s=new XMLHttpRequest;s.onreadystatechange=function(){if(n&&4===s.readyState){r.log_("REST Response for "+a+" received. status:",s.status,"response:",s.responseText);var t=null;if(200<=s.status&&s.status<300){try{t=ys(s.responseText)}catch(t){Cu("Failed to parse JSON response for "+a+": "+s.responseText)}n(null,t)}else 401!==s.status&&404!==s.status&&Cu("Got unsuccessful REST response for "+a+" Status: "+s.status),n(s.status);n=null}},s.open("GET",a,!0),s.send()}))},Uf);function Uf(t,e,n){var r=Mf.call(this)||this;return r.repoInfo_=t,r.onDataUpdate_=e,r.authTokenProvider_=n,r.log_=Vu("p:rest:"),r.listens_={},r}var jf="repo_interrupt",Vf=(qf.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},qf.prototype.name=function(){return this.repoInfo_.namespace},qf.prototype.serverTime=function(){var t=this.infoData_.getNode(new $u(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t},qf.prototype.generateServerValues=function(){return(t=(t={timestamp:this.serverTime()})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t},qf.prototype.onDataUpdate_=function(t,e,n,r){this.dataUpdateCount++;var i=new $u(t);e=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,e):e;var o,a,s,u,c,l=i;0<(c=r?n?(o=Es(e,(function(t){return El(t)})),this.serverSyncTree_.applyTaggedQueryMerge(i,o,r)):(a=El(e),this.serverSyncTree_.applyTaggedQueryOverwrite(i,a,r)):n?(s=Es(e,(function(t){return El(t)})),this.serverSyncTree_.applyServerMerge(i,s)):(u=El(e),this.serverSyncTree_.applyServerOverwrite(i,u))).length&&(l=this.rerunTransactions_(i)),this.eventQueue_.raiseEventsForChangedPath(l,c)},qf.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},qf.prototype.onConnectStatus_=function(t){this.updateInfo_("connected",t),!1===t&&this.runOnDisconnectEvents_()},qf.prototype.onServerInfoUpdate_=function(t){var e=this;Wu(t,(function(t,n){e.updateInfo_(t,n)}))},qf.prototype.updateInfo_=function(t,e){var n=new $u("/.info/"+t),r=El(e);this.infoData_.updateSnapshot(n,r);var i=this.infoSyncTree_.applyServerOverwrite(n,r);this.eventQueue_.raiseEventsForChangedPath(n,i)},qf.prototype.getNextWriteId_=function(){return this.nextWriteId_++},qf.prototype.setWithPriority=function(t,e,n,r){var i=this;this.log_("set",{path:t.toString(),value:e,priority:n});var o=this.generateServerValues(),a=El(e,n),s=Hl(a,this.serverSyncTree_.calcCompleteEventCache(t),o),u=this.getNextWriteId_(),c=this.serverSyncTree_.applyUserOverwrite(t,s,u,!0);this.eventQueue_.queueEvents(c),this.server_.put(t.toString(),a.val(!0),(function(e,n){var o="ok"===e;o||Cu("set at "+t+" failed: "+e);var a=i.serverSyncTree_.ackUserWrite(u,!o);i.eventQueue_.raiseEventsForChangedPath(t,a),i.callOnCompleteCallback(r,e,n)}));var l=this.abortTransactions_(t);this.rerunTransactions_(l),this.eventQueue_.raiseEventsForChangedPath(l,[])},qf.prototype.update=function(t,e,n){var r=this;this.log_("update",{path:t.toString(),value:e});var i,o,a=!0,s=this.generateServerValues(),u={};Wu(e,(function(e,n){a=!1,u[e]=Wl(t.child(e),El(n),r.serverSyncTree_,s)})),a?(ju("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok")):(i=this.getNextWriteId_(),o=this.serverSyncTree_.applyUserMerge(t,u,i),this.eventQueue_.queueEvents(o),this.server_.merge(t.toString(),e,(function(e,o){var a="ok"===e;a||Cu("update at "+t+" failed: "+e);var s=r.serverSyncTree_.ackUserWrite(i,!a),u=0<s.length?r.rerunTransactions_(t):t;r.eventQueue_.raiseEventsForChangedPath(u,s),r.callOnCompleteCallback(n,e,o)})),Wu(e,(function(e){var n=r.abortTransactions_(t.child(e));r.rerunTransactions_(n)})),this.eventQueue_.raiseEventsForChangedPath(t,[]))},qf.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_("onDisconnectEvents");var e=this.generateServerValues(),n=new Zl;this.onDisconnect_.forEachTree($u.Empty,(function(r,i){var o=Wl(r,i,t.serverSyncTree_,e);n.remember(r,o)}));var r=[];n.forEachTree($u.Empty,(function(e,n){r=r.concat(t.serverSyncTree_.applyServerOverwrite(e,n));var i=t.abortTransactions_(e);t.rerunTransactions_(i)})),this.onDisconnect_=new Zl,this.eventQueue_.raiseEventsForChangedPath($u.Empty,r)},qf.prototype.onDisconnectCancel=function(t,e){var n=this;this.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&n.onDisconnect_.forget(t),n.callOnCompleteCallback(e,r,i)}))},qf.prototype.onDisconnectSet=function(t,e,n){var r=this,i=El(e);this.server_.onDisconnectPut(t.toString(),i.val(!0),(function(e,o){"ok"===e&&r.onDisconnect_.remember(t,i),r.callOnCompleteCallback(n,e,o)}))},qf.prototype.onDisconnectSetWithPriority=function(t,e,n,r){var i=this,o=El(e,n);this.server_.onDisconnectPut(t.toString(),o.val(!0),(function(e,n){"ok"===e&&i.onDisconnect_.remember(t,o),i.callOnCompleteCallback(r,e,n)}))},qf.prototype.onDisconnectUpdate=function(t,e,n){var r=this;if(_s(e))return ju("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(t.toString(),e,(function(i,o){"ok"===i&&Wu(e,(function(e,n){var i=El(n);r.onDisconnect_.remember(t.child(e),i)})),r.callOnCompleteCallback(n,i,o)}))},qf.prototype.addEventCallbackForQuery=function(t,e){var n=".info"===t.path.getFront()?this.infoSyncTree_.addEventRegistration(t,e):this.serverSyncTree_.addEventRegistration(t,e);this.eventQueue_.raiseEventsAtPath(t.path,n)},qf.prototype.removeEventCallbackForQuery=function(t,e){var n=".info"===t.path.getFront()?this.infoSyncTree_.removeEventRegistration(t,e):this.serverSyncTree_.removeEventRegistration(t,e);this.eventQueue_.raiseEventsAtPath(t.path,n)},qf.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt(jf)},qf.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume(jf)},qf.prototype.stats=function(t){var e,n;void 0===t&&(t=!1),"undefined"!=typeof console&&(e=t?(this.statsListener_||(this.statsListener_=new Jh(this.stats_)),this.statsListener_.get()):this.stats_.get(),n=Object.keys(e).reduce((function(t,e){return Math.max(e.length,t)}),0),Wu(e,(function(t,e){for(var r=t,i=t.length;i<n+2;i++)r+=" ";console.log(r+e)})))},qf.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},qf.prototype.log_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),ju.apply(void 0,za([n],t))},qf.prototype.callOnCompleteCallback=function(t,e,n){t&&Ku((function(){var r,i,o;"ok"===e?t(null):(i=r=(e||"error").toUpperCase(),n&&(i+=": "+n),(o=new Error(i)).code=r,t(o))}))},Object.defineProperty(qf.prototype,"database",{get:function(){return this.__database||(this.__database=new cp(this))},enumerable:!1,configurable:!0}),qf);function qf(t,e,n,r){var i=this;if(this.repoInfo_=t,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new nf,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new Zl,this.persistentConnection_=null,this.stats_=Xh.getCollection(t),e||0<=("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i))this.server_=new Ff(this.repoInfo_,this.onDataUpdate_.bind(this),r),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var o=n.options.databaseAuthVariableOverride;if(null!=o){if("object"!=typeof o)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{gs(o)}catch(t){throw new Error("Invalid authOverride provided: "+t)}}this.persistentConnection_=new Df(this.repoInfo_,n.options.appId,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),r,o),this.server_=this.persistentConnection_}r.addTokenChangeListener((function(t){i.server_.refreshAuthToken(t)})),this.statsReporter_=Xh.getOrCreateReporter(t,(function(){return new tf(i.stats_,i.server_)})),this.transactionsInit_(),this.infoData_=new Hh,this.infoSyncTree_=new Gh({startListening:function(t,e,n,r){var o=[],a=i.infoData_.getNode(t.path);return a.isEmpty()||(o=i.infoSyncTree_.applyServerOverwrite(t.path,a),setTimeout((function(){r("ok")}),0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new Gh({startListening:function(t,e,n,r){return i.server_.listen(t,n,e,(function(e,n){var o=r(e,n);i.eventQueue_.raiseEventsForChangedPath(t.path,o)})),[]},stopListening:function(t,e){i.server_.unlisten(t,e)}})}var Bf=(zf.prototype.getStartPost=function(){return this.startPost_},zf.prototype.getEndPost=function(){return this.endPost_},zf.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},zf.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new xc(e,n))||(n=gl.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},zf.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=gl.EMPTY_NODE);var r=(r=e.withIndex(this.index_)).updatePriority(gl.EMPTY_NODE),i=this;return e.forEachChild(Xc,(function(t,e){i.matches(new xc(t,e))||(r=r.updateImmediateChild(t,gl.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(t,r,n)},zf.prototype.updatePriority=function(t,e){return t},zf.prototype.filtersNodes=function(){return!0},zf.prototype.getIndexedFilter=function(){return this.indexedFilter_},zf.prototype.getIndex=function(){return this.index_},zf.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},zf.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},zf);function zf(t){this.indexedFilter_=new wh(t.getIndex()),this.index_=t.getIndex(),this.startPost_=zf.getStartPost_(t),this.endPost_=zf.getEndPost_(t)}var Gf=(Wf.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new xc(e,n))||(n=gl.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},Wf.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=gl.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=gl.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority(gl.EMPTY_NODE);var s,u=void 0,c=void 0,l=void 0;i=void 0,l=this.reverse_?(i=r.getReverseIterator(this.index_),u=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost(),s=this.index_.getCompare(),function(t,e){return s(e,t)}):(i=r.getIterator(this.index_),u=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),this.index_.getCompare()),o=0;for(var h=!1;i.hasNext();)a=i.getNext(),!h&&l(u,a)<=0&&(h=!0),h&&o<this.limit_&&l(a,c)<=0?o++:r=r.updateImmediateChild(a.name,gl.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},Wf.prototype.updatePriority=function(t,e){return t},Wf.prototype.filtersNodes=function(){return!0},Wf.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},Wf.prototype.getIndex=function(){return this.index_},Wf.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var o,a;a=this.reverse_?(o=this.index_.getCompare(),function(t,e){return o(e,t)}):this.index_.getCompare();var s=t;Ya(s.numChildren()===this.limit_,"");var u=new xc(e,n),c=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),l=this.rangedFilter_.matches(u);if(s.hasChild(e)){for(var h=s.getImmediateChild(e),f=r.getChildAfterChild(this.index_,c,this.reverse_);null!=f&&(f.name===e||s.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);var p=null==f?1:a(f,u);if(l&&!n.isEmpty()&&0<=p)return null!=i&&i.trackChildChange(mh.childChangedChange(e,n,h)),s.updateImmediateChild(e,n);null!=i&&i.trackChildChange(mh.childRemovedChange(e,h));var d=s.updateImmediateChild(e,gl.EMPTY_NODE);return null!=f&&this.rangedFilter_.matches(f)?(null!=i&&i.trackChildChange(mh.childAddedChange(f.name,f.node)),d.updateImmediateChild(f.name,f.node)):d}return!n.isEmpty()&&l&&0<=a(c,u)?(null!=i&&(i.trackChildChange(mh.childRemovedChange(c.name,c.node)),i.trackChildChange(mh.childAddedChange(e,n))),s.updateImmediateChild(e,n).updateImmediateChild(c.name,gl.EMPTY_NODE)):t},Wf);function Wf(t){this.rangedFilter_=new Bf(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}var Hf=(Kf.prototype.hasStart=function(){return this.startSet_},Kf.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===Kf.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},Kf.prototype.getIndexStartValue=function(){return Ya(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},Kf.prototype.getIndexStartName=function(){return Ya(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:qu},Kf.prototype.hasEnd=function(){return this.endSet_},Kf.prototype.getIndexEndValue=function(){return Ya(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},Kf.prototype.getIndexEndName=function(){return Ya(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Bu},Kf.prototype.hasLimit=function(){return this.limitSet_},Kf.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},Kf.prototype.getLimit=function(){return Ya(this.limitSet_,"Only valid if limit has been set"),this.limit_},Kf.prototype.getIndex=function(){return this.index_},Kf.prototype.copy_=function(){var t=new Kf;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},Kf.prototype.limit=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="",e},Kf.prototype.limitToFirst=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_=Kf.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,e},Kf.prototype.limitToLast=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_=Kf.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,e},Kf.prototype.startAt=function(t,e){var n=this.copy_();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=""),n},Kf.prototype.endAt=function(t,e){var n=this.copy_();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=""),n},Kf.prototype.orderBy=function(t){var e=this.copy_();return e.index_=t,e},Kf.prototype.getQueryObject=function(){var t,e=Kf.WIRE_PROTOCOL_CONSTANTS_,n={};return this.startSet_&&(n[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_&&(n[e.LIMIT]=this.limit_,""===(t=this.viewFrom_)&&(t=this.isViewFromLeft()?e.VIEW_FROM_LEFT:e.VIEW_FROM_RIGHT),n[e.VIEW_FROM]=t),this.index_!==Xc&&(n[e.INDEX]=this.index_.toString()),n},Kf.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},Kf.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Xc},Kf.prototype.getNodeFilter=function(){return this.loadsAllData()?new wh(this.getIndex()):new(this.hasLimit()?Gf:Bf)(this)},Kf.prototype.toRestQueryStringParameters=function(){var t,e=Kf.REST_QUERY_CONSTANTS_,n={};return this.isDefault()||(t=this.index_===Xc?e.PRIORITY_INDEX:this.index_===Sl?e.VALUE_INDEX:this.index_===Vc?e.KEY_INDEX:(Ya(this.index_ instanceof Cl,"Unrecognized index type!"),this.index_.toString()),n[e.ORDER_BY]=gs(t),this.startSet_&&(n[e.START_AT]=gs(this.indexStartValue_),this.startNameSet_&&(n[e.START_AT]+=","+gs(this.indexStartName_))),this.endSet_&&(n[e.END_AT]=gs(this.indexEndValue_),this.endNameSet_&&(n[e.END_AT]+=","+gs(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?n[e.LIMIT_TO_FIRST]=this.limit_:n[e.LIMIT_TO_LAST]=this.limit_)),n},Kf.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},Kf.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},Kf.DEFAULT=new Kf,Kf);function Kf(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Xc}var Qf,Yf=(Fa(Xf,Qf=jl),Xf.prototype.getKey=function(){return Ns("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},Xf.prototype.child=function(t){var e,n,r;return Ns("Reference.child",1,1,arguments.length),"number"==typeof t?t=String(t):t instanceof $u||(null===this.path.getFront()?(r=!(e=1),vc("Reference.child",e,n=(n=t)&&n.replace(/^\/*\.info(\/|$)/,"/"),r)):vc("Reference.child",1,t,!1)),new Xf(this.repo,this.path.child(t))},Xf.prototype.getParent=function(){Ns("Reference.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new Xf(this.repo,t)},Xf.prototype.getRoot=function(){Ns("Reference.root",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},Xf.prototype.databaseProp=function(){return this.repo.database},Xf.prototype.set=function(t,e){Ns("Reference.set",1,2,arguments.length),yc("Reference.set",this.path),lc("Reference.set",1,t,this.path,!1),xs("Reference.set",2,e,!0);var n=new ts;return this.repo.setWithPriority(this.path,t,null,n.wrapCallback(e)),n.promise},Xf.prototype.update=function(t,e){if(Ns("Reference.update",1,2,arguments.length),yc("Reference.update",this.path),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,Cu("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}hc("Reference.update",1,t,this.path,!1),xs("Reference.update",2,e,!0);var i=new ts;return this.repo.update(this.path,t,i.wrapCallback(e)),i.promise},Xf.prototype.setWithPriority=function(t,e,n){if(Ns("Reference.setWithPriority",2,3,arguments.length),yc("Reference.setWithPriority",this.path),lc("Reference.setWithPriority",1,t,this.path,!1),fc("Reference.setWithPriority",2,e,!1),xs("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new ts;return this.repo.setWithPriority(this.path,t,e,r.wrapCallback(n)),r.promise},Xf.prototype.remove=function(t){return Ns("Reference.remove",0,1,arguments.length),yc("Reference.remove",this.path),xs("Reference.remove",1,t,!0),this.set(null,t)},Xf.prototype.transaction=function(t,e,n){if(Ns("Reference.transaction",1,3,arguments.length),yc("Reference.transaction",this.path),xs("Reference.transaction",1,t,!1),xs("Reference.transaction",2,e,!0),function(t,e,n,r){if(void 0!==n&&"boolean"!=typeof n)throw new Error(Os("Reference.transaction",3,!0)+"must be a boolean.")}(0,0,n),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new ts;return"function"==typeof e&&r.promise.catch((function(){})),this.repo.startTransaction(this.path,t,(function(t,n,i){t?r.reject(t):r.resolve(new Sc(n,i)),"function"==typeof e&&e(t,n,i)}),n),r.promise},Xf.prototype.setPriority=function(t,e){Ns("Reference.setPriority",1,2,arguments.length),yc("Reference.setPriority",this.path),fc("Reference.setPriority",1,t,!1),xs("Reference.setPriority",2,e,!0);var n=new ts;return this.repo.setWithPriority(this.path.child(".priority"),t,null,n.wrapCallback(e)),n.promise},Xf.prototype.push=function(t,e){Ns("Reference.push",0,2,arguments.length),yc("Reference.push",this.path),lc("Reference.push",1,t,this.path,!0),xs("Reference.push",2,e,!0);var n=this.repo.serverTime(),r=Oc(n),i=this.child(r),o=this.child(r),a=null!=t?i.set(t,e).then((function(){return o})):Promise.resolve(o);return i.then=a.then.bind(a),i.catch=a.then.bind(a,void 0),"function"==typeof e&&a.catch((function(){})),i},Xf.prototype.onDisconnect=function(){return yc("Reference.onDisconnect",this.path),new Ic(this.repo,this.path)},Object.defineProperty(Xf.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!1,configurable:!0}),Object.defineProperty(Xf.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(Xf.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(Xf.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),Xf);function Xf(t,e){if(!(t instanceof Vf))throw new Error("new Reference() no longer supported - use app.database().");return Qf.call(this,t,e,Hf.DEFAULT,!1)||this}jl.__referenceConstructor=Yf,Mh.__referenceConstructor=Yf;var $f,Jf,Zf=function(){this.children={},this.childCount=0,this.value=null},tp=(ep.prototype.subTree=function(t){for(var e=t instanceof $u?t:new $u(t),n=this,r=e.getFront();null!==r;)n=new ep(r,n,ws(n.node_.children,r)||new Zf),r=(e=e.popFront()).getFront();return n},ep.prototype.getValue=function(){return this.node_.value},ep.prototype.setValue=function(t){Ya(void 0!==t,"Cannot set value to undefined"),this.node_.value=t,this.updateParents_()},ep.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},ep.prototype.hasChildren=function(){return 0<this.node_.childCount},ep.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},ep.prototype.forEachChild=function(t){var e=this;Wu(this.node_.children,(function(n,r){t(new ep(n,e,r))}))},ep.prototype.forEachDescendant=function(t,e,n){e&&!n&&t(this),this.forEachChild((function(e){e.forEachDescendant(t,!0,n)})),e&&n&&t(this)},ep.prototype.forEachAncestor=function(t,e){for(var n=e?this:this.parent();null!==n;){if(t(n))return!0;n=n.parent()}return!1},ep.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild((function(e){null!==e.getValue()?t(e):e.forEachImmediateDescendantWithValue(t)}))},ep.prototype.path=function(){return new $u(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},ep.prototype.name=function(){return this.name_},ep.prototype.parent=function(){return this.parent_},ep.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},ep.prototype.updateChild_=function(t,e){var n=e.isEmpty(),r=bs(this.node_.children,t);n&&r?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[t]=e.node_,this.node_.childCount++,this.updateParents_())},ep);function ep(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n=new Zf),this.name_=t,this.parent_=e,this.node_=n}(Jf=$f=$f||{})[Jf.RUN=0]="RUN",Jf[Jf.SENT=1]="SENT",Jf[Jf.COMPLETED=2]="COMPLETED",Jf[Jf.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",Jf[Jf.NEEDS_ABORT=4]="NEEDS_ABORT",Vf.MAX_TRANSACTION_RETRIES_=25,Vf.prototype.transactionsInit_=function(){this.transactionQueueTree_=new tp},Vf.prototype.startTransaction=function(t,e,n,r){function i(){}this.log_("transaction on "+t);var o=new Yf(this,t);o.on("value",i);var a={path:t,update:e,onComplete:n,status:null,order:Lu(),applyLocally:r,retryCount:0,unwatcher:function(){o.off("value",i)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},s=this.getLatestState_(t);a.currentInputSnapshot=s;var u,c,l,h,f,p,d,v,y=a.update(s.val());void 0===y?(a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&(u=new kl(a.currentInputSnapshot,new Yf(this,a.path),Xc),a.onComplete(null,!1,u))):(Ec("transaction failed: Data returned ",y,a.path),a.status=$f.RUN,(l=(c=this.transactionQueueTree_.subTree(t)).getValue()||[]).push(a),c.setValue(l),h=void 0,"object"==typeof y&&null!==y&&bs(y,".priority")?(h=ws(y,".priority"),Ya(cc(h),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):h=(this.serverSyncTree_.calcCompleteEventCache(t)||gl.EMPTY_NODE).getPriority().val(),f=this.generateServerValues(),d=Hl(p=El(y,h),s,f),a.currentOutputSnapshotRaw=p,a.currentOutputSnapshotResolved=d,a.currentWriteId=this.getNextWriteId_(),v=this.serverSyncTree_.applyUserOverwrite(t,d,a.currentWriteId,a.applyLocally),this.eventQueue_.raiseEventsForChangedPath(t,v),this.sendReadyTransactions_())},Vf.prototype.getLatestState_=function(t,e){return this.serverSyncTree_.calcCompleteEventCache(t,e)||gl.EMPTY_NODE},Vf.prototype.sendReadyTransactions_=function(t){var e,n=this;void 0===t&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()?(e=this.buildTransactionQueue_(t),Ya(0<e.length,"Sending zero length transaction queue"),e.every((function(t){return t.status===$f.RUN}))&&this.sendTransactionQueue_(t.path(),e)):t.hasChildren()&&t.forEachChild((function(t){n.sendReadyTransactions_(t)}))},Vf.prototype.sendTransactionQueue_=function(t,e){for(var n=this,r=e.map((function(t){return t.currentWriteId})),i=this.getLatestState_(t,r),o=i,a=i.hash(),s=0;s<e.length;s++){var u=e[s];Ya(u.status===$f.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=$f.SENT,u.retryCount++;var c=$u.relativePath(t,u.path);o=o.updateChild(c,u.currentOutputSnapshotRaw)}var l=o.val(!0),h=t;this.server_.put(h.toString(),l,(function(r){n.log_("transaction put response",{path:h.toString(),status:r});var i=[];if("ok"===r){for(var o,a,s,u=[],c=0;c<e.length;c++)e[c].status=$f.COMPLETED,i=i.concat(n.serverSyncTree_.ackUserWrite(e[c].currentWriteId)),e[c].onComplete&&(o=e[c].currentOutputSnapshotResolved,a=new Yf(n,e[c].path),s=new kl(o,a,Xc),u.push(e[c].onComplete.bind(null,null,!0,s))),e[c].unwatcher();for(n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(t)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(t,i),c=0;c<u.length;c++)Ku(u[c])}else{if("datastale"===r)for(c=0;c<e.length;c++)e[c].status===$f.SENT_NEEDS_ABORT?e[c].status=$f.NEEDS_ABORT:e[c].status=$f.RUN;else for(Cu("transaction at "+h.toString()+" failed: "+r),c=0;c<e.length;c++)e[c].status=$f.NEEDS_ABORT,e[c].abortReason=r;n.rerunTransactions_(t)}}),a)},Vf.prototype.rerunTransactions_=function(t){var e=this.getAncestorTransactionNode_(t),n=e.path(),r=this.buildTransactionQueue_(e);return this.rerunTransactionQueue_(r,n),n},Vf.prototype.rerunTransactionQueue_=function(t,e){if(0!==t.length){for(var n,r=[],i=[],o=t.filter((function(t){return t.status===$f.RUN})).map((function(t){return t.currentWriteId})),a=0;a<t.length;a++){var s,u,c,l,h,f,p,d,v=t[a],y=$u.relativePath(e,v.path),g=!1,m=void 0;Ya(null!==y,"rerunTransactionsUnderNode_: relativePath should not be null."),v.status===$f.NEEDS_ABORT?(g=!0,m=v.abortReason,i=i.concat(this.serverSyncTree_.ackUserWrite(v.currentWriteId,!0))):v.status===$f.RUN&&(i=v.retryCount>=Vf.MAX_TRANSACTION_RETRIES_?(g=!0,m="maxretry",i.concat(this.serverSyncTree_.ackUserWrite(v.currentWriteId,!0))):(s=this.getLatestState_(v.path,o),v.currentInputSnapshot=s,void 0!==(u=t[a].update(s.val()))?(Ec("transaction failed: Data returned ",u,v.path),c=El(u),"object"==typeof u&&null!=u&&bs(u,".priority")||(c=c.updatePriority(s.getPriority())),l=v.currentWriteId,h=Hl(c,s,this.generateServerValues()),v.currentOutputSnapshotRaw=c,v.currentOutputSnapshotResolved=h,v.currentWriteId=this.getNextWriteId_(),o.splice(o.indexOf(l),1),(i=i.concat(this.serverSyncTree_.applyUserOverwrite(v.path,h,v.currentWriteId,v.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(l,!0))):(g=!0,m="nodata",i.concat(this.serverSyncTree_.ackUserWrite(v.currentWriteId,!0))))),this.eventQueue_.raiseEventsForChangedPath(e,i),i=[],g&&(t[a].status=$f.COMPLETED,n=t[a].unwatcher,setTimeout(n,Math.floor(0)),t[a].onComplete&&("nodata"===m?(f=new Yf(this,t[a].path),p=t[a].currentInputSnapshot,d=new kl(p,f,Xc),r.push(t[a].onComplete.bind(null,null,!1,d))):r.push(t[a].onComplete.bind(null,new Error(m),!1,null))))}for(this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_),a=0;a<r.length;a++)Ku(r[a]);this.sendReadyTransactions_()}},Vf.prototype.getAncestorTransactionNode_=function(t){for(var e=this.transactionQueueTree_,n=t.getFront();null!==n&&null===e.getValue();)e=e.subTree(n),n=(t=t.popFront()).getFront();return e},Vf.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort((function(t,e){return t.order-e.order})),e},Vf.prototype.aggregateTransactionQueuesForNode_=function(t,e){var n=this,r=t.getValue();if(null!==r)for(var i=0;i<r.length;i++)e.push(r[i]);t.forEachChild((function(t){n.aggregateTransactionQueuesForNode_(t,e)}))},Vf.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,n=t.getValue();if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==$f.COMPLETED&&(n[r]=n[i],r++);n.length=r,t.setValue(0<n.length?n:null)}t.forEachChild((function(t){e.pruneCompletedTransactionsBelowNode_(t)}))},Vf.prototype.abortTransactions_=function(t){var e=this,n=this.getAncestorTransactionNode_(t).path(),r=this.transactionQueueTree_.subTree(t);return r.forEachAncestor((function(t){e.abortTransactionsOnNode_(t)})),this.abortTransactionsOnNode_(r),r.forEachDescendant((function(t){e.abortTransactionsOnNode_(t)})),n},Vf.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(null!==e){for(var n=[],r=[],i=-1,o=0;o<e.length;o++)e[o].status===$f.SENT_NEEDS_ABORT||(e[o].status===$f.SENT?(Ya(i===o-1,"All SENT items should be at beginning of queue."),e[i=o].status=$f.SENT_NEEDS_ABORT,e[o].abortReason="set"):(Ya(e[o].status===$f.RUN,"Unexpected transaction status in abort"),e[o].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(e[o].currentWriteId,!0)),e[o].onComplete&&n.push(e[o].onComplete.bind(null,new Error("set"),!1,null))));for(-1===i?t.setValue(null):e.length=i+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),r),o=0;o<n.length;o++)Ku(n[o])}};var np=(rp.prototype.getToken=function(t){return this.auth_?this.auth_.getToken(t).catch((function(t){return t&&"auth/token-not-initialized"===t.code?(ju("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})):Promise.resolve(null)},rp.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):(setTimeout((function(){return t(null)}),0),this.authProvider_.get().then((function(e){return e.addAuthTokenListener(t)})))},rp.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then((function(e){return e.removeAuthTokenListener(t)}))},rp.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.app_.options?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Cu(t)},rp);function rp(t,e){var n=this;this.app_=t,this.authProvider_=e,this.auth_=null,this.auth_=e.getImmediate({optional:!0}),this.auth_||e.get().then((function(t){return n.auth_=t}))}var ip=(op.prototype.getToken=function(t){return Promise.resolve({accessToken:op.EMULATOR_AUTH_TOKEN})},op.prototype.addTokenChangeListener=function(t){t(op.EMULATOR_AUTH_TOKEN)},op.prototype.removeTokenChangeListener=function(t){},op.prototype.notifyForInvalidToken=function(){},op.EMULATOR_AUTH_TOKEN="owner",op);function op(){}var ap,sp=(up.getInstance=function(){return ap=ap||new up},up.prototype.interrupt=function(){var t,e,n,r;try{for(var i=qa(Object.keys(this.repos_)),o=i.next();!o.done;o=i.next()){var a=o.value;try{for(var s=(n=void 0,qa(Object.keys(this.repos_[a]))),u=s.next();!u.done;u=s.next()){var c=u.value;this.repos_[a][c].interrupt()}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},up.prototype.resume=function(){var t,e,n,r;try{for(var i=qa(Object.keys(this.repos_)),o=i.next();!o.done;o=i.next()){var a=o.value;try{for(var s=(n=void 0,qa(Object.keys(this.repos_[a]))),u=s.next();!u.done;u=s.next()){var c=u.value;this.repos_[a][c].resume()}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},up.prototype.databaseFromApp=function(t,e,r,i){var o=r||t.options.databaseURL;void 0===o&&(t.options.projectId||Su("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ju("Using default host for project ",t.options.projectId),o=t.options.projectId+"-default-rtdb.firebaseio.com");var a,s=ac(o,i),u=s.repoInfo,c=void 0;"undefined"!=typeof n&&(c=Object({NODE_ENV:"production",PUBLIC_URL:"/Transport",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).FIREBASE_DATABASE_EMULATOR_HOST),c?(a=!0,u=(s=ac(o="http://"+c+"?ns="+u.namespace,i)).repoInfo):a=!s.repoInfo.secure;var l=i&&a?new ip:new np(t,e);return gc("Invalid Firebase Database URL",1,s),s.path.isEmpty()||Su("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(u,t,l).database},up.prototype.deleteRepo=function(t){var e=ws(this.repos_,t.app.name);e&&ws(e,t.repoInfo_.toURLString())===t||Su("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),t.interrupt(),delete e[t.repoInfo_.toURLString()]},up.prototype.createRepo=function(t,e,n){var r=ws(this.repos_,e.name);r||(r={},this.repos_[e.name]=r);var i=ws(r,t.toURLString());return i&&Su("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new Vf(t,this.useRestClient_,e,n),r[t.toURLString()]=i},up.prototype.forceRestClient=function(t){this.useRestClient_=t},up);function up(){this.repos_={},this.useRestClient_=!1}var cp=(Object.defineProperty(lp.prototype,"app",{get:function(){return this.repo_.app},enumerable:!1,configurable:!0}),lp.prototype.ref=function(t){return this.checkDeleted_("ref"),Ns("database.ref",0,1,arguments.length),t instanceof Yf?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},lp.prototype.refFromURL=function(t){var e="database.refFromURL";this.checkDeleted_(e),Ns(e,1,1,arguments.length);var n=ac(t,this.repo_.repoInfo_.nodeAdmin);gc(e,1,n);var r=n.repoInfo;return r.host!==this.repo_.repoInfo_.host&&Su(e+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},lp.prototype.checkDeleted_=function(t){null===this.repo_&&Su("Cannot call "+t+" on a deleted database.")},lp.prototype.goOffline=function(){Ns("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},lp.prototype.goOnline=function(){Ns("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},lp.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(t){return{".sv":{increment:t}}}},lp);function lp(t){(this.repo_=t)instanceof Vf||Su("Don't call new Database() directly - please use firebase.database()."),this.root_=new Yf(t,$u.Empty),this.INTERNAL=new hp(this)}var hp=(fp.prototype.delete=function(){return ja(this,void 0,void 0,(function(){return Va(this,(function(t){return this.database.checkDeleted_("delete"),sp.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]}))}))},fp);function fp(t){this.database=t}var pp=Object.freeze({__proto__:null,forceLongPolling:function(){Tf.forceDisallow(),gf.forceAllow()},forceWebSockets:function(){gf.forceDisallow()},isWebSocketsAvailable:function(){return Tf.isAvailable()},setSecurityDebugCallback:function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){t.repo.stats(e)},statsIncrementCounter:function(t,e){t.repo.statsIncrementCounter(e)},dataUpdateCount:function(t){return t.repo.dataUpdateCount},interceptServerData:function(t,e){return t.repo.interceptServerData_(e)},initStandalone:function(t){var e=t.app,n=t.url,r=t.version,i=t.customAuthImpl,o=t.namespace,a=t.nodeAdmin,s=void 0!==a&&a;Ef(r);var u=new Us("auth-internal",new qs("database-standalone"));return u.setComponent(new Ls("auth-internal",(function(){return i}),"PRIVATE")),{instance:sp.getInstance().databaseFromApp(e,u,n,s),namespace:o}}}),dp=Df;Df.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},Df.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var vp,yp=Object.freeze({__proto__:null,DataConnection:dp,RealTimeConnection:kf,hijackHash:function(t){var e=Df.prototype.put;return Df.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){Df.prototype.put=e}},ConnectionTarget:ic,queryIdentifier:function(t){return t.queryIdentifier()},forceRestClient:function(t){sp.getInstance().forceRestClient(t)}}),gp=cp.ServerValue;Ef((vp=yu).SDK_VERSION),vp.INTERNAL.registerComponent(new Ls("database",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return sp.getInstance().databaseFromApp(n,r,e)}),"PUBLIC").setServiceProps({Reference:Yf,Query:jl,Database:cp,DataSnapshot:kl,enableLogging:Iu,INTERNAL:pp,ServerValue:gp,TEST_ACCESS:yp}).setMultipleInstances(!0)),vp.registerVersion("@firebase/database","0.6.13");var mp=function(t,e){return(mp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function bp(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var wp,_p="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof e?e:"undefined"!=typeof self?self:{},Ep={},Ip=_p||self;function Tp(){}function Sp(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function Cp(t){var e=Sp(t);return"array"==e||"object"==e&&"number"==typeof t.length}function Ap(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var kp="closure_uid_"+(1e9*Math.random()>>>0),Np=0;function Op(t,e,n){return t.call.apply(t.bind,arguments)}function xp(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Pp(t,e,n){return(Pp=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Op:xp).apply(null,arguments)}function Rp(t){var e=Array.prototype.slice.call(arguments,1);return function(){var n=e.slice();return n.push.apply(n,arguments),t.apply(this,n)}}var Dp=Date.now;function Lp(t,e){function n(){}n.prototype=e.prototype,t.S=e.prototype,t.prototype=new n,t.prototype.constructor=t}function Mp(){this.j=this.j,this.i=this.i}Mp.prototype.j=!1,Mp.prototype.ja=function(){var t;!this.j&&(this.j=!0,this.G(),0)&&(t=this,Object.prototype.hasOwnProperty.call(t,kp)&&t[kp]||(t[kp]=++Np))},Mp.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Fp=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Up=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function jp(){return Array.prototype.concat.apply([],arguments)}function Vp(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function qp(t){return/^[\s\xa0]*$/.test(t)}var Bp,zp=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Gp(t,e){return-1!=t.indexOf(e)}function Wp(t,e){return t<e?-1:e<t?1:0}t:{var Hp=Ip.navigator;if(Hp){var Kp=Hp.userAgent;if(Kp){Bp=Kp;break t}}Bp=""}function Qp(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Yp(t){var e,n={};for(e in t)n[e]=t[e];return n}var Xp="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $p(t){for(var e,n,r=1;r<arguments.length;r++){for(e in n=arguments[r])t[e]=n[e];for(var i=0;i<Xp.length;i++)e=Xp[i],Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])}}function Jp(t){return Jp[" "](t),t}Jp[" "]=Tp;var Zp,td,ed=Gp(Bp,"Opera"),nd=Gp(Bp,"Trident")||Gp(Bp,"MSIE"),rd=Gp(Bp,"Edge"),id=rd||nd,od=Gp(Bp,"Gecko")&&!(Gp(Bp.toLowerCase(),"webkit")&&!Gp(Bp,"Edge"))&&!(Gp(Bp,"Trident")||Gp(Bp,"MSIE"))&&!Gp(Bp,"Edge"),ad=Gp(Bp.toLowerCase(),"webkit")&&!Gp(Bp,"Edge");function sd(){var t=Ip.document;return t?t.documentMode:void 0}t:{var ud="",cd=(td=Bp,od?/rv:([^\);]+)(\)|;)/.exec(td):rd?/Edge\/([\d\.]+)/.exec(td):nd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(td):ad?/WebKit\/(\S+)/.exec(td):ed?/(?:Version)[ \/]?(\S+)/.exec(td):void 0);if(cd&&(ud=cd?cd[1]:""),nd){var ld=sd();if(null!=ld&&ld>parseFloat(ud)){Zp=String(ld);break t}}Zp=ud}var hd={};function fd(t){return e=t,n=function(){for(var e=0,n=zp(String(Zp)).split("."),r=zp(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=Wp(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||Wp(0==a[2].length,0==s[2].length)||Wp(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e},r=hd,Object.prototype.hasOwnProperty.call(r,e)?r[e]:r[e]=n();var e,n,r}var pd=Ip.document&&nd&&(sd()||parseInt(Zp,10))||void 0,dd=!nd||9<=Number(pd),vd=nd&&!fd("9"),yd=function(){if(!Ip.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Ip.addEventListener("test",Tp,e),Ip.removeEventListener("test",Tp,e)}catch(t){}return t}();function gd(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function md(t,e){if(gd.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(od){t:{try{Jp(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:bd[t.pointerType]||"",(this.c=t).defaultPrevented&&this.b()}}gd.prototype.b=function(){this.defaultPrevented=!0},Lp(md,gd);var bd={2:"touch",3:"pen",4:"mouse"};md.prototype.b=function(){md.S.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,vd)try{(t.ctrlKey||112<=t.keyCode&&t.keyCode<=123)&&(t.keyCode=-1)}catch(t){}};var wd="closure_listenable_"+(1e6*Math.random()|0),_d=0;function Ed(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++_d,this.Y=this.Z=!1}function Id(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Td(t){this.src=t,this.a={},this.b=0}function Sd(t,e){var n,r,i,o=e.type;o in t.a&&(n=t.a[o],(i=0<=(r=Fp(n,e)))&&Array.prototype.splice.call(n,r,1),i&&(Id(e),0==t.a[o].length&&(delete t.a[o],t.b--)))}function Cd(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}Td.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=Cd(t,e,r,i);return-1<a?(e=t[a],n||(e.Z=!1)):((e=new Ed(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Ad="closure_lm_"+(1e6*Math.random()|0),kd={};function Nd(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);return null}return r=Fd(r),e&&e[wd]?e.wa(n,r,Ap(i)?!!i.capture:!!i,o):Od(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Nd(t,e[o],n,r,i);return null}return n=Fd(n),t&&t[wd]?t.va(e,n,Ap(r)?!!r.capture:!!r,i):Od(t,e,n,!1,r,i)}function Od(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=Ap(i)?!!i.capture:!!i;if(a&&!dd)return null;var s,u,c=Ld(t);if(c||(t[Ad]=c=new Td(t)),(n=c.add(e,n,r,a,o)).proxy)return n;if(s=Dd,r=u=dd?function(t){return s.call(u.src,u.listener,t)}:function(t){if(!(t=s.call(u.src,u.listener,t)))return t},(n.proxy=r).src=t,r.listener=n,t.addEventListener)yd||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Pd(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function xd(t){var e,n,r;"number"!=typeof t&&t&&!t.Y&&((e=t.src)&&e[wd]?Sd(e.c,t):(n=t.type,r=t.proxy,e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Pd(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ld(e))?(Sd(n,t),0==n.b&&(n.src=null,e[Ad]=null)):Id(t)))}function Pd(t){return t in kd?kd[t]:kd[t]="on"+t}function Rd(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&xd(t),n.call(r,e)}function Dd(t,e){if(t.Y)return!0;if(dd)return Rd(t,new md(e,this));if(!e)t:{e=["window","event"];for(var n=Ip,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Rd(t,e=new md(e,this))}function Ld(t){return(t=t[Ad])instanceof Td?t:null}var Md="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fd(t){return"function"==Sp(t)?t:(t[Md]||(t[Md]=function(e){return t.handleEvent(e)}),t[Md])}function Ud(){Mp.call(this),this.c=new Td(this),(this.J=this).C=null}function jd(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a,s,u=e[o];u&&!u.Y&&u.capture==n&&(a=u.listener,s=u.ca||u.src,u.Z&&Sd(t.c,u),i=!1!==a.call(s,r)&&i)}return i&&!r.defaultPrevented}Lp(Ud,Mp),Ud.prototype[wd]=!0,(wp=Ud.prototype).addEventListener=function(t,e,n,r){Nd(this,t,e,n,r)},wp.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);else i=Ap(i)?!!i.capture:!!i,r=Fd(r),e&&e[wd]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=Cd(a=e.a[n],r,i,o))&&(Id(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete e.a[n],e.b--))):(e=e&&Ld(e))&&(n=e.a[n.toString()],e=-1,n&&(e=Cd(n,r,i,o)),(r=-1<e?n[e]:null)&&xd(r))}(this,t,e,n,r)},wp.dispatchEvent=function(t){var e,n=this.C;if(n)for(e=[];n;n=n.C)e.push(n);n=this.J;var r=t.type||t;if("string"==typeof t?t=new gd(t,n):t instanceof gd?t.target=t.target||n:(a=t,$p(t=new gd(r,n),a)),a=!0,e)for(var i=e.length-1;0<=i;i--)var o=t.a=e[i],a=jd(o,r,!0,t)&&a;if(a=jd(o=t.a=n,r,!0,t)&&a,a=jd(o,r,!1,t)&&a,e)for(i=0;i<e.length;i++)a=jd(o=t.a=e[i],r,!1,t)&&a;return a},wp.G=function(){if(Ud.S.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Id(n[r]);delete e.a[t],e.b--}}this.C=null},wp.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},wp.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Vd=Ip.JSON.stringify;function qd(){this.b=this.a=null}var Bd,zd=(Gd.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},new Gd((function(){return new Wd}),(function(t){t.reset()}),100));function Gd(t,e,n){this.f=n,this.c=t,this.g=e,this.b=0,this.a=null}function Wd(){this.next=this.b=this.a=null}function Hd(t,e){var n;Bd||(n=Ip.Promise.resolve(void 0),Bd=function(){n.then(Yd)}),Kd||(Bd(),Kd=!0),Qd.add(t,e)}qd.prototype.add=function(t,e){var n=zd.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Wd.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null};var Kd=!(Wd.prototype.reset=function(){this.next=this.b=this.a=null}),Qd=new qd;function Yd(){for(var t,e,n;n=e=void 0,n=null,(e=Qd).a&&(n=e.a,e.a=e.a.next,e.a||(e.b=null),n.next=null),t=n;){try{t.a.call(t.b)}catch(t){!function(t){Ip.setTimeout((function(){throw t}),0)}(t)}var r=zd;r.g(t),r.b<r.f&&(r.b++,t.next=r.a,r.a=t)}Kd=!1}function Xd(t,e){Ud.call(this),this.b=t||1,this.a=e||Ip,this.f=Pp(this.Ya,this),this.g=Dp()}function $d(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Jd(t,e,n){if("function"==Sp(t))n&&(t=Pp(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Pp(t.handleEvent,t)}return 2147483647<Number(e)?-1:Ip.setTimeout(t,e||0)}Lp(Xd,Ud),(wp=Xd.prototype).aa=!1,wp.M=null,wp.Ya=function(){var t;this.aa&&(0<(t=Dp()-this.g)&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),this.dispatchEvent("tick"),this.aa&&($d(this),this.start())))},wp.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Dp())},wp.G=function(){Xd.S.G.call(this),$d(this),delete this.a};var Zd,tv,ev,nv=(mp(tv=iv,ev=Zd=Mp),tv.prototype=null===ev?Object.create(ev):(rv.prototype=ev.prototype,new rv),iv.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:function t(e){e.a=Jd((function(){e.a=null,e.c&&(e.c=!1,t(e))}),e.h);var n=e.b;e.b=null,e.g.apply(null,n)}(this)},iv.prototype.G=function(){Zd.prototype.G.call(this),this.a&&(Ip.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},iv);function rv(){this.constructor=tv}function iv(t,e,n){var r=Zd.call(this)||this;return r.g=null!=n?t.bind(n):t,r.h=e,r.b=null,r.c=!1,r.a=null,r}function ov(t){Mp.call(this),this.b=t,this.a={}}Lp(ov,Mp);var av=[];function sv(t,e,n,r){Array.isArray(n)||(n&&(av[0]=n.toString()),n=av);for(var i=0;i<n.length;i++){var o=Nd(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function uv(t){Qp(t.a,(function(t,e){this.a.hasOwnProperty(e)&&xd(t)}),t),t.a={}}function cv(){this.a=!0}function lv(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(r.length<2)){var i=r[1];if(Array.isArray(i)&&!(i.length<1)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Vd(n)}catch(t){return e}}(t,n)+(r?" "+r:"")}))}ov.prototype.G=function(){ov.S.G.call(this),uv(this)},ov.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},cv.prototype.info=function(){};var hv=null;function fv(){return hv=hv||new Ud}function pv(t){gd.call(this,"serverreachability",t)}function dv(t){var e=fv();e.dispatchEvent(new pv(e))}function vv(t){gd.call(this,"statevent",t)}function yv(t){var e=fv();e.dispatchEvent(new vv(e))}function gv(t){gd.call(this,"timingevent",t)}function mv(t,e){if("function"!=Sp(t))throw Error("Fn must not be null and must be a function");return Ip.setTimeout((function(){t()}),e)}Lp(pv,gd),Lp(vv,gd),Lp(gv,gd);var bv={NO_ERROR:0,Za:1,gb:2,fb:3,bb:4,eb:5,hb:6,Da:7,TIMEOUT:8,kb:9},wv={ab:"complete",ob:"success",Ea:"error",Da:"abort",mb:"ready",nb:"readystatechange",TIMEOUT:"timeout",ib:"incrementaldata",lb:"progress",cb:"downloadprogress",pb:"uploadprogress"};function _v(){}function Ev(t){var e;return(e=t.a)||(e=t.a={}),e}function Iv(){}_v.prototype.a=null;var Tv,Sv={OPEN:"a",$a:"b",Ea:"c",jb:"d"};function Cv(){gd.call(this,"d")}function Av(){gd.call(this,"c")}function kv(){}function Nv(t,e,n,r){this.g=t,this.c=e,this.f=n,this.T=r||1,this.J=new ov(this),this.P=Ov,t=id?125:void 0,this.R=new Xd(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.U=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.W=this.C=this.V=this.I=!1}Lp(Cv,gd),Lp(Av,gd),Lp(kv,_v),Tv=new kv;var Ov=45e3,xv={},Pv={};function Rv(t,e,n){t.H=1,t.i=ty(Qv(e)),t.j=n,t.I=!0,Dv(t,null)}function Dv(t,e){t.u=Dp(),Mv(t),t.l=Qv(t.i);var n,r,i,o,a,s,u=t.l,c=t.T;Array.isArray(c)||(c=[String(c)]),py(u.b,"t",c),t.D=0,t.a=ag(t.g,t.g.C?e:null),0<t.O&&(t.F=new nv(Pp(t.Ca,t,t.a),t.O)),sv(t.J,t.a,"readystatechange",t.Wa),e=t.B?Yp(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),dv(),n=t.c,r=t.m,i=t.l,o=t.f,a=t.T,s=t.j,n.info((function(){if(n.a)if(s)for(var t="",e=s.split("&"),u=0;u<e.length;u++){var c,l,h=e[u].split("=");1<h.length&&(c=h[0],h=h[1],t=2<=(l=c.split("_")).length&&"type"==l[1]?t+(c+"=")+h+"&":t+(c+"=redacted&"))}else t=null;else t=s;return"XMLHTTP REQ ("+o+") [attempt "+a+"]: "+r+"\n"+i+"\n"+t}))}function Lv(t,e,n){for(var r,i,o,a,s=!0;!t.A&&t.D<n.length;){var u=(i=n,a=o=void 0,o=(r=t).D,-1==(a=i.indexOf("\n",o))?Pv:(o=Number(i.substring(o,a)),isNaN(o)?xv:(a+=1)+o>i.length?Pv:(i=i.substr(a,o),r.D=a+o,i)));if(u==Pv){4==e&&(t.h=4,yv(),s=!1),lv(t.c,t.f,null,"[Incomplete Response]");break}if(u==xv){t.h=4,yv(),lv(t.c,t.f,n,"[Invalid Chunk]"),s=!1;break}lv(t.c,t.f,u,null),qv(t,u)}4==e&&0==n.length&&(t.h=1,yv(),s=!1),t.b=t.b&&s,s?0<n.length&&!t.W&&(t.W=!0,(e=t.g).a==t&&e.V&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Jy(e),e.F=!0)):(lv(t.c,t.f,n,"[Invalid Chunked Response]"),Vv(t),jv(t))}function Mv(t){t.U=Dp()+t.P,Fv(t,t.P)}function Fv(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=mv(Pp(t.Ua,t),e)}function Uv(t){t.o&&(Ip.clearTimeout(t.o),t.o=null)}function jv(t){0==t.g.v||t.A||eg(t.g,t)}function Vv(t){Uv(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,$d(t.R),uv(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function qv(t,e){try{var n,r,i,o,a,s,u,c,l,h,f,p=t.g;if(0!=p.v&&(p.a==t||wy(p.b,t)))if(p.I=t.N,!t.C&&wy(p.b,t)&&3==p.v){try{var d=p.ka.a.parse(e)}catch(t){d=null}if(Array.isArray(d)&&3==d.length){var v=d;if(0==v[0]){t:if(!p.j){if(p.a){if(!(p.a.u+3e3<t.u))break t;tg(p),zy(p)}$y(p),yv()}}else p.oa=v[1],0<p.oa-p.P&&v[2]<37500&&p.H&&0==p.o&&!p.m&&(p.m=mv(Pp(p.Ra,p),6e3));if(by(p.b)<=1&&p.ea){try{p.ea()}catch(t){}p.ea=void 0}}else rg(p,11)}else if(!t.C&&p.a!=t||tg(p),!qp(e))for(e=d=p.ka.a.parse(e),d=0;d<e.length;d++)v=e[d],p.P=v[0],v=v[1],2==p.v?"c"==v[0]?(p.J=v[1],p.ga=v[2],null!=(n=v[3])&&(p.ha=n,p.c.info("VER="+p.ha)),null!=(r=v[4])&&(p.pa=r,p.c.info("SVER="+p.pa)),null!=(i=v[5])&&"number"==typeof i&&0<i&&(o=1.5*i,p.D=o,p.c.info("backChannelRequestTimeoutMs_="+o)),o=p,(a=t.a)&&(!(s=a.a?a.a.getResponseHeader("X-Client-Wire-Protocol"):null)||!(u=o.b).a&&(Gp(s,"spdy")||Gp(s,"quic")||Gp(s,"h2"))&&(u.f=u.g,u.a=new Set,u.b&&(_y(u,u.b),u.b=null)),!o.A||(c=a.a?a.a.getResponseHeader("X-HTTP-Session-Id"):null)&&(o.na=c,Zv(o.B,o.A,c))),p.v=3,p.f&&p.f.ta(),p.V&&(p.N=Dp()-t.u,p.c.info("Handshake RTT: "+p.N+"ms")),l=t,(o=p).la=og(o,o.C?o.ga:null,o.fa),l.C?(Ey(o.b,l),h=l,(f=o.D)&&h.setTimeout(f),h.o&&(Uv(h),Mv(h)),o.a=l):Xy(o),0<p.g.length&&Hy(p)):"stop"!=v[0]&&"close"!=v[0]||rg(p,7):3==p.v&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?rg(p,7):By(p):"noop"!=v[0]&&p.f&&p.f.sa(v),p.o=0);dv()}catch(t){}}function Bv(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Cp(t)||"string"==typeof t)Up(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Cp(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Cp(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function zv(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof zv)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Gv(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Wv(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Wv(i,r=t.a[e])||(i[t.a[n++]=r]=1),e++;t.a.length=n}}function Wv(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(wp=Nv.prototype).setTimeout=function(t){this.P=t},wp.Wa=function(t){t=t.target;var e=this.F;e&&3==Uy(t)?e.f():this.Ca(t)},wp.Ca=function(t){try{if(t==this.a)t:{var e=Uy(this.a),n=this.a.ua();if(this.a.X(),!(e<3||3==e&&!id&&!this.a.$())){this.A||4!=e||7==n||dv(),Uv(this);var r=this.a.X();this.N=r;var i=this.a.$();if(this.b=200==r,u=this.c,c=this.m,l=this.l,h=this.f,f=this.T,p=e,d=r,u.info((function(){return"XMLHTTP RESP ("+h+") [ attempt "+f+"]: "+c+"\n"+l+"\n"+p+" "+d})),this.b){if(this.V&&!this.C){e:{if(this.a){var o,a=this.a;if((o=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!qp(o)){var s=o;break e}}s=null}if(!s){this.b=!1,this.h=3,yv(),Vv(this),jv(this);break t}lv(this.c,this.f,s,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,qv(this,s)}this.I?(Lv(this,e,i),id&&this.b&&3==e&&(sv(this.J,this.R,"tick",this.Va),this.R.start())):(lv(this.c,this.f,i,null),qv(this,i)),4==e&&Vv(this),this.b&&!this.A&&(4==e?eg(this.g,this):(this.b=!1,Mv(this)))}else 400==r&&0<i.indexOf("Unknown SID")?(this.h=3,yv()):(this.h=0,yv()),Vv(this),jv(this)}}}catch(t){}var u,c,l,h,f,p,d},wp.Va=function(){var t,e;this.a&&(t=Uy(this.a),e=this.a.$(),this.D<e.length&&(Uv(this),Lv(this,t,e),this.b&&4!=t&&Mv(this)))},wp.cancel=function(){this.A=!0,Vv(this)},wp.Ua=function(){this.o=null;var t,e,n=Dp();0<=n-this.U?(t=this.c,e=this.l,t.info((function(){return"TIMEOUT: "+e})),2!=this.H&&(dv(),yv()),Vv(this),this.h=2,jv(this)):Fv(this,this.U-n)},(wp=zv.prototype).K=function(){Gv(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},wp.L=function(){return Gv(this),this.a.concat()},wp.get=function(t,e){return Wv(this.b,t)?this.b[t]:e},wp.set=function(t,e){Wv(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},wp.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Hv=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Kv(t,e){var n;this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Kv?(this.a=void 0!==e?e:t.a,Yv(this,t.f),this.j=t.j,Xv(this,t.c),$v(this,t.h),this.g=t.g,e=t.b,(n=new cy).c=e.c,e.a&&(n.a=new zv(e.a),n.b=e.b),Jv(this,n),this.i=t.i):t&&(n=String(t).match(Hv))?(this.a=!!e,Yv(this,n[1]||"",!0),this.j=ey(n[2]||""),Xv(this,n[3]||"",!0),$v(this,n[4]),this.g=ey(n[5]||"",!0),Jv(this,n[6]||"",!0),this.i=ey(n[7]||"")):(this.a=!!e,this.b=new cy(null,this.a))}function Qv(t){return new Kv(t)}function Yv(t,e,n){t.f=n?ey(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Xv(t,e,n){t.c=n?ey(e,!0):e}function $v(t,e){if(e){if(e=Number(e),isNaN(e)||e<0)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Jv(t,e,n){var r,i;e instanceof cy?(t.b=e,r=t.b,(i=t.a)&&!r.f&&(ly(r),r.c=null,r.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(hy(this,e),py(this,n,t))}),r)),r.f=i):(n||(e=ny(e,sy)),t.b=new cy(e,t.a))}function Zv(t,e,n){t.b.set(e,n)}function ty(t){return Zv(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Dp()).toString(36)),t}function ey(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ny(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,ry),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ry(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Kv.prototype.toString=function(){var t=[],e=this.f;e&&t.push(ny(e,iy,!0),":");var n=this.c;return!n&&"file"!=e||(t.push("//"),(e=this.j)&&t.push(ny(e,iy,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(ny(n,"/"==n.charAt(0)?ay:oy,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",ny(n,uy)),t.join("")};var iy=/[#\/\?@]/g,oy=/[#\?:]/g,ay=/[#\?]/g,sy=/[#\?@]/g,uy=/#/g;function cy(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function ly(t){t.a||(t.a=new zv,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r,i=t[n].indexOf("="),o=null;0<=i?(r=t[n].substring(0,i),o=t[n].substring(i+1)):r=t[n],e(r,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function hy(t,e){ly(t),e=dy(t,e),Wv(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Wv((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Gv(t)))}function fy(t,e){return ly(t),e=dy(t,e),Wv(t.a.b,e)}function py(t,e,n){hy(t,e),0<n.length&&(t.c=null,t.a.set(dy(t,e),Vp(n)),t.b+=n.length)}function dy(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function vy(t,e){this.b=t,this.a=e}function yy(t){this.g=t||gy,t=Ip.PerformanceNavigationTiming?0<(t=Ip.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Ip.ia&&Ip.ia.ya&&Ip.ia.ya()&&Ip.ia.ya().qb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(wp=cy.prototype).add=function(t,e){ly(this),this.c=null,t=dy(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},wp.forEach=function(t,e){ly(this),this.a.forEach((function(n,r){Up(n,(function(n){t.call(e,n,r,this)}),this)}),this)},wp.L=function(){ly(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},wp.K=function(t){ly(this);var e=[];if("string"==typeof t)fy(this,t)&&(e=jp(e,this.a.get(dy(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=jp(e,t[n])}return e},wp.set=function(t,e){return ly(this),this.c=null,fy(this,t=dy(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},wp.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},wp.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++)for(var r=e[n],i=encodeURIComponent(String(r)),o=(r=this.K(r),0);o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}return this.c=t.join("&")};var gy=10;function my(t){return t.b||t.a&&t.a.size>=t.f}function by(t){return t.b?1:t.a?t.a.size:0}function wy(t,e){return t.b?t.b==e:t.a&&t.a.has(e)}function _y(t,e){t.a?t.a.add(e):t.b=e}function Ey(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Iy(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null==t.a||0===t.a.size)return Vp(t.c);var r=t.c;try{for(var i=bp(t.a.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.s)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function Ty(){}function Sy(){this.a=new Ty}function Cy(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(t){}}yy.prototype.cancel=function(){var t,e;if(this.c=Iy(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=bp(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Ty.prototype.stringify=function(t){return Ip.JSON.stringify(t,void 0)},Ty.prototype.parse=function(t){return Ip.JSON.parse(t,void 0)};var Ay=Ip.JSON.parse;function ky(t){Ud.call(this),this.headers=new zv,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Ny,this.D=this.F=!1}Lp(ky,Ud);var Ny="",Oy=/^https?$/i,xy=["POST","PUT"];function Py(t){return"content-type"==t.toLowerCase()}function Ry(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Dy(t),My(t)}function Dy(t){t.u||(t.u=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Ly(t){if(t.b&&void 0!==Ep&&(!t.s[1]||4!=Uy(t)||2!=t.X()))if(t.l&&4==Uy(t))Jd(t.za,0,t);else if(t.dispatchEvent("readystatechange"),4==Uy(t)){t.b=!1;try{var e,n,r,i,o=t.X();t:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var a=!0;break t;default:a=!1}if((e=a)||((n=0===o)&&(!(i=String(t.B).match(Hv)[1]||null)&&Ip.self&&Ip.self.location&&(i=(r=Ip.self.location.protocol).substr(0,r.length-1)),n=!Oy.test(i?i.toLowerCase():"")),e=n),e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var s=2<Uy(t)?t.a.statusText:""}catch(t){s=""}t.f=s+" ["+t.X()+"]",Dy(t)}}finally{My(t)}}}function My(t,e){if(t.a){Fy(t);var n=t.a,r=t.s[0]?Tp:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(t){}}}function Fy(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Ip.clearTimeout(t.m),t.m=null)}function Uy(t){return t.a?t.a.readyState:0}function jy(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}var i;r||(i="",Qp(n,(function(t,e){i+=e,i+=":",i+=t,i+="\r\n"})),n=i,"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Zv(t,e,n))}function Vy(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function qy(t){this.pa=0,this.g=[],this.c=new cv,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.W=this.i=this.O=this.l=null,this.La=this.R=0,this.Ia=Vy("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.T=!0,this.I=this.oa=this.P=-1,this.U=this.o=this.u=0,this.Fa=Vy("baseRetryDelayMs",5e3,t),this.Ma=Vy("retryDelaySeedMs",1e4,t),this.Ja=Vy("forwardChannelMaxRetries",2,t),this.ma=Vy("forwardChannelRequestTimeoutMs",2e4,t),this.Ka=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new yy(t&&t.concurrentRequestLimit),this.ka=new Sy,this.da=t&&t.fastHandshake||!1,this.Ga=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.T=!1),this.V=!this.da&&this.T&&t&&t.c||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null}function By(t){var e,n;Gy(t),3==t.v&&(e=t.R++,Zv(n=Qv(t.B),"SID",t.J),Zv(n,"RID",e),Zv(n,"TYPE","terminate"),Qy(t,n),(e=new Nv(t,t.c,e,void 0)).H=2,e.i=ty(Qv(n)),n=!1,Ip.navigator&&Ip.navigator.sendBeacon&&(n=Ip.navigator.sendBeacon(e.i.toString(),"")),!n&&Ip.Image&&((new Image).src=e.i,n=!0),n||(e.a=ag(e.g,null),e.a.ba(e.i)),e.u=Dp(),Mv(e)),ig(t)}function zy(t){t.a&&(Jy(t),t.a.cancel(),t.a=null)}function Gy(t){zy(t),t.j&&(Ip.clearTimeout(t.j),t.j=null),tg(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Ip.clearTimeout(t.h),t.h=null)}function Wy(t,e){t.g.push(new vy(t.La++,e)),3==t.v&&Hy(t)}function Hy(t){my(t.b)||t.h||(t.h=!0,Hd(t.Ba,t),t.u=0)}function Ky(t,e){var n=e?e.f:t.R++,r=Qv(t.B);Zv(r,"SID",t.J),Zv(r,"RID",n),Zv(r,"AID",t.P),Qy(t,r),t.i&&t.l&&jy(r,t.i,t.l),n=new Nv(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Yy(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),_y(t.b,n),Rv(n,r,e)}function Qy(t,e){t.f&&Bv({},(function(t,n){Zv(e,n,t)}))}function Yy(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Pp(t.f.Ha,t.f,t):null;t:for(var i=t.g,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if((c-=o)<0)o=Math.max(0,i[u].b-100),s=!1;else try{!function(t,e,n){var r=n||"";try{Bv(t,(function(t,n){var i=t;Ap(t)&&(i=Vd(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}(l,a,"req"+c+"_")}catch(t){r&&r(l)}}if(s){r=a.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Xy(t){t.a||t.j||(t.U=1,Hd(t.Aa,t),t.o=0)}function $y(t){return!(t.a||t.j||3<=t.o)&&(t.U++,t.j=mv(Pp(t.Aa,t),ng(t,t.o)),t.o++,1)}function Jy(t){null!=t.s&&(Ip.clearTimeout(t.s),t.s=null)}function Zy(t){t.a=new Nv(t,t.c,"rpc",t.U),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Qv(t.la);Zv(e,"RID","rpc"),Zv(e,"SID",t.J),Zv(e,"CI",t.H?"0":"1"),Zv(e,"AID",t.P),Qy(t,e),Zv(e,"TYPE","xmlhttp"),t.i&&t.l&&jy(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=ty(Qv(e)),n.j=null,n.I=!0,Dv(n,t)}function tg(t){null!=t.m&&(Ip.clearTimeout(t.m),t.m=null)}function eg(t,e){var n,r=null;if(t.a==e){tg(t),Jy(t),t.a=null;var i=2}else{if(!wy(t.b,e))return;r=e.s,Ey(t.b,e),i=1}if(t.I=e.N,0!=t.v)if(e.b)1==i?(r=e.j?e.j.length:0,e=Dp()-e.u,n=t.u,(i=fv()).dispatchEvent(new gv(i)),Hy(t)):Xy(t);else if(3==(n=e.h)||0==n&&0<t.I||!(1==i&&function(t,e){if(!(by(t.b)>=t.b.f-(t.h?1:0))){if(t.h)return t.g=e.s.concat(t.g),1;if(!(1==t.v||2==t.v||t.u>=(t.Ia?0:t.Ja)))return t.h=mv(Pp(t.Ba,t,e),ng(t,t.u)),t.u++,1}}(t,e)||2==i&&$y(t)))switch(r&&0<r.length&&(e=t.b,e.c=e.c.concat(r)),n){case 1:rg(t,5);break;case 4:rg(t,10);break;case 3:rg(t,6);break;default:rg(t,2)}}function ng(t,e){var n=t.Fa+Math.floor(Math.random()*t.Ma);return t.f||(n*=2),n*e}function rg(t,e){var n,r,i,o,a,s;t.c.info("Error code "+e),2==e?(n=null,t.f&&(n=null),r=Pp(t.Xa,t),n||(n=new Kv("//www.google.com/images/cleardot.gif"),Ip.location&&"http"==Ip.location.protocol||Yv(n,"https"),ty(n)),i=n.toString(),o=r,s=new cv,Ip.Image?((a=new Image).onload=Rp(Cy,s,a,"TestLoadImage: loaded",!0,o),a.onerror=Rp(Cy,s,a,"TestLoadImage: error",!1,o),a.onabort=Rp(Cy,s,a,"TestLoadImage: abort",!1,o),a.ontimeout=Rp(Cy,s,a,"TestLoadImage: timeout",!1,o),Ip.setTimeout((function(){a.ontimeout&&a.ontimeout()}),1e4),a.src=i):o(!1)):yv(),t.v=0,t.f&&t.f.ra(e),ig(t),Gy(t)}function ig(t){t.v=0,t.I=-1,t.f&&(0==Iy(t.b).length&&0==t.g.length||(t.b.c.length=0,Vp(t.g),t.g.length=0),t.f.qa())}function og(t,e,n){var r,i,o,a,s,u,c,l=(r=n)instanceof Kv?Qv(r):new Kv(r,void 0);return""!=l.c?(e&&Xv(l,e+"."+l.c),$v(l,l.h)):(o=(i=Ip.location).protocol,a=e?e+"."+i.hostname:i.hostname,s=+i.port,u=n,c=new Kv(null,void 0),o&&Yv(c,o),a&&Xv(c,a),s&&$v(c,s),u&&(c.g=u),l=c),t.W&&Qp(t.W,(function(t,e){Zv(l,e,t)})),e=t.A,n=t.na,e&&n&&Zv(l,e,n),Zv(l,"VER",t.ha),Qy(t,l),l}function ag(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ky(t.Ka)).F=t.C,e}function sg(){}function ug(){if(nd&&!(10<=Number(pd)))throw Error("Environmental error: no available transport.")}function cg(t,e){Ud.call(this),this.a=new qy(e),this.l=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!qp(t)&&(this.a.i=t),this.h=e&&e.supportsCrossDomainXhr||!1,this.g=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!qp(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new fg(this)}function lg(t){Cv.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function hg(){Av.call(this),this.status=1}function fg(t){this.a=t}(wp=ky.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?Ev(this.H):Ev(Tv),this.a.onreadystatechange=Pp(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(t){return void Ry(this,t)}t=n||"";var i,o=new zv(this.headers);r&&Bv(r,(function(t,e){o.set(e,t)})),r=function(t){t:{for(var e=Py,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return e<0?null:"string"==typeof t?t.charAt(e):t[e]}(o.L()),n=Ip.FormData&&t instanceof Ip.FormData,0<=Fp(xy,e)&&!r&&!n&&o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Fy(this),0<this.o&&((this.D=(i=this.a,nd&&fd(9)&&"number"==typeof i.timeout&&void 0!==i.ontimeout))?(this.a.timeout=this.o,this.a.ontimeout=Pp(this.xa,this)):this.m=Jd(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(t){Ry(this,t)}},wp.xa=function(){void 0!==Ep&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},wp.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),My(this))},wp.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),My(this,!0)),ky.S.G.call(this)},wp.za=function(){this.j||(this.A||this.l||this.g?Ly(this):this.Ta())},wp.Ta=function(){Ly(this)},wp.X=function(){try{return 2<Uy(this)?this.a.status:-1}catch(i){return-1}},wp.$=function(){try{return this.a?this.a.responseText:""}catch(i){return""}},wp.Na=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Ay(e)}},wp.ua=function(){return this.h},wp.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(wp=qy.prototype).ha=8,wp.v=1,wp.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Nv(this,this.c,t,void 0),r=this.l;if(this.O&&(r?$p(r=Yp(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Yy(this,n,e),Zv(i=Qv(this.B),"RID",t),Zv(i,"CVER",22),this.A&&Zv(i,"X-HTTP-Session-Id",this.A),Qy(this,i),this.i&&r&&jy(i,this.i,r),_y(this.b,n),this.Ga&&Zv(i,"TYPE","init"),this.da?(Zv(i,"$req",e),Zv(i,"SID","null"),n.V=!0,Rv(n,i,null)):Rv(n,i,e),this.v=2}}else 3==this.v&&(t?Ky(this,t):0==this.g.length||my(this.b)||Ky(this))},wp.Aa=function(){var t;this.j=null,Zy(this),this.V&&!(this.F||null==this.a||this.N<=0)&&(t=2*this.N,this.c.info("BP detection timer enabled: "+t),this.s=mv(Pp(this.Sa,this),t))},wp.Sa=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,zy(this),Zy(this))},wp.Ra=function(){null!=this.m&&(this.m=null,zy(this),$y(this),yv())},wp.Xa=function(t){t?(this.c.info("Successfully pinged google.com"),yv()):(this.c.info("Failed to ping google.com"),yv())},(wp=sg.prototype).ta=function(){},wp.sa=function(){},wp.ra=function(){},wp.qa=function(){},wp.Ha=function(){},ug.prototype.a=function(t,e){return new cg(t,e)},Lp(cg,Ud),(wp=cg.prototype).addEventListener=function(t,e,n,r){cg.S.addEventListener.call(this,t,e,n,r)},wp.removeEventListener=function(t,e,n,r){cg.S.removeEventListener.call(this,t,e,n,r)},wp.Oa=function(){this.a.f=this.f,this.h&&(this.a.C=!0);var t=this.a,e=this.l,n=this.b||void 0;yv(),t.fa=e,t.W=n||{},t.H=t.T,t.B=og(t,null,t.fa),Hy(t)},wp.close=function(){By(this.a)},wp.Pa=function(t){var e;"string"==typeof t?((e={}).__data__=t,Wy(this.a,e)):this.g?((e={}).__data__=Vd(t),Wy(this.a,e)):Wy(this.a,t)},wp.G=function(){this.a.f=null,delete this.f,By(this.a),delete this.a,cg.S.G.call(this)},Lp(lg,Cv),Lp(hg,Av),Lp(fg,sg),fg.prototype.ta=function(){this.a.dispatchEvent("a")},fg.prototype.sa=function(t){this.a.dispatchEvent(new lg(t))},fg.prototype.ra=function(t){this.a.dispatchEvent(new hg)},fg.prototype.qa=function(){this.a.dispatchEvent("b")},ug.prototype.createWebChannel=ug.prototype.a,cg.prototype.send=cg.prototype.Pa,cg.prototype.open=cg.prototype.Oa,bv.NO_ERROR=0,bv.TIMEOUT=8,bv.HTTP_ERROR=6,wv.COMPLETE="complete",(Iv.EventType=Sv).OPEN="a",Sv.CLOSE="b",Sv.ERROR="c",Sv.MESSAGE="d",Ud.prototype.listen=Ud.prototype.va,ky.prototype.listenOnce=ky.prototype.wa,ky.prototype.getLastError=ky.prototype.Qa,ky.prototype.getLastErrorCode=ky.prototype.ua,ky.prototype.getStatus=ky.prototype.X,ky.prototype.getResponseJson=ky.prototype.Na,ky.prototype.getResponseText=ky.prototype.$,ky.prototype.send=ky.prototype.ba;var pg,dg={createWebChannelTransport:function(){return new ug},ErrorCode:bv,EventType:wv,WebChannel:Iv,XhrIo:ky},vg=dg.createWebChannelTransport,yg=dg.ErrorCode,gg=dg.EventType,mg=dg.WebChannel,bg=dg.XhrIo,wg={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},_g=(Fa(Ig,pg=Error),Ig),Eg=new Js("@firebase/firestore");function Ig(t,e){var n=this;return(n=pg.call(this,e)||this).code=t,n.message=e,n.name="FirebaseError",n.toString=function(){return n.name+": [code="+n.code+"]: "+n.message},n}function Tg(){return Eg.logLevel}function Sg(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Eg.logLevel<=Gs.DEBUG&&(e=n.map(kg),Eg.debug.apply(Eg,Ga(["Firestore (7.22.1): "+t],e)))}function Cg(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Eg.logLevel<=Gs.ERROR&&(e=n.map(kg),Eg.error.apply(Eg,Ga(["Firestore (7.22.1): "+t],e)))}function Ag(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Eg.logLevel<=Gs.WARN&&(e=n.map(kg),Eg.warn.apply(Eg,Ga(["Firestore (7.22.1): "+t],e)))}function kg(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(i){return t}}function Ng(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (7.22.1) INTERNAL ASSERTION FAILED: "+t;throw Cg(e),new Error(e)}function Og(t){t||Ng()}function xg(t){var e,n=0;for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&n++;return n}function Pg(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Rg(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Dg,Lg,Mg=(Object.defineProperty(Gg.prototype,"length",{get:function(){return this.t},enumerable:!1,configurable:!0}),Gg.prototype.isEqual=function(t){return 0===Gg.i(this,t)},Gg.prototype.child=function(t){var e=this.segments.slice(this.offset,this.limit());return t instanceof Gg?t.forEach((function(t){e.push(t)})):e.push(t),this.o(e)},Gg.prototype.limit=function(){return this.offset+this.length},Gg.prototype.u=function(t){return t=void 0===t?1:t,this.o(this.segments,this.offset+t,this.length-t)},Gg.prototype.h=function(){return this.o(this.segments,this.offset,this.length-1)},Gg.prototype.l=function(){return this.segments[this.offset]},Gg.prototype._=function(){return this.get(this.length-1)},Gg.prototype.get=function(t){return this.segments[this.offset+t]},Gg.prototype.m=function(){return 0===this.length},Gg.prototype.T=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},Gg.prototype.I=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},Gg.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},Gg.prototype.A=function(){return this.segments.slice(this.offset,this.limit())},Gg.i=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(o<i)return 1}return t.length<e.length?-1:t.length>e.length?1:0},Gg),Fg=(Fa(zg,Lg=Mg),zg.prototype.o=function(t,e,n){return new zg(t,e,n)},zg.prototype.R=function(){return this.A().join("/")},zg.prototype.toString=function(){return this.R()},zg.P=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=[],r=0,i=t;r<i.length;r++){var o=i[r];if(0<=o.indexOf("//"))throw new _g(wg.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");n.push.apply(n,o.split("/").filter((function(t){return 0<t.length})))}return new zg(n)},zg.g=function(){return new zg([])},zg),Ug=/^[_a-zA-Z][_a-zA-Z0-9]*$/,jg=(Fa(Bg,Dg=Mg),Bg.prototype.o=function(t,e,n){return new Bg(t,e,n)},Bg.V=function(t){return Ug.test(t)},Bg.prototype.R=function(){return this.A().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),Bg.V(t)||(t="`"+t+"`"),t})).join(".")},Bg.prototype.toString=function(){return this.R()},Bg.prototype.p=function(){return 1===this.length&&"__name__"===this.get(0)},Bg.v=function(){return new Bg(["__name__"])},Bg.S=function(t){for(var e=[],n="",r=0,i=function(){if(0===n.length)throw new _g(wg.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");e.push(n),n=""},o=!1;r<t.length;){var a=t[r];if("\\"===a){if(r+1===t.length)throw new _g(wg.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var s=t[r+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new _g(wg.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=s,r+=2}else"`"===a?o=!o:"."!==a||o?n+=a:i(),r++}if(i(),o)throw new _g(wg.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Bg(e)},Bg.g=function(){return new Bg([])},Bg),Vg=(qg.D=function(t){return new qg(Fg.P(t))},qg.C=function(t){return new qg(Fg.P(t).u(5))},qg.prototype.N=function(t){return 2<=this.path.length&&this.path.get(this.path.length-2)===t},qg.prototype.isEqual=function(t){return null!==t&&0===Fg.i(this.path,t.path)},qg.prototype.toString=function(){return this.path.toString()},qg.i=function(t,e){return Fg.i(t.path,e.path)},qg.F=function(t){return t.length%2==0},qg.$=function(t){return new qg(new Fg(t.slice()))},qg);function qg(t){this.path=t}function Bg(){return null!==Dg&&Dg.apply(this,arguments)||this}function zg(){return null!==Lg&&Lg.apply(this,arguments)||this}function Gg(t,e,n){void 0===e?e=0:e>t.length&&Ng(),void 0===n?n=t.length-e:n>t.length-e&&Ng(),this.segments=t,this.offset=e,this.t=n}function Wg(t,e){if(0!==e.length)throw new _g(wg.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+cm(e.length,"argument")+".")}function Hg(t,e,n){if(e.length!==n)throw new _g(wg.INVALID_ARGUMENT,"Function "+t+"() requires "+cm(n,"argument")+", but was called with "+cm(e.length,"argument")+".")}function Kg(t,e,n){if(e.length<n)throw new _g(wg.INVALID_ARGUMENT,"Function "+t+"() requires at least "+cm(n,"argument")+", but was called with "+cm(e.length,"argument")+".")}function Qg(t,e,n,r){if(e.length<n||e.length>r)throw new _g(wg.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+cm(e.length,"argument")+".")}function Yg(t,e,n,r){em(t,e,um(n)+" argument",r)}function Xg(t,e,n,r){void 0!==r&&Yg(t,e,n,r)}function $g(t,e,n,r){em(t,e,n+" option",r)}function Jg(t,e,n,r){void 0!==r&&$g(t,e,n,r)}function Zg(t,e,n,r,i){void 0!==r&&function(t,e,n){for(var r=[],o=0,a=i;o<a.length;o++){var s=a[o];if(s===n)return;r.push(rm(s))}var u=rm(n);throw new _g(wg.INVALID_ARGUMENT,"Invalid value "+u+" provided to function "+t+'() for option "'+e+'". Acceptable values: '+r.join(", "))}(t,n,r)}function tm(t,e,n,r){if(!e.some((function(t){return t===r})))throw new _g(wg.INVALID_ARGUMENT,"Invalid value "+rm(r)+" provided to function "+t+"() for its "+um(n)+" argument. Acceptable values: "+e.join(", "));return r}function em(t,e,n,r){if(!("object"===e?nm(r):"non-empty string"===e?"string"==typeof r&&""!==r:typeof r===e)){var i=rm(r);throw new _g(wg.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function nm(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function rm(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return 20<t.length&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"!=typeof t)return"function"==typeof t?"a function":Ng();if(t instanceof Array)return"an array";var e=function(){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&1<e.length)return e[1]}return null}();return e?"a custom "+e+" object":"an object"}function im(t,e,n){if(void 0===n)throw new _g(wg.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+um(e)+" argument, but it was undefined.")}function om(t,e,n){Pg(e,(function(e,r){if(n.indexOf(e)<0)throw new _g(wg.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))}))}function am(t,e,n,r){var i=rm(r);return new _g(wg.INVALID_ARGUMENT,"Function "+t+"() requires its "+um(n)+" argument to be a "+e+", but it was: "+i)}function sm(t,e,n){if(n<=0)throw new _g(wg.INVALID_ARGUMENT,"Function "+t+"() requires its "+um(e)+" argument to be a positive number, but it was: "+n+".")}function um(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function cm(t,e){return t+" "+e+(1===t?"":"s")}var lm=(hm.k=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=function(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(40);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<40;r++)n[r]=Math.floor(256*Math.random());return n}(),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},hm);function hm(){}function fm(t,e){return t<e?-1:e<t?1:0}function pm(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function dm(t){return t+"\0"}var vm=(ym.fromBase64String=function(t){return new ym(atob(t))},ym.fromUint8Array=function(t){return new ym(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(t))},ym.prototype.toBase64=function(){return t=this.M,btoa(t);var t},ym.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.M)},ym.prototype.O=function(){return 2*this.M.length},ym.prototype.L=function(t){return fm(this.M,t.M)},ym.prototype.isEqual=function(t){return this.M===t.M},ym);function ym(t){this.M=t}vm.B=new vm("");var gm=(mm.fromBase64String=function(t){try{return new mm(vm.fromBase64String(t))}catch(t){throw new _g(wg.INVALID_ARGUMENT,"Failed to construct Bytes from Base64 string: "+t)}},mm.fromUint8Array=function(t){return new mm(vm.fromUint8Array(t))},mm.prototype.toBase64=function(){return this.q.toBase64()},mm.prototype.toUint8Array=function(){return this.q.toUint8Array()},mm.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},mm.prototype.isEqual=function(t){return this.q.isEqual(t.q)},mm);function mm(t){this.q=t}function bm(){if("undefined"==typeof Uint8Array)throw new _g(wg.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function wm(){if("undefined"==typeof atob)throw new _g(wg.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}function _m(t,e,n,r,i){this.U=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i}var Em,Im=(Fa(Pm,Em=gm),Pm.fromBase64String=function(t){Hg("Blob.fromBase64String",arguments,1),Yg("Blob.fromBase64String","string",1,t),wm();try{return new Pm(vm.fromBase64String(t))}catch(t){throw new _g(wg.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},Pm.fromUint8Array=function(t){if(Hg("Blob.fromUint8Array",arguments,1),bm(),!(t instanceof Uint8Array))throw am("Blob.fromUint8Array","Uint8Array",1,t);return new Pm(vm.fromUint8Array(t))},Pm.prototype.toBase64=function(){return Hg("Blob.toBase64",arguments,0),wm(),Em.prototype.toBase64.call(this)},Pm.prototype.toUint8Array=function(){return Hg("Blob.toUint8Array",arguments,0),bm(),Em.prototype.toUint8Array.call(this)},Pm.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},Pm),Tm=(Object.defineProperty(xm.prototype,"W",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),xm.prototype.isEqual=function(t){return t instanceof xm&&t.projectId===this.projectId&&t.database===this.database},xm.prototype.L=function(t){return fm(this.projectId,t.projectId)||fm(this.database,t.database)},xm),Sm=(Om.prototype.get=function(t){var e=this.j(t),n=this.G[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.K(a,t))return s}},Om.prototype.has=function(t){return void 0!==this.get(t)},Om.prototype.set=function(t,e){var n=this.j(t),r=this.G[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.K(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.G[n]=[[t,e]]},Om.prototype.delete=function(t){var e=this.j(t),n=this.G[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.K(n[r][0],t))return 1===n.length?delete this.G[e]:n.splice(r,1),!0;return!1},Om.prototype.forEach=function(t){Pg(this.G,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];t(a,s)}}))},Om.prototype.m=function(){return Rg(this.G)},Om),Cm=(Nm.now=function(){return Nm.fromMillis(Date.now())},Nm.fromDate=function(t){return Nm.fromMillis(t.getTime())},Nm.fromMillis=function(t){var e=Math.floor(t/1e3);return new Nm(e,1e6*(t-1e3*e))},Nm.prototype.toDate=function(){return new Date(this.toMillis())},Nm.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},Nm.prototype.H=function(t){return this.seconds===t.seconds?fm(this.nanoseconds,t.nanoseconds):fm(this.seconds,t.seconds)},Nm.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},Nm.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},Nm.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},Nm.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},Nm),Am=(km.Y=function(t){return new km(t)},km.min=function(){return new km(new Cm(0,0))},km.prototype.L=function(t){return this.timestamp.H(t.timestamp)},km.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},km.prototype.J=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},km.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},km.prototype.X=function(){return this.timestamp},km);function km(t){this.timestamp=t}function Nm(t,e){if(this.seconds=t,(this.nanoseconds=e)<0)throw new _g(wg.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(1e9<=e)throw new _g(wg.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new _g(wg.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(253402300800<=t)throw new _g(wg.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}function Om(t,e){this.j=t,this.K=e,this.G={}}function xm(t,e){this.projectId=t,this.database=e||"(default)"}function Pm(){return null!==Em&&Em.apply(this,arguments)||this}function Rm(t){return null==t}function Dm(t){return 0===t&&1/t==-1/0}function Lm(t){return"number"==typeof t&&Number.isInteger(t)&&!Dm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Mm=function(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.Z=null};function Fm(t,e,n,r,i,o,a){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new Mm(t,e,n,r,i,o,a)}function Um(t){var e,n=t;return null===n.Z&&(e=n.path.R(),null!==n.collectionGroup&&(e+="|cg:"+n.collectionGroup),e+="|f:",e+=n.filters.map((function(t){return(e=t).field.R()+e.op.toString()+Ub(e.value);var e})).join(","),e+="|ob:",e+=n.orderBy.map((function(t){return(e=t).field.R()+e.dir;var e})).join(","),Rm(n.limit)||(e+="|l:",e+=n.limit),n.startAt&&(e+="|lb:",e+=mE(n.startAt)),n.endAt&&(e+="|ub:",e+=mE(n.endAt)),n.Z=e),n.Z}function jm(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n,r,i=0;i<t.orderBy.length;i++)if(n=t.orderBy[i],r=e.orderBy[i],n.dir!==r.dir||!n.field.isEqual(r.field))return!1;if(t.filters.length!==e.filters.length)return!1;for(var o,a,s=0;s<t.filters.length;s++)if(o=t.filters[s],a=e.filters[s],o.op!==a.op||!o.field.isEqual(a.field)||!Db(o.value,a.value))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!wE(t.startAt,e.startAt)&&wE(t.endAt,e.endAt)}function Vm(t){return Vg.F(t.path)&&null===t.collectionGroup&&0===t.filters.length}function qm(t){this.count=t}var Bm,zm,Gm=(Wm.prototype.nt=function(t){return new Wm(this.target,this.targetId,this.tt,t,this.et,this.lastLimboFreeSnapshotVersion,this.resumeToken)},Wm.prototype.st=function(t,e){return new Wm(this.target,this.targetId,this.tt,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)},Wm.prototype.it=function(t){return new Wm(this.target,this.targetId,this.tt,this.sequenceNumber,this.et,t,this.resumeToken)},Wm);function Wm(t,e,n,r,i,o,a){void 0===i&&(i=Am.min()),void 0===o&&(o=Am.min()),void 0===a&&(a=vm.B),this.target=t,this.targetId=e,this.tt=n,this.sequenceNumber=r,this.et=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}function Hm(t){switch(t){case wg.OK:return Ng(),0;case wg.CANCELLED:case wg.UNKNOWN:case wg.DEADLINE_EXCEEDED:case wg.RESOURCE_EXHAUSTED:case wg.INTERNAL:case wg.UNAVAILABLE:case wg.UNAUTHENTICATED:return;case wg.INVALID_ARGUMENT:case wg.NOT_FOUND:case wg.ALREADY_EXISTS:case wg.PERMISSION_DENIED:case wg.FAILED_PRECONDITION:case wg.ABORTED:case wg.OUT_OF_RANGE:case wg.UNIMPLEMENTED:case wg.DATA_LOSS:return 1;default:return Ng(),0}}function Km(t){if(void 0===t)return Cg("GRPC error has no .code"),wg.UNKNOWN;switch(t){case Bm.OK:return wg.OK;case Bm.CANCELLED:return wg.CANCELLED;case Bm.UNKNOWN:return wg.UNKNOWN;case Bm.DEADLINE_EXCEEDED:return wg.DEADLINE_EXCEEDED;case Bm.RESOURCE_EXHAUSTED:return wg.RESOURCE_EXHAUSTED;case Bm.INTERNAL:return wg.INTERNAL;case Bm.UNAVAILABLE:return wg.UNAVAILABLE;case Bm.UNAUTHENTICATED:return wg.UNAUTHENTICATED;case Bm.INVALID_ARGUMENT:return wg.INVALID_ARGUMENT;case Bm.NOT_FOUND:return wg.NOT_FOUND;case Bm.ALREADY_EXISTS:return wg.ALREADY_EXISTS;case Bm.PERMISSION_DENIED:return wg.PERMISSION_DENIED;case Bm.FAILED_PRECONDITION:return wg.FAILED_PRECONDITION;case Bm.ABORTED:return wg.ABORTED;case Bm.OUT_OF_RANGE:return wg.OUT_OF_RANGE;case Bm.UNIMPLEMENTED:return wg.UNIMPLEMENTED;case Bm.DATA_LOSS:return wg.DATA_LOSS;default:return Ng()}}(zm=Bm=Bm||{})[zm.OK=0]="OK",zm[zm.CANCELLED=1]="CANCELLED",zm[zm.UNKNOWN=2]="UNKNOWN",zm[zm.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zm[zm.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zm[zm.NOT_FOUND=5]="NOT_FOUND",zm[zm.ALREADY_EXISTS=6]="ALREADY_EXISTS",zm[zm.PERMISSION_DENIED=7]="PERMISSION_DENIED",zm[zm.UNAUTHENTICATED=16]="UNAUTHENTICATED",zm[zm.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zm[zm.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zm[zm.ABORTED=10]="ABORTED",zm[zm.OUT_OF_RANGE=11]="OUT_OF_RANGE",zm[zm.UNIMPLEMENTED=12]="UNIMPLEMENTED",zm[zm.INTERNAL=13]="INTERNAL",zm[zm.UNAVAILABLE=14]="UNAVAILABLE",zm[zm.DATA_LOSS=15]="DATA_LOSS";var Qm=(Zm.prototype.rt=function(t,e){return new Zm(this.i,this.root.rt(t,e,this.i).copy(null,null,Xm.ot,null,null))},Zm.prototype.remove=function(t){return new Zm(this.i,this.root.remove(t,this.i).copy(null,null,Xm.ot,null,null))},Zm.prototype.get=function(t){for(var e=this.root;!e.m();){var n=this.i(t,e.key);if(0===n)return e.value;n<0?e=e.left:0<n&&(e=e.right)}return null},Zm.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.m();){var r=this.i(t,n.key);if(0===r)return e+n.left.size;n=r<0?n.left:(e+=n.left.size+1,n.right)}return-1},Zm.prototype.m=function(){return this.root.m()},Object.defineProperty(Zm.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),Zm.prototype.at=function(){return this.root.at()},Zm.prototype.ct=function(){return this.root.ct()},Zm.prototype.ut=function(t){return this.root.ut(t)},Zm.prototype.forEach=function(t){this.ut((function(e,n){return t(e,n),!1}))},Zm.prototype.toString=function(){var t=[];return this.ut((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},Zm.prototype.ht=function(t){return this.root.ht(t)},Zm.prototype.lt=function(){return new Ym(this.root,null,this.i,!1)},Zm.prototype._t=function(t){return new Ym(this.root,t,this.i,!1)},Zm.prototype.ft=function(){return new Ym(this.root,null,this.i,!0)},Zm.prototype.dt=function(t){return new Ym(this.root,t,this.i,!0)},Zm),Ym=(Jm.prototype.Et=function(){var t=this.Tt.pop(),e={key:t.key,value:t.value};if(this.wt)for(t=t.left;!t.m();)this.Tt.push(t),t=t.right;else for(t=t.right;!t.m();)this.Tt.push(t),t=t.left;return e},Jm.prototype.It=function(){return 0<this.Tt.length},Jm.prototype.At=function(){if(0===this.Tt.length)return null;var t=this.Tt[this.Tt.length-1];return{key:t.key,value:t.value}},Jm),Xm=($m.prototype.copy=function(t,e,n,r,i){return new $m(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)},$m.prototype.m=function(){return!1},$m.prototype.ut=function(t){return this.left.ut(t)||t(this.key,this.value)||this.right.ut(t)},$m.prototype.ht=function(t){return this.right.ht(t)||t(this.key,this.value)||this.left.ht(t)},$m.prototype.min=function(){return this.left.m()?this:this.left.min()},$m.prototype.at=function(){return this.min().key},$m.prototype.ct=function(){return this.right.m()?this.key:this.right.ct()},$m.prototype.rt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.rt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.rt(t,e,n))).Rt()},$m.prototype.Pt=function(){if(this.left.m())return $m.EMPTY;var t=this;return t.left.gt()||t.left.left.gt()||(t=t.yt()),(t=t.copy(null,null,null,t.left.Pt(),null)).Rt()},$m.prototype.remove=function(t,e){var n,r=this;if(e(t,r.key)<0)r.left.m()||r.left.gt()||r.left.left.gt()||(r=r.yt()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.gt()&&(r=r.Vt()),r.right.m()||r.right.gt()||r.right.left.gt()||(r=r.bt()),0===e(t,r.key)){if(r.right.m())return $m.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.Pt())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.Rt()},$m.prototype.gt=function(){return this.color},$m.prototype.Rt=function(){var t=this;return t.right.gt()&&!t.left.gt()&&(t=t.vt()),t.left.gt()&&t.left.left.gt()&&(t=t.Vt()),t.left.gt()&&t.right.gt()&&(t=t.St()),t},$m.prototype.yt=function(){var t=this.St();return t.right.left.gt()&&(t=(t=(t=t.copy(null,null,null,null,t.right.Vt())).vt()).St()),t},$m.prototype.bt=function(){var t=this.St();return t.left.left.gt()&&(t=(t=t.Vt()).St()),t},$m.prototype.vt=function(){var t=this.copy(null,null,$m.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},$m.prototype.Vt=function(){var t=this.copy(null,null,$m.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},$m.prototype.St=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},$m.prototype.Dt=function(){var t=this.Ct();return Math.pow(2,t)<=this.size+1},$m.prototype.Ct=function(){if(this.gt()&&this.left.gt())throw Ng();if(this.right.gt())throw Ng();var t=this.left.Ct();if(t!==this.right.Ct())throw Ng();return t+(this.gt()?0:1)},$m);function $m(t,e,n,r,i){this.key=t,this.value=e,this.color=null!=n?n:$m.RED,this.left=null!=r?r:$m.EMPTY,this.right=null!=i?i:$m.EMPTY,this.size=this.left.size+1+this.right.size}function Jm(t,e,n,r){this.wt=r,this.Tt=[];for(var i=1;!t.m();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.wt?t.left:t.right;else{if(0===i){this.Tt.push(t);break}this.Tt.push(t),t=this.wt?t.right:t.left}}function Zm(t,e){this.i=t,this.root=e||Xm.EMPTY}function tb(){this.size=0}Xm.EMPTY=null,Xm.RED=!0,Xm.ot=!1,Xm.EMPTY=(Object.defineProperty(tb.prototype,"key",{get:function(){throw Ng()},enumerable:!1,configurable:!0}),Object.defineProperty(tb.prototype,"value",{get:function(){throw Ng()},enumerable:!1,configurable:!0}),Object.defineProperty(tb.prototype,"color",{get:function(){throw Ng()},enumerable:!1,configurable:!0}),Object.defineProperty(tb.prototype,"left",{get:function(){throw Ng()},enumerable:!1,configurable:!0}),Object.defineProperty(tb.prototype,"right",{get:function(){throw Ng()},enumerable:!1,configurable:!0}),tb.prototype.copy=function(t,e,n,r,i){return this},tb.prototype.rt=function(t,e,n){return new Xm(t,e)},tb.prototype.remove=function(t,e){return this},tb.prototype.m=function(){return!0},tb.prototype.ut=function(t){return!1},tb.prototype.ht=function(t){return!1},tb.prototype.at=function(){return null},tb.prototype.ct=function(){return null},tb.prototype.gt=function(){return!1},tb.prototype.Dt=function(){return!0},tb.prototype.Ct=function(){return 0},new tb);var eb=(ob.prototype.has=function(t){return null!==this.data.get(t)},ob.prototype.first=function(){return this.data.at()},ob.prototype.last=function(){return this.data.ct()},Object.defineProperty(ob.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),ob.prototype.indexOf=function(t){return this.data.indexOf(t)},ob.prototype.forEach=function(t){this.data.ut((function(e,n){return t(e),!1}))},ob.prototype.Nt=function(t,e){for(var n=this.data._t(t[0]);n.It();){var r=n.Et();if(0<=this.i(r.key,t[1]))return;e(r.key)}},ob.prototype.Ft=function(t,e){for(var n=void 0!==e?this.data._t(e):this.data.lt();n.It();)if(!t(n.Et().key))return},ob.prototype.$t=function(t){var e=this.data._t(t);return e.It()?e.Et().key:null},ob.prototype.lt=function(){return new nb(this.data.lt())},ob.prototype._t=function(t){return new nb(this.data._t(t))},ob.prototype.add=function(t){return this.copy(this.data.remove(t).rt(t,!0))},ob.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},ob.prototype.m=function(){return this.data.m()},ob.prototype.xt=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},ob.prototype.isEqual=function(t){if(!(t instanceof ob))return!1;if(this.size!==t.size)return!1;for(var e=this.data.lt(),n=t.data.lt();e.It();){var r=e.Et().key,i=n.Et().key;if(0!==this.i(r,i))return!1}return!0},ob.prototype.A=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},ob.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},ob.prototype.copy=function(t){var e=new ob(this.i);return e.data=t,e},ob),nb=(ib.prototype.Et=function(){return this.kt.Et().key},ib.prototype.It=function(){return this.kt.It()},ib),rb=new Qm(Vg.i);function ib(t){this.kt=t}function ob(t){this.i=t,this.data=new Qm(this.i)}var ab=new Qm(Vg.i),sb=new Qm(Vg.i),ub=new eb(Vg.i);function cb(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=ub,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var lb=new eb(fm),hb=(Ab.Lt=function(t){return new Ab(t.i)},Ab.prototype.has=function(t){return null!=this.Mt.get(t)},Ab.prototype.get=function(t){return this.Mt.get(t)},Ab.prototype.first=function(){return this.Ot.at()},Ab.prototype.last=function(){return this.Ot.ct()},Ab.prototype.m=function(){return this.Ot.m()},Ab.prototype.indexOf=function(t){var e=this.Mt.get(t);return e?this.Ot.indexOf(e):-1},Object.defineProperty(Ab.prototype,"size",{get:function(){return this.Ot.size},enumerable:!1,configurable:!0}),Ab.prototype.forEach=function(t){this.Ot.ut((function(e,n){return t(e),!1}))},Ab.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Mt.rt(t.key,t),e.Ot.rt(t,null))},Ab.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Mt.remove(t),this.Ot.remove(e)):this},Ab.prototype.isEqual=function(t){if(!(t instanceof Ab))return!1;if(this.size!==t.size)return!1;for(var e=this.Ot.lt(),n=t.Ot.lt();e.It();){var r=e.Et().key,i=n.Et().key;if(!r.isEqual(i))return!1}return!0},Ab.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},Ab.prototype.copy=function(t,e){var n=new Ab;return n.i=this.i,n.Mt=t,n.Ot=e,n},Ab),fb=(Cb.prototype.track=function(t){var e=t.doc.key,n=this.Bt.get(e);!n||0!==t.type&&3===n.type?this.Bt=this.Bt.rt(e,t):3===t.type&&1!==n.type?this.Bt=this.Bt.rt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Bt=this.Bt.rt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Bt=this.Bt.rt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Bt=this.Bt.remove(e):1===t.type&&2===n.type?this.Bt=this.Bt.rt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Bt=this.Bt.rt(e,{type:2,doc:t.doc}):Ng()},Cb.prototype.qt=function(){var t=[];return this.Bt.ut((function(e,n){t.push(n)})),t},Cb),pb=(Sb.Kt=function(t,e,n,r){var i=[];return e.forEach((function(t){i.push({type:0,doc:t})})),new Sb(t,e,hb.Lt(e),i,n,r,!0,!1)},Object.defineProperty(Sb.prototype,"hasPendingWrites",{get:function(){return!this.Qt.m()},enumerable:!1,configurable:!0}),Sb.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Wt===t.Wt&&this.Qt.isEqual(t.Qt)&&q_(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Ut.isEqual(t.Ut)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},Sb),db=(Tb.Jt=function(t,e){var n=new Map;return n.set(t,vb.Xt(t,e)),new Tb(Am.min(),n,lb,rb,cb())},Tb),vb=(Ib.Xt=function(t,e){return new Ib(vm.B,e,cb(),cb(),cb())},Ib),yb=function(t,e,n,r){this.se=t,this.removedTargetIds=e,this.key=n,this.ie=r},gb=function(t,e){this.targetId=t,this.re=e},mb=function(t,e,n,r){void 0===n&&(n=vm.B),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},bb=(Object.defineProperty(Eb.prototype,"Zt",{get:function(){return this.ue},enumerable:!1,configurable:!0}),Object.defineProperty(Eb.prototype,"resumeToken",{get:function(){return this.ce},enumerable:!1,configurable:!0}),Object.defineProperty(Eb.prototype,"le",{get:function(){return 0!==this.oe},enumerable:!1,configurable:!0}),Object.defineProperty(Eb.prototype,"_e",{get:function(){return this.he},enumerable:!1,configurable:!0}),Eb.prototype.fe=function(t){0<t.O()&&(this.he=!0,this.ce=t)},Eb.prototype.de=function(){var t=cb(),e=cb(),n=cb();return this.ae.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Ng()}})),new vb(this.ce,this.ue,t,e,n)},Eb.prototype.we=function(){this.he=!1,this.ae=Nb()},Eb.prototype.me=function(t,e){this.he=!0,this.ae=this.ae.rt(t,e)},Eb.prototype.Te=function(t){this.he=!0,this.ae=this.ae.remove(t)},Eb.prototype.Ee=function(){this.oe+=1},Eb.prototype.Ie=function(){--this.oe},Eb.prototype.Ae=function(){this.he=!0,this.ue=!0},Eb),wb=(_b.prototype.pe=function(t){for(var e=0,n=t.se;e<n.length;e++){var r=n[e];t.ie instanceof E_?this.be(r,t.ie):t.ie instanceof I_&&this.ve(r,t.key,t.ie)}for(var i=0,o=t.removedTargetIds;i<o.length;i++){var a=o[i];this.ve(a,t.key,t.ie)}},_b.prototype.Se=function(t){var e=this;this.De(t,(function(n){var r=e.Ce(n);switch(t.state){case 0:e.Ne(n)&&r.fe(t.resumeToken);break;case 1:r.Ie(),r.le||r.we(),r.fe(t.resumeToken);break;case 2:r.Ie(),r.le||e.removeTarget(n);break;case 3:e.Ne(n)&&(r.Ae(),r.fe(t.resumeToken));break;case 4:e.Ne(n)&&(e.Fe(n),r.fe(t.resumeToken));break;default:Ng()}}))},_b.prototype.De=function(t,e){var n=this;0<t.targetIds.length?t.targetIds.forEach(e):this.Pe.forEach((function(t,r){n.Ne(r)&&e(r)}))},_b.prototype.$e=function(t){var e,n,r=t.targetId,i=t.re.count,o=this.xe(r);o&&(Vm(e=o.target)?0===i?(n=new Vg(e.path),this.ve(r,n,new I_(n,Am.min()))):Og(1===i):this.ke(r)!==i&&(this.Fe(r),this.Ve=this.Ve.add(r)))},_b.prototype.Me=function(t){var e=this,n=new Map;this.Pe.forEach((function(r,i){var o,a=e.xe(i);a&&(r.Zt&&Vm(a.target)&&(o=new Vg(a.target.path),null!==e.ge.get(o)||e.Oe(i,o)||e.ve(i,o,new I_(o,t))),r._e&&(n.set(i,r.de()),r.we()))}));var r=cb();this.ye.forEach((function(t,n){var i=!0;n.Ft((function(t){var n=e.xe(t);return!n||2===n.tt||(i=!1)})),i&&(r=r.add(t))}));var i=new db(t,n,this.Ve,this.ge,r);return this.ge=rb,this.ye=kb(),this.Ve=new eb(fm),i},_b.prototype.be=function(t,e){var n;this.Ne(t)&&(n=this.Oe(t,e.key)?2:0,this.Ce(t).me(e.key,n),this.ge=this.ge.rt(e.key,e),this.ye=this.ye.rt(e.key,this.Le(e.key).add(t)))},_b.prototype.ve=function(t,e,n){var r;this.Ne(t)&&(r=this.Ce(t),this.Oe(t,e)?r.me(e,1):r.Te(e),this.ye=this.ye.rt(e,this.Le(e).delete(t)),n&&(this.ge=this.ge.rt(e,n)))},_b.prototype.removeTarget=function(t){this.Pe.delete(t)},_b.prototype.ke=function(t){var e=this.Ce(t).de();return this.Re.Be(t).size+e.te.size-e.ne.size},_b.prototype.Ee=function(t){this.Ce(t).Ee()},_b.prototype.Ce=function(t){var e=this.Pe.get(t);return e||(e=new bb,this.Pe.set(t,e)),e},_b.prototype.Le=function(t){var e=this.ye.get(t);return e||(e=new eb(fm),this.ye=this.ye.rt(t,e)),e},_b.prototype.Ne=function(t){var e=null!==this.xe(t);return e||Sg("WatchChangeAggregator","Detected inactive target",t),e},_b.prototype.xe=function(t){var e=this.Pe.get(t);return e&&e.le?null:this.Re.qe(t)},_b.prototype.Fe=function(t){var e=this;this.Pe.set(t,new bb),this.Re.Be(t).forEach((function(n){e.ve(t,n,null)}))},_b.prototype.Oe=function(t,e){return this.Re.Be(t).has(e)},_b);function _b(t){this.Re=t,this.Pe=new Map,this.ge=rb,this.ye=kb(),this.Ve=new eb(fm)}function Eb(){this.oe=0,this.ae=Nb(),this.ce=vm.B,this.ue=!1,this.he=!0}function Ib(t,e,n,r,i){this.resumeToken=t,this.Zt=e,this.te=n,this.ee=r,this.ne=i}function Tb(t,e,n,r,i){this.et=t,this.Gt=e,this.zt=n,this.Ht=r,this.Yt=i}function Sb(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.Ut=n,this.docChanges=r,this.Qt=i,this.fromCache=o,this.Wt=a,this.jt=s}function Cb(){this.Bt=new Qm(Vg.i)}function Ab(t){this.i=t?function(e,n){return t(e,n)||Vg.i(e.key,n.key)}:function(t,e){return Vg.i(t.key,e.key)},this.Mt=ab,this.Ot=new Qm(this.i)}function kb(){return new Qm(Vg.i)}function Nb(){return new Qm(Vg.i)}function Ob(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function xb(t){var e=jb(t.mapValue.fields.__local_write_time__.timestampValue);return new Cm(e.seconds,e.nanos)}var Pb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rb(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ob(t)?4:10:Ng()}function Db(t,e){var n,r,i,o=Rb(t);if(o!==Rb(e))return!1;switch(o){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return xb(t).isEqual(xb(e));case 3:return function(e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=jb(t.timestampValue),r=jb(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,qb(t.bytesValue).isEqual(qb(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return r=e,Vb((n=t).geoPointValue.latitude)===Vb(r.geoPointValue.latitude)&&Vb(n.geoPointValue.longitude)===Vb(r.geoPointValue.longitude);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Vb(t.integerValue)===Vb(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Vb(t.doubleValue),r=Vb(e.doubleValue);return n===r?Dm(n)===Dm(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return pm(t.arrayValue.values||[],e.arrayValue.values||[],Db);case 10:return function(){var n,r=t.mapValue.fields||{},i=e.mapValue.fields||{};if(xg(r)!==xg(i))return!1;for(n in r)if(r.hasOwnProperty(n)&&(void 0===i[n]||!Db(r[n],i[n])))return!1;return!0}();default:return Ng()}}function Lb(t,e){return void 0!==(t.values||[]).find((function(t){return Db(t,e)}))}function Mb(t,e){var n,r,i,o,a,s,u,c,l,h,f=Rb(t),p=Rb(e);if(f!==p)return fm(f,p);switch(f){case 0:return 0;case 1:return fm(t.booleanValue,e.booleanValue);case 2:return c=e,(l=Vb(t.integerValue||t.doubleValue))<(h=Vb(c.integerValue||c.doubleValue))?-1:h<l?1:l===h?0:isNaN(l)?isNaN(h)?0:-1:1;case 3:return Fb(t.timestampValue,e.timestampValue);case 4:return Fb(xb(t),xb(e));case 5:return fm(t.stringValue,e.stringValue);case 6:return o=t.bytesValue,a=e.bytesValue,s=qb(o),u=qb(a),s.L(u);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=fm(n[i],r[i]);if(0!==o)return o}return fm(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return n=t.geoPointValue,r=e.geoPointValue,0!==(i=fm(Vb(n.latitude),Vb(r.latitude)))?i:fm(Vb(n.longitude),Vb(r.longitude));case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Mb(n[i],r[i]);if(o)return o}return fm(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=fm(r[a],o[a]);if(0!==s)return s;var u=Mb(n[r[a]],i[o[a]]);if(0!==u)return u}return fm(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Ng()}}function Fb(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return fm(t,e);var n=jb(t),r=jb(e),i=fm(n.seconds,r.seconds);return 0!==i?i:fm(n.nanos,r.nanos)}function Ub(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?"time("+(n=jb(e.timestampValue)).seconds+","+n.nanos+")":"stringValue"in e?e.stringValue:"bytesValue"in e?qb(e.bytesValue).toBase64():"referenceValue"in e?(i=e.referenceValue,Vg.C(i).toString()):"geoPointValue"in e?"geo("+(r=e.geoPointValue).latitude+","+r.longitude+")":"arrayValue"in e?function(){for(var n="[",r=!0,i=0,o=e.arrayValue.values||[];i<o.length;i++)r?r=!1:n+=",",n+=t(o[i]);return n+"]"}():"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var a=o[i];r?r=!1:n+=",",n+=a+":"+t(e.fields[a])}return n+"}"}(e.mapValue):Ng();var n,r,i}(t)}function jb(t){if(Og(!!t),"string"!=typeof t)return{seconds:Vb(t.seconds),nanos:Vb(t.nanos)};var e,n=0,r=Pb.exec(t);Og(!!r),r[1]&&(e=((e=r[1])+"000000000").substr(0,9),n=Number(e));var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:n}}function Vb(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function qb(t){return"string"==typeof t?vm.fromBase64String(t):vm.fromUint8Array(t)}function Bb(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.R()}}function zb(t){return t&&"integerValue"in t}function Gb(t){return!!t&&"arrayValue"in t}function Wb(t){return t&&"nullValue"in t}function Hb(t){return t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Kb(t){return t&&"mapValue"in t}var Qb={asc:"ASCENDING",desc:"DESCENDING"},Yb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Xb=function(t,e){this.U=t,this.Ue=e};function $b(t){return{integerValue:""+t}}function Jb(t,e){if(t.Ue){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dm(e)?"-0":e}}function Zb(t,e){return Lm(e)?$b(e):Jb(t,e)}function tw(t,e){return t.Ue?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function ew(t,e){return t.Ue?e.toBase64():e.toUint8Array()}function nw(t){return Og(!!t),Am.Y((e=jb(t),new Cm(e.seconds,e.nanos)));var e}function rw(t,e){return new Fg(["projects",t.projectId,"databases",t.database]).child("documents").child(e).R()}function iw(t){var e=Fg.P(t);return Og(ww(e)),e}function ow(t,e){return rw(t.U,e.path)}function aw(t,e){var n=iw(e);return Og(n.get(1)===t.U.projectId),Og(!n.get(3)&&!t.U.database||n.get(3)===t.U.database),new Vg(lw(n))}function sw(t,e){return rw(t.U,e)}function uw(t){var e=iw(t);return 4===e.length?Fg.g():lw(e)}function cw(t){return new Fg(["projects",t.U.projectId,"databases",t.U.database]).R()}function lw(t){return Og(4<t.length&&"documents"===t.get(4)),t.u(5)}function hw(t,e,n){return{name:ow(t,e),fields:n.proto.mapValue.fields}}function fw(t,e){var n,r,i,o,a,s;if(e instanceof Zw)n={update:hw(t,e.key,e.value)};else if(e instanceof l_)n={delete:ow(t,e.key)};else if(e instanceof t_)n={update:hw(t,e.key,e.data),updateMask:(r=e.Qe,i=[],r.fields.forEach((function(t){return i.push(t.R())})),{fieldPaths:i})};else if(e instanceof o_)n={transform:{document:ow(t,e.key),fieldTransforms:e.fieldTransforms.map((function(t){var e=t.transform;if(e instanceof Sw)return{fieldPath:t.field.R(),setToServerValue:"REQUEST_TIME"};if(e instanceof Cw)return{fieldPath:t.field.R(),appendMissingElements:{values:e.elements}};if(e instanceof xw)return{fieldPath:t.field.R(),removeAllFromArray:{values:e.elements}};if(e instanceof Lw)return{fieldPath:t.field.R(),increment:e.We};throw Ng()}))}};else{if(!(e instanceof h_))return Ng();n={verify:ow(t,e.key)}}return e.Ke.je||(n.currentDocument=void 0!==(o=e.Ke).updateTime?{updateTime:(a=t,s=o.updateTime,tw(a,s.X()))}:void 0!==o.exists?{exists:o.exists}:Ng()),n}function pw(t,e){var n,r,i=e.currentDocument?void 0!==(n=e.currentDocument).updateTime?zw.updateTime(nw(n.updateTime)):void 0!==n.exists?zw.exists(n.exists):zw.Ge():zw.Ge();if(e.update){e.update.name;var o=aw(t,e.update.name),a=new f_({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=(r=e.updateMask.fieldPaths||[],new jw(r.map((function(t){return jg.S(t)}))));return new t_(o,a,s,i)}return new Zw(o,a,i)}if(e.delete){var u=aw(t,e.delete);return new l_(u,i)}if(e.transform){var c=aw(t,e.transform.document),l=e.transform.fieldTransforms.map((function(e){return function(t,e){var n,r,i=null;"setToServerValue"in e?(Og("REQUEST_TIME"===e.setToServerValue),i=new Sw):"appendMissingElements"in e?(n=e.appendMissingElements.values||[],i=new Cw(n)):"removeAllFromArray"in e?(r=e.removeAllFromArray.values||[],i=new xw(r)):"increment"in e?i=new Lw(t,e.increment):Ng();var o=jg.S(e.fieldPath);return new Vw(o,i)}(t,e)}));return Og(!0===i.exists),new o_(c,l)}if(e.verify){var h=aw(t,e.verify);return new h_(h,i)}return Ng()}function dw(t,e){return{documents:[sw(t,e.path)]}}function vw(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=sw(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=sw(t,r.h()),n.structuredQuery.from=[{collectionId:r._()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){if("=="===t.op){if(Hb(t.value))return{unaryFilter:{field:mw(t.field),op:"IS_NAN"}};if(Wb(t.value))return{unaryFilter:{field:mw(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Hb(t.value))return{unaryFilter:{field:mw(t.field),op:"IS_NOT_NAN"}};if(Wb(t.value))return{unaryFilter:{field:mw(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mw(t.field),op:(e=t.op,Yb[e]),value:t.value}};var e}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return{field:mw((e=t).field),direction:(n=e.dir,Qb[n])};var e,n}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a,s=(a=e.limit,t.Ue||Rm(a)?a:{value:a});return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=yw(e.startAt)),e.endAt&&(n.structuredQuery.endAt=yw(e.endAt)),n}function yw(t){return{before:t.before,values:t.position}}function gw(t){var e=!!t.before,n=t.values||[];return new pE(n,e)}function mw(t){return{fieldPath:t.R()}}function bw(t){return jg.S(t.fieldPath)}function ww(t){return 4<=t.length&&"projects"===t.get(0)&&"databases"===t.get(2)}function _w(){this.ze=void 0}function Ew(t,e){return t instanceof Lw?zb(n=e)||n&&"doubleValue"in n?e:{integerValue:0}:null;var n}var Iw,Tw,Sw=(Fa(kw,Tw=_w),kw),Cw=(Fa(Aw,Iw=_w),Aw);function Aw(t){var e=this;return(e=Iw.call(this)||this).elements=t,e}function kw(){return null!==Tw&&Tw.apply(this,arguments)||this}function Nw(t,e){for(var n=Uw(e),r=0,i=t.elements;r<i.length;r++)!function(t){n.some((function(e){return Db(e,t)}))||n.push(t)}(i[r]);return{arrayValue:{values:n}}}var Ow,xw=(Fa(Pw,Ow=_w),Pw);function Pw(t){var e=this;return(e=Ow.call(this)||this).elements=t,e}function Rw(t,e){for(var n=Uw(e),r=0,i=t.elements;r<i.length;r++)!function(t){n=n.filter((function(e){return!Db(e,t)}))}(i[r]);return{arrayValue:{values:n}}}var Dw,Lw=(Fa(Mw,Dw=_w),Mw);function Mw(t,e){var n=this;return(n=Dw.call(this)||this).serializer=t,n.We=e,n}function Fw(t){return Vb(t.integerValue||t.doubleValue)}function Uw(t){return Gb(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var jw=(qw.prototype.He=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].T(t))return!0;return!1},qw.prototype.isEqual=function(t){return pm(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},qw),Vw=function(t,e){this.field=t,this.transform=e};function qw(t){(this.fields=t).sort(jg.i)}function Bw(t,e){this.version=t,this.transformResults=e}var zw=(Gw.Ge=function(){return new Gw},Gw.exists=function(t){return new Gw(void 0,t)},Gw.updateTime=function(t){return new Gw(t)},Object.defineProperty(Gw.prototype,"je",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),Gw.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},Gw);function Gw(t,e){this.updateTime=t,this.exists=e}function Ww(t,e){return void 0!==t.updateTime?e instanceof E_&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof E_}function Hw(){}function Kw(t,e,n){return t instanceof Zw?new E_(t.key,n.version,t.value,{hasCommittedMutations:!0}):t instanceof t_?function(t,e,n){if(!Ww(t.Ke,e))return new T_(t.key,n.version);var r=r_(t,e);return new E_(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof o_?function(t,e,n){if(Og(null!=n.transformResults),!Ww(t.Ke,e))return new T_(t.key,n.version);var r=e,i=function(t,e,n){var r=[];Og(t.length===n.length);for(var i,o,a,s=0;s<n.length;s++){var u=t[s],c=u.transform,l=null;e instanceof E_&&(l=e.field(u.field)),r.push((i=c,o=l,a=n[s],i instanceof Cw?Nw(i,o):i instanceof xw?Rw(i,o):a))}return r}(t.fieldTransforms,e,n.transformResults),o=n.version,a=s_(t,r.data(),i);return new E_(t.key,o,a,{hasCommittedMutations:!0})}(t,e,n):new I_(t.key,n.version,{hasCommittedMutations:!0})}function Qw(t,e,n,r){return t instanceof Zw?function(t,e){if(!Ww(t.Ke,e))return e;var n=Xw(e);return new E_(t.key,n,t.value,{Ye:!0})}(t,e):t instanceof t_?function(t,e){if(!Ww(t.Ke,e))return e;var n=Xw(e),r=r_(t,e);return new E_(t.key,n,r,{Ye:!0})}(t,e):t instanceof o_?function(t,e,n,r){if(!Ww(t.Ke,e))return e;var i=e,o=function(t,e,n,r){for(var i,o,a,s,u,c,l,h=[],f=0,p=t;f<p.length;f++){var d=p[f],v=d.transform,y=null;n instanceof E_&&(y=n.field(d.field)),null===y&&r instanceof E_&&(y=r.field(d.field)),h.push((o=y,a=e,l=c=u=s=void 0,(i=v)instanceof Sw?(l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}},o&&(l.fields.__previous_value__=o),{mapValue:l}):i instanceof Cw?Nw(i,o):i instanceof xw?Rw(i,o):(c=Fw(u=Ew(s=i,o))+Fw(s.We),zb(u)&&zb(s.We)?$b(c):Jb(s.serializer,c))))}return h}(t.fieldTransforms,n,e,r),a=s_(t,i.data(),o);return new E_(t.key,i.version,a,{Ye:!0})}(t,e,r,n):(o=e,Ww((i=t).Ke,o)?new I_(i.key,Am.min()):o);var i,o}function Yw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Ke.isEqual(e.Ke)&&(0===t.type?t.value.isEqual(e.value):1===t.type?t.data.isEqual(e.data)&&t.Qe.isEqual(e.Qe):2!==t.type||pm(t.fieldTransforms,t.fieldTransforms,(function(t,e){return r=e,(n=t).field.isEqual(r.field)&&(i=n.transform,o=r.transform,i instanceof Cw&&o instanceof Cw||i instanceof xw&&o instanceof xw?pm(i.elements,o.elements,Db):i instanceof Lw&&o instanceof Lw?Db(i.We,o.We):i instanceof Sw&&o instanceof Sw);var n,r,i,o})))}function Xw(t){return t instanceof E_?t.version:Am.min()}var $w,Jw,Zw=(Fa(n_,Jw=Hw),n_),t_=(Fa(e_,$w=Hw),e_);function e_(t,e,n,r){var i=this;return(i=$w.call(this)||this).key=t,i.data=e,i.Qe=n,i.Ke=r,i.type=1,i}function n_(t,e,n){var r=this;return(r=Jw.call(this)||this).key=t,r.value=e,r.Ke=n,r.type=0,r}function r_(t,e){return n=t,r=e instanceof E_?e.data():f_.empty(),i=new p_(r),n.Qe.fields.forEach((function(t){var e;t.m()||(null!==(e=n.data.field(t))?i.set(t,e):i.delete(t))})),i.Je();var n,r,i}var i_,o_=(Fa(a_,i_=Hw),a_);function a_(t,e){var n=this;return(n=i_.call(this)||this).key=t,n.fieldTransforms=e,n.type=2,n.Ke=zw.exists(!0),n}function s_(t,e,n){for(var r=new p_(e),i=0;i<t.fieldTransforms.length;i++){var o=t.fieldTransforms[i];r.set(o.field,n[i])}return r.Je()}var u_,c_,l_=(Fa(g_,c_=Hw),g_),h_=(Fa(y_,u_=Hw),y_),f_=(v_.empty=function(){return new v_({mapValue:{}})},v_.prototype.field=function(t){if(t.m())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Kb(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t._()])||null},v_.prototype.isEqual=function(t){return Db(this.proto,t.proto)},v_),p_=(d_.prototype.set=function(t,e){return this.tn(t,e),this},d_.prototype.delete=function(t){return this.tn(t,null),this},d_.prototype.tn=function(t,e){for(var n=this.Ze,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map||(o=o&&10===Rb(o)?new Map(Object.entries(o.mapValue.fields||{})):new Map,n.set(i,o)),n=o}n.set(t._(),e)},d_.prototype.Je=function(){var t=this.en(jg.g(),this.Ze);return null!=t?new f_(t):this.Xe},d_.prototype.en=function(t,e){var n=this,r=!1,i=this.Xe.field(t),o=Kb(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){var a;e instanceof Map?null!=(a=n.en(t.child(i),e))&&(o[i]=a,r=!0):null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},d_);function d_(t){void 0===t&&(t=f_.empty()),this.Xe=t,this.Ze=new Map}function v_(t){this.proto=t}function y_(t,e){var n=this;return(n=u_.call(this)||this).key=t,n.Ke=e,n.type=4,n}function g_(t,e){var n=this;return(n=c_.call(this)||this).key=t,n.Ke=e,n.type=3,n}function m_(t,e){this.key=t,this.version=e}var b_,w_,__,E_=(Fa(k_,__=m_),k_.prototype.field=function(t){return this.nn.field(t)},k_.prototype.data=function(){return this.nn},k_.prototype.sn=function(){return this.nn.proto},k_.prototype.isEqual=function(t){return t instanceof k_&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Ye===t.Ye&&this.hasCommittedMutations===t.hasCommittedMutations&&this.nn.isEqual(t.nn)},k_.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.nn.toString()+", {hasLocalMutations: "+this.Ye+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(k_.prototype,"hasPendingWrites",{get:function(){return this.Ye||this.hasCommittedMutations},enumerable:!1,configurable:!0}),k_),I_=(Fa(A_,w_=m_),A_.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(A_.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),A_.prototype.isEqual=function(t){return t instanceof A_&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},A_),T_=(Fa(C_,b_=m_),C_.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(C_.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),C_.prototype.isEqual=function(t){return t instanceof C_&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},C_),S_=function(t,e,n,r,i,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.rn=n,this.filters=r,this.limit=i,this.on=o,this.startAt=a,this.endAt=s,this.an=null,this.cn=null,this.startAt,this.endAt};function C_(){return null!==b_&&b_.apply(this,arguments)||this}function A_(t,e,n){var r=this;return(r=w_.call(this,t,e)||this).hasCommittedMutations=!(!n||!n.hasCommittedMutations),r}function k_(t,e,n,r){var i=this;return(i=__.call(this,t,e)||this).nn=n,i.Ye=!!r.Ye,i.hasCommittedMutations=!!r.hasCommittedMutations,i}function N_(t,e,n,r,i,o,a,s){return new S_(t,e,n,r,i,o,a,s)}function O_(t){return new S_(t)}function x_(t){return!Rm(t.limit)&&"F"===t.on}function P_(t){return!Rm(t.limit)&&"L"===t.on}function R_(t){return 0<t.rn.length?t.rn[0].field:null}function D_(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.un())return r.field}return null}function L_(t){return null!==t.collectionGroup}function M_(t){var e=t;if(null===e.an){e.an=[];var n=D_(e),r=R_(e);if(null!==n&&null===r)n.p()||e.an.push(new _E(n)),e.an.push(new _E(jg.v(),"asc"));else{for(var i,o=!1,a=0,s=e.rn;a<s.length;a++){var u=s[a];e.an.push(u),u.field.p()&&(o=!0)}o||(i=0<e.rn.length?e.rn[e.rn.length-1].dir:"asc",e.an.push(new _E(jg.v(),i)))}}return e.an}function F_(t){var e=t;if(!e.cn)if("F"===e.on)e.cn=Fm(e.path,e.collectionGroup,M_(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=M_(e);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new _E(o.field,a))}var s=e.endAt?new pE(e.endAt.position,!e.endAt.before):null,u=e.startAt?new pE(e.startAt.position,!e.startAt.before):null;e.cn=Fm(e.path,e.collectionGroup,n,e.filters,e.limit,s,u)}return e.cn}function U_(t,e,n){return new S_(t.path,t.collectionGroup,t.rn.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function j_(t,e){return new S_(t.path,t.collectionGroup,t.rn.slice(),t.filters.slice(),t.limit,t.on,e,t.endAt)}function V_(t,e){return new S_(t.path,t.collectionGroup,t.rn.slice(),t.filters.slice(),t.limit,t.on,t.startAt,e)}function q_(t,e){return jm(F_(t),F_(e))&&t.on===e.on}function B_(t){return Um(F_(t))+"|lt:"+t.on}function z_(t){return"Query(target="+(n=(e=F_(t)).path.R(),null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),0<e.filters.length&&(n+=", filters: ["+e.filters.map((function(t){return(e=t).field.R()+" "+e.op+" "+Ub(e.value);var e})).join(", ")+"]"),Rm(e.limit)||(n+=", limit: "+e.limit),0<e.orderBy.length&&(n+=", orderBy: ["+e.orderBy.map((function(t){return(e=t).field.R()+" ("+e.dir+")";var e})).join(", ")+"]"),e.startAt&&(n+=", startAt: "+mE(e.startAt)),e.endAt&&(n+=", endAt: "+mE(e.endAt)),"Target("+n+"); limitType=")+t.on+")";var e,n}function G_(t,e){return i=t,o=e.key.path,(null!==i.collectionGroup?e.key.N(i.collectionGroup)&&i.path.T(o):Vg.F(i.path)?i.path.isEqual(o):i.path.I(o))&&function(e){for(var n=0,r=t.rn;n<r.length;n++){var i=r[n];if(!i.field.p()&&null===e.field(i.field))return}return 1}(e)&&function(e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return;return 1}(e)&&(r=e,(!(n=t).startAt||bE(n.startAt,M_(n),r))&&(!n.endAt||!bE(n.endAt,M_(n),r)));var n,r,i,o}function W_(t){return function(e,n){for(var r=!1,i=0,o=M_(t);i<o.length;i++){var a=o[i],s=function(t,e,n){var r=t.field.p()?Vg.i(e.key,n.key):function(t,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Mb(r,i):Ng()}(t.field,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ng()}}(a,e,n);if(0!==s)return s;r=r||a.field.p()}return 0}}var H_,K_=(Fa(Q_,H_=function(){}),Q_.create=function(t,e,n){if(t.p())return"in"===e||"not-in"===e?this.hn(t,e,n):new J_(t,e,n);if(Wb(n)){if("=="!==e&&"!="!==e)throw new _g(wg.INVALID_ARGUMENT,"Invalid query. Null only supports '==' and '!=' comparisons.");return new Q_(t,e,n)}if(Hb(n)){if("=="!==e&&"!="!==e)throw new _g(wg.INVALID_ARGUMENT,"Invalid query. NaN only supports '==' and '!=' comparisons.");return new Q_(t,e,n)}return"array-contains"===e?new cE(t,n):"in"===e?new lE(t,n):"not-in"===e?new hE(t,n):"array-contains-any"===e?new fE(t,n):new Q_(t,e,n)},Q_.hn=function(t,e,n){return new("in"===e?Z_:tE)(t,n)},Q_.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.ln(Mb(e,this.value)):null!==e&&Rb(this.value)===Rb(e)&&this.ln(Mb(e,this.value))},Q_.prototype.ln=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return 0<t;case">=":return 0<=t;default:return Ng()}},Q_.prototype.un=function(){return 0<=["<","<=",">",">=","!=","not-in"].indexOf(this.op)},Q_);function Q_(t,e,n){var r=this;return(r=H_.call(this)||this).field=t,r.op=e,r.value=n,r}var Y_,X_,$_,J_=(Fa(rE,$_=K_),rE.prototype.matches=function(t){var e=Vg.i(t.key,this.key);return this.ln(e)},rE),Z_=(Fa(nE,X_=K_),nE.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},nE),tE=(Fa(eE,Y_=K_),eE.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},eE);function eE(t,e){var n=this;return(n=Y_.call(this,t,"not-in",e)||this).keys=iE(0,e),n}function nE(t,e){var n=this;return(n=X_.call(this,t,"in",e)||this).keys=iE(0,e),n}function rE(t,e,n){var r=this;return(r=$_.call(this,t,e,n)||this).key=Vg.C(n.referenceValue),r}function iE(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return Vg.C(t.referenceValue)}))}var oE,aE,sE,uE,cE=(Fa(gE,uE=K_),gE.prototype.matches=function(t){var e=t.field(this.field);return Gb(e)&&Lb(e.arrayValue,this.value)},gE),lE=(Fa(yE,sE=K_),yE.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Lb(this.value.arrayValue,e)},yE),hE=(Fa(vE,aE=K_),vE.prototype.matches=function(t){if(Lb(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!Lb(this.value.arrayValue,e)},vE),fE=(Fa(dE,oE=K_),dE.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!Gb(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return Lb(e.value.arrayValue,t)}))},dE),pE=function(t,e){this.position=t,this.before=e};function dE(t,e){return oE.call(this,t,"array-contains-any",e)||this}function vE(t,e){return aE.call(this,t,"not-in",e)||this}function yE(t,e){return sE.call(this,t,"in",e)||this}function gE(t,e){return uE.call(this,t,"array-contains",e)||this}function mE(t){return(t.before?"b":"a")+":"+t.position.map(Ub).join(",")}function bE(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.p()?Vg.i(Vg.C(a.referenceValue),n.key):Mb(a,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function wE(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Db(t.position[n],e.position[n]))return!1;return!0}var _E=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function EE(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}var IE,TE=(RE.prototype.reset=function(){this.Tn=0},RE.prototype.An=function(){this.Tn=this.mn},RE.prototype.Rn=function(t){var e=this;this.cancel();var n=Math.floor(this.Tn+this.Pn()),r=Math.max(0,Date.now()-this.In),i=Math.max(0,n-r);0<i&&Sg("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Tn+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.En=this._n.gn(this.fn,i,(function(){return e.In=Date.now(),t()})),this.Tn*=this.wn,this.Tn<this.dn&&(this.Tn=this.dn),this.Tn>this.mn&&(this.Tn=this.mn)},RE.prototype.yn=function(){null!==this.En&&(this.En.Vn(),this.En=null)},RE.prototype.cancel=function(){null!==this.En&&(this.En.cancel(),this.En=null)},RE.prototype.Pn=function(){return(Math.random()-.5)*this.Tn},RE),SE=(PE.prototype.catch=function(t){return this.next(void 0,t)},PE.prototype.next=function(t,e){var n=this;return this.Sn&&Ng(),this.Sn=!0,this.vn?this.error?this.Dn(e,this.error):this.Cn(t,this.result):new PE((function(r,i){n.pn=function(e){n.Cn(t,e).next(r,i)},n.bn=function(t){n.Dn(e,t).next(r,i)}}))},PE.prototype.Nn=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},PE.prototype.Fn=function(t){try{var e=t();return e instanceof PE?e:PE.resolve(e)}catch(t){return PE.reject(t)}},PE.prototype.Cn=function(t,e){return t?this.Fn((function(){return t(e)})):PE.resolve(e)},PE.prototype.Dn=function(t,e){return t?this.Fn((function(){return t(e)})):PE.reject(e)},PE.resolve=function(t){return new PE((function(e,n){e(t)}))},PE.reject=function(t){return new PE((function(e,n){n(t)}))},PE.$n=function(t){return new PE((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(t){return n(t)}))})),o=!0,i===r&&e()}))},PE.xn=function(t){for(var e=PE.resolve(!1),n=0,r=t;n<r.length;n++)!function(t){e=e.next((function(e){return e?PE.resolve(e):t()}))}(r[n]);return e},PE.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.$n(r)},PE),CE=(xE.delete=function(t){return Sg("SimpleDb","Removing database:",t),jE(window.indexedDB.deleteDatabase(t)).Nn()},xE.On=function(){if("undefined"==typeof indexedDB)return!1;if(xE.Ln())return!0;var t=ns(),e=xE.Mn(t),n=0<e&&e<10,r=xE.Bn(t),i=0<r&&r<4.5;return!(0<t.indexOf("MSIE ")||0<t.indexOf("Trident/")||0<t.indexOf("Edge/")||n||i)},xE.Ln=function(){var t;return"undefined"!=typeof n&&"YES"===(null===(t=Object({NODE_ENV:"production",PUBLIC_URL:"/Transport",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}))||void 0===t?void 0:t.qn)},xE.Un=function(t,e){return t.store(e)},xE.Mn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},xE.Bn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},xE.prototype.Qn=function(){return ja(this,void 0,void 0,(function(){var t,e=this;return Va(this,(function(n){switch(n.label){case 0:return this.db?[3,2]:(Sg("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,n){var r=indexedDB.open(e.name,e.version);r.onsuccess=function(e){var n=e.target.result;t(n)},r.onblocked=function(){n(new kE("Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=function(t){var e=t.target.error;"VersionError"===e.name?n(new _g(wg.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):n(new kE(e))},r.onupgradeneeded=function(t){Sg("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',t.oldVersion);var n=t.target.result;e.kn.createOrUpgrade(n,r.transaction,t.oldVersion,e.version).next((function(){Sg("SimpleDb","Database upgrade to version "+e.version+" complete")}))}}))]);case 1:t.db=n.sent(),n.label=2;case 2:return[2,(this.Wn&&(this.db.onversionchange=function(t){return e.Wn(t)}),this.db)]}}))}))},xE.prototype.jn=function(t){this.Wn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},xE.prototype.runTransaction=function(t,e,n){return ja(this,void 0,void 0,(function(){var r,i,o,a,s;return Va(this,(function(u){switch(u.label){case 0:r="readonly"===t,i=0,o=function(){var t,o,s,u,c;return Va(this,(function(l){switch(l.label){case 0:++i,l.label=1;case 1:return l.trys.push([1,4,,5]),[4,a.Qn()];case 2:return a.db=l.sent(),t=LE.open(a.db,r?"readonly":"readwrite",e),o=n(t).catch((function(e){return t.abort(e),SE.reject(e)})).Nn(),s={},o.catch((function(){})),[4,t.Kn];case 3:return[2,(s.value=(l.sent(),o),s)];case 4:return u=l.sent(),c="FirebaseError"!==u.name&&i<3,Sg("SimpleDb","Transaction failed with error:",u.message,"Retrying:",c),a.close(),c?[3,5]:[2,{value:Promise.reject(u)}];case 5:return[2]}}))},a=this,u.label=1;case 1:return[5,o()];case 2:if("object"==typeof(s=u.sent()))return[2,s.value];u.label=3;case 3:return[3,1];case 4:return[2]}}))}))},xE.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},xE),AE=(Object.defineProperty(OE.prototype,"vn",{get:function(){return this.zn},enumerable:!1,configurable:!0}),Object.defineProperty(OE.prototype,"Yn",{get:function(){return this.Hn},enumerable:!1,configurable:!0}),Object.defineProperty(OE.prototype,"cursor",{set:function(t){this.Gn=t},enumerable:!1,configurable:!0}),OE.prototype.done=function(){this.zn=!0},OE.prototype.Jn=function(t){this.Hn=t},OE.prototype.delete=function(){return jE(this.Gn.delete())},OE),kE=(Fa(NE,IE=_g),NE);function NE(t){var e=this;return(e=IE.call(this,wg.UNAVAILABLE,"IndexedDB transaction failed: "+t)||this).name="IndexedDbTransactionError",e}function OE(t){this.Gn=t,this.zn=!1,this.Hn=null}function xE(t,e,n){this.name=t,this.version=e,this.kn=n,12.2===xE.Mn(ns())&&Cg("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}function PE(t){var e=this;this.pn=null,this.bn=null,this.result=void 0,this.error=void 0,this.vn=!1,this.Sn=!1,t((function(t){e.vn=!0,e.result=t,e.pn&&e.pn(t)}),(function(t){e.vn=!0,e.error=t,e.bn&&e.bn(t)}))}function RE(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this._n=t,this.fn=e,this.dn=n,this.wn=r,this.mn=i,this.Tn=0,this.En=null,this.In=Date.now(),this.reset()}function DE(t){return"IndexedDbTransactionError"===t.name}var LE=(UE.open=function(t,e,n){try{return new UE(t.transaction(n,e))}catch(t){throw new kE(t)}},Object.defineProperty(UE.prototype,"Kn",{get:function(){return this.Xn.promise},enumerable:!1,configurable:!0}),UE.prototype.abort=function(t){t&&this.Xn.reject(t),this.aborted||(Sg("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},UE.prototype.store=function(t){var e=this.transaction.objectStore(t);return new ME(e)},UE),ME=(FE.prototype.put=function(t,e){return jE(void 0!==e?(Sg("SimpleDb","PUT",this.store.name,t,e),this.store.put(e,t)):(Sg("SimpleDb","PUT",this.store.name,"<auto-key>",t),this.store.put(t)))},FE.prototype.add=function(t){return Sg("SimpleDb","ADD",this.store.name,t,t),jE(this.store.add(t))},FE.prototype.get=function(t){var e=this;return jE(this.store.get(t)).next((function(n){return void 0===n&&(n=null),Sg("SimpleDb","GET",e.store.name,t,n),n}))},FE.prototype.delete=function(t){return Sg("SimpleDb","DELETE",this.store.name,t),jE(this.store.delete(t))},FE.prototype.count=function(){return Sg("SimpleDb","COUNT",this.store.name),jE(this.store.count())},FE.prototype.Zn=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.ts(n,(function(t,e){r.push(e)})).next((function(){return r}))},FE.prototype.es=function(t,e){Sg("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.ns=!1;var r=this.cursor(n);return this.ts(r,(function(t,e,n){return n.delete()}))},FE.prototype.ss=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.ts(r,e)},FE.prototype.rs=function(t){var e=this.cursor({});return new SE((function(n,r){e.onerror=function(t){var e=qE(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},FE.prototype.ts=function(t,e){var n=[];return new SE((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i,o,a,s=t.target.result;s?(i=new AE(s),(o=e(s.primaryKey,s.value,i))instanceof SE&&(a=o.catch((function(t){return i.done(),SE.reject(t)})),n.push(a)),i.vn?r():null===i.Yn?s.continue():s.continue(i.Yn)):r()}})).next((function(){return SE.$n(n)}))},FE.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},FE.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.ns?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},FE);function FE(t){this.store=t}function UE(t){var e=this;this.transaction=t,this.aborted=!1,this.Xn=new EE,this.transaction.oncomplete=function(){e.Xn.resolve()},this.transaction.onabort=function(){t.error?e.Xn.reject(new kE(t.error)):e.Xn.resolve()},this.transaction.onerror=function(t){var n=qE(t.target.error);e.Xn.reject(new kE(n))}}function jE(t){return new SE((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=qE(t.target.error);n(e)}}))}var VE=!1;function qE(t){var e=CE.Mn(ns());if(12.2<=e&&e<13){var n="An internal error was encountered in the Indexed Database server";if(0<=t.message.indexOf(n)){var r=new _g("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return VE||(VE=!0,setTimeout((function(){throw r}),0)),r}}return t}function BE(){return"undefined"!=typeof window?window:null}function zE(){return"undefined"!=typeof document?document:null}var GE=(KE.ls=function(t,e,n,r,i){var o=new KE(t,e,Date.now()+n,r,i);return o.start(n),o},KE.prototype.start=function(t){var e=this;this._s=setTimeout((function(){return e.fs()}),t)},KE.prototype.Vn=function(){return this.fs()},KE.prototype.cancel=function(t){null!==this._s&&(this.clearTimeout(),this.hs.reject(new _g(wg.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},KE.prototype.fs=function(){var t=this;this.os.ds((function(){return null!==t._s?(t.clearTimeout(),t.op().then((function(e){return t.hs.resolve(e)}))):Promise.resolve()}))},KE.prototype.clearTimeout=function(){null!==this._s&&(this.us(this),clearTimeout(this._s),this._s=null)},KE),WE=(Object.defineProperty(HE.prototype,"Vs",{get:function(){return this.Es},enumerable:!1,configurable:!0}),HE.prototype.ds=function(t){this.enqueue(t)},HE.prototype.ps=function(t){this.bs(),this.vs(t)},HE.prototype.Ss=function(){var t;this.Es||(this.Es=!0,(t=zE())&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.ys))},HE.prototype.enqueue=function(t){return this.bs(),this.Es?new Promise((function(t){})):this.vs(t)},HE.prototype.Ds=function(t){var e=this;this.Ts.push(t),this.ds((function(){return e.Cs()}))},HE.prototype.Cs=function(){return ja(this,void 0,void 0,(function(){var t,e=this;return Va(this,(function(n){switch(n.label){case 0:if(0===this.Ts.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Ts[0]()];case 2:return n.sent(),this.Ts.shift(),this.gs.reset(),[3,4];case 3:if(!DE(t=n.sent()))throw t;return Sg("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:0<this.Ts.length&&this.gs.Rn((function(){return e.Cs()})),n.label=5;case 5:return[2]}}))}))},HE.prototype.vs=function(t){var e=this,n=this.ws.then((function(){return e.Rs=!0,t().catch((function(t){throw e.As=t,e.Rs=!1,Cg("INTERNAL UNHANDLED ERROR: ",(r=(n=t).message||"",n.stack&&(r=n.stack.includes(n.message)?n.stack:n.message+"\n"+n.stack),r)),t;var n,r})).then((function(t){return e.Rs=!1,t}))}));return this.ws=n},HE.prototype.gn=function(t,e,n){var r=this;this.bs(),-1<this.Ps.indexOf(t)&&(e=0);var i=GE.ls(this,t,e,n,(function(t){return r.Ns(t)}));return this.Is.push(i),i},HE.prototype.bs=function(){this.As&&Ng()},HE.prototype.Fs=function(){},HE.prototype.$s=function(){return ja(this,void 0,void 0,(function(){var t;return Va(this,(function(e){switch(e.label){case 0:return[4,t=this.ws];case 1:e.sent(),e.label=2;case 2:if(t!==this.ws)return[3,0];e.label=3;case 3:return[2]}}))}))},HE.prototype.xs=function(t){for(var e=0,n=this.Is;e<n.length;e++)if(n[e].fn===t)return!0;return!1},HE.prototype.ks=function(t){var e=this;return this.$s().then((function(){e.Is.sort((function(t,e){return t.cs-e.cs}));for(var n=0,r=e.Is;n<r.length;n++){var i=r[n];if(i.Vn(),"all"!==t&&i.fn===t)break}return e.$s()}))},HE.prototype.Ms=function(t){this.Ps.push(t)},HE.prototype.Ns=function(t){var e=this.Is.indexOf(t);this.Is.splice(e,1)},HE);function HE(){var t=this;this.ws=Promise.resolve(),this.Ts=[],this.Es=!1,this.Is=[],this.As=null,this.Rs=!1,this.Ps=[],this.gs=new TE(this,"async_queue_retry"),this.ys=function(){var e=zE();e&&Sg("AsyncQueue","Visibility state changed to  ",e.visibilityState),t.gs.yn()};var e=zE();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.ys)}function KE(t,e,n,r,i){this.os=t,this.fn=e,this.cs=n,this.op=r,this.us=i,this.hs=new EE,this.then=this.hs.promise.then.bind(this.hs.promise),this.hs.promise.catch((function(t){}))}function QE(t,e){if(Cg("AsyncQueue",e+": "+t),DE(t))return new _g(wg.UNAVAILABLE,e+": "+t);throw t}function YE(){this.Os=void 0,this.listeners=[]}function XE(){this.Ls=new Sm(B_,q_),this.onlineState="Unknown",this.Bs=new Set}function $E(t,e){return ja(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return Va(this,(function(c){switch(c.label){case 0:if(n=t,r=e.query,i=!1,(o=n.Ls.get(r))||(i=!0,o=new YE),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.qs(r)];case 2:return a.Os=c.sent(),[3,4];case 3:return s=c.sent(),u=QE(s,"Initialization of query '"+z_(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.Ls.set(r,o),o.listeners.push(e),e.Us(n.onlineState),o.Os&&e.Qs(o.Os)&&ZE(n),[2]}}))}))}function JE(t,e){return ja(this,void 0,void 0,(function(){var n,r,i,o,a;return Va(this,(function(s){return n=t,r=e.query,i=!1,(o=n.Ls.get(r))&&0<=(a=o.listeners.indexOf(e))&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.Ls.delete(r),n.Ws(r))]:[2]}))}))}function ZE(t){t.Bs.forEach((function(t){t.next()}))}var tI=(rI.prototype.Qs=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new pb(t.query,t.docs,t.Ut,e,t.Qt,t.fromCache,t.Wt,!0)}var o=!1;return this.Ks?this.zs(t)&&(this.js.next(t),o=!0):this.Hs(t,this.onlineState)&&(this.Ys(t),o=!0),this.Gs=t,o},rI.prototype.onError=function(t){this.js.error(t)},rI.prototype.Us=function(t){this.onlineState=t;var e=!1;return this.Gs&&!this.Ks&&this.Hs(this.Gs,t)&&(this.Ys(this.Gs),e=!0),e},rI.prototype.Hs=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.Js&&n||t.docs.m()&&"Offline"!==e)},rI.prototype.zs=function(t){if(0<t.docChanges.length)return!0;var e=this.Gs&&this.Gs.hasPendingWrites!==t.hasPendingWrites;return!(!t.Wt&&!e)&&!0===this.options.includeMetadataChanges},rI.prototype.Ys=function(t){t=pb.Kt(t.query,t.docs,t.Qt,t.fromCache),this.Ks=!0,this.js.next(t)},rI),eI=(nI.prototype.Xs=function(){return null!=this.uid},nI.prototype.Zs=function(){return this.Xs()?"uid:"+this.uid:"anonymous-user"},nI.prototype.isEqual=function(t){return t.uid===this.uid},nI);function nI(t){this.uid=t}function rI(t,e,n){this.query=t,this.js=e,this.Ks=!1,this.Gs=null,this.onlineState="Unknown",this.options=n||{}}eI.UNAUTHENTICATED=new eI(null),eI.ti=new eI("google-credentials-uid"),eI.ei=new eI("first-party-uid");var iI=(oI.prototype.si=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},oI.prototype.next=function(){var t=++this.previousValue;return this.ii&&this.ii(t),t},oI);function oI(t,e){var n=this;this.previousValue=t,e&&(e.ni=function(t){return n.si(t)},this.ii=function(t){return e.ri(t)})}function aI(t,e){return"firestore_clients_"+t+"_"+e}function sI(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.Xs()&&(r+="_"+e.uid),r}function uI(t,e){return"firestore_targets_"+t+"_"+e}iI.oi=-1;var cI=(LI.ai=function(t,e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new _g(r.error.code,r.error.message)),i?new LI(t,e,r.state,o):(Cg("SharedClientState","Failed to parse mutation state for ID '"+e+"': "+n),null)},LI.prototype.ci=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},LI),lI=(DI.ai=function(t,e){var n=JSON.parse(e),r="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error),i=void 0;return r&&n.error&&(r="string"==typeof n.error.message&&"string"==typeof n.error.code)&&(i=new _g(n.error.code,n.error.message)),r?new DI(t,n.state,i):(Cg("SharedClientState","Failed to parse target state for ID '"+t+"': "+e),null)},DI.prototype.ci=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},DI),hI=(RI.ai=function(t,e){for(var n=JSON.parse(e),r="object"==typeof n&&n.activeTargetIds instanceof Array,i=lb,o=0;r&&o<n.activeTargetIds.length;++o)r=Lm(n.activeTargetIds[o]),i=i.add(n.activeTargetIds[o]);return r?new RI(t,i):(Cg("SharedClientState","Failed to parse client data for instance '"+t+"': "+e),null)},RI),fI=(PI.ai=function(t){var e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new PI(e.clientId,e.onlineState):(Cg("SharedClientState","Failed to parse online state: "+t),null)},PI),pI=(xI.prototype.ui=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},xI.prototype.hi=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},xI.prototype.ci=function(){var t={activeTargetIds:this.activeTargetIds.A(),updateTimeMs:Date.now()};return JSON.stringify(t)},xI),dI=(OI.On=function(t){return!(!t||!t.localStorage)},OI.prototype.start=function(){return ja(this,void 0,void 0,(function(){var t,e,n,r,i,o,a,s,u,c,l,h=this;return Va(this,(function(f){switch(f.label){case 0:return[4,this._i.Vi()];case 1:for(t=f.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.li&&(i=this.getItem(aI(this.persistenceKey,r)))&&(o=hI.ai(r,i))&&(this.mi=this.mi.rt(o.clientId,o));for(this.pi(),(a=this.storage.getItem(this.yi))&&(s=this.bi(a))&&this.vi(s),u=0,c=this.Ei;u<c.length;u++)l=c[u],this.wi(l);return this.Ei=[],this.window.addEventListener("unload",(function(){return h.Si()})),this.Ti=!0,[2]}}))}))},OI.prototype.ri=function(t){this.setItem(this.Ai,JSON.stringify(t))},OI.prototype.Di=function(){return this.Ci(this.mi)},OI.prototype.Ni=function(t){var e=!1;return this.mi.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},OI.prototype.Fi=function(t){this.$i(t,"pending")},OI.prototype.xi=function(t,e,n){this.$i(t,e,n),this.ki(t)},OI.prototype.Mi=function(t){var e,n,r="not-current";return this.Ni(t)&&(!(e=this.storage.getItem(uI(this.persistenceKey,t)))||(n=lI.ai(t,e))&&(r=n.state)),this.Oi.ui(t),this.pi(),r},OI.prototype.Li=function(t){this.Oi.hi(t),this.pi()},OI.prototype.Bi=function(t){return this.Oi.activeTargetIds.has(t)},OI.prototype.qi=function(t){this.removeItem(uI(this.persistenceKey,t))},OI.prototype.Ui=function(t,e,n){this.Qi(t,e,n)},OI.prototype.Wi=function(t,e,n){var r=this;e.forEach((function(t){r.ki(t)})),this.currentUser=t,n.forEach((function(t){r.Fi(t)}))},OI.prototype.ji=function(t){this.Ki(t)},OI.prototype.Si=function(){this.Ti&&(this.window.removeEventListener("storage",this.di),this.removeItem(this.Ii),this.Ti=!1)},OI.prototype.getItem=function(t){var e=this.storage.getItem(t);return Sg("SharedClientState","READ",t,e),e},OI.prototype.setItem=function(t,e){Sg("SharedClientState","SET",t,e),this.storage.setItem(t,e)},OI.prototype.removeItem=function(t){Sg("SharedClientState","REMOVE",t),this.storage.removeItem(t)},OI.prototype.wi=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Sg("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ii)return void Cg("Received WebStorage notification for local change. Another client might have garbage-collected our state");this._n.Ds((function(){return ja(e,void 0,void 0,(function(){var t,e,r,i,o,a;return Va(this,(function(s){if(this.Ti){if(null!==n.key)if(this.Ri.test(n.key)){if(null==n.newValue)return t=this.Gi(n.key),[2,this.zi(t,null)];if(e=this.Hi(n.key,n.newValue))return[2,this.zi(e.clientId,e)]}else if(this.Pi.test(n.key)){if(null!==n.newValue&&(r=this.Yi(n.key,n.newValue)))return[2,this.Ji(r)]}else if(this.gi.test(n.key)){if(null!==n.newValue&&(i=this.Xi(n.key,n.newValue)))return[2,this.Zi(i)]}else if(n.key===this.yi){if(null!==n.newValue&&(o=this.bi(n.newValue)))return[2,this.vi(o)]}else n.key===this.Ai&&(a=function(t){var e=iI.oi;if(null!=t)try{var n=JSON.parse(t);Og("number"==typeof n),e=n}catch(t){Cg("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==iI.oi&&this.ni(a)}else this.Ei.push(n);return[2]}))}))}))}},Object.defineProperty(OI.prototype,"Oi",{get:function(){return this.mi.get(this.li)},enumerable:!1,configurable:!0}),OI.prototype.pi=function(){this.setItem(this.Ii,this.Oi.ci())},OI.prototype.$i=function(t,e,n){var r=new cI(this.currentUser,t,e,n),i=sI(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ci())},OI.prototype.ki=function(t){var e=sI(this.persistenceKey,this.currentUser,t);this.removeItem(e)},OI.prototype.Ki=function(t){var e={clientId:this.li,onlineState:t};this.storage.setItem(this.yi,JSON.stringify(e))},OI.prototype.Qi=function(t,e,n){var r=uI(this.persistenceKey,t),i=new lI(t,e,n);this.setItem(r,i.ci())},OI.prototype.Gi=function(t){var e=this.Ri.exec(t);return e?e[1]:null},OI.prototype.Hi=function(t,e){var n=this.Gi(t);return hI.ai(n,e)},OI.prototype.Yi=function(t,e){var n=this.Pi.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return cI.ai(new eI(i),r,e)},OI.prototype.Xi=function(t,e){var n=this.gi.exec(t),r=Number(n[1]);return lI.ai(r,e)},OI.prototype.bi=function(t){return fI.ai(t)},OI.prototype.Ji=function(t){return ja(this,void 0,void 0,(function(){return Va(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this._i.tr(t.batchId,t.state,t.error)]:(Sg("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},OI.prototype.Zi=function(t){return this._i.er(t.targetId,t.state,t.error)},OI.prototype.zi=function(t,e){var n=this,r=e?this.mi.rt(t,e):this.mi.remove(t),i=this.Ci(this.mi),o=this.Ci(r),a=[],s=[];return o.forEach((function(t){i.has(t)||a.push(t)})),i.forEach((function(t){o.has(t)||s.push(t)})),this._i.nr(a,s).then((function(){n.mi=r}))},OI.prototype.vi=function(t){this.mi.get(t.clientId)&&this.fi(t.onlineState)},OI.prototype.Ci=function(t){var e=lb;return t.forEach((function(t,n){e=e.xt(n.activeTargetIds)})),e},OI),vI=(NI.prototype.Fi=function(t){},NI.prototype.xi=function(t,e,n){},NI.prototype.Mi=function(t){return this.sr.ui(t),this.ir[t]||"not-current"},NI.prototype.Ui=function(t,e,n){this.ir[t]=e},NI.prototype.Li=function(t){this.sr.hi(t)},NI.prototype.Bi=function(t){return this.sr.activeTargetIds.has(t)},NI.prototype.qi=function(t){delete this.ir[t]},NI.prototype.Di=function(){return this.sr.activeTargetIds},NI.prototype.Ni=function(t){return this.sr.activeTargetIds.has(t)},NI.prototype.start=function(){return this.sr=new pI,Promise.resolve()},NI.prototype.Wi=function(t,e,n){},NI.prototype.ji=function(t){},NI.prototype.Si=function(){},NI.prototype.ri=function(t){},NI),yI=(kI.prototype.ar=function(t,e,n){for(var r=n.cr,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=Kw(o,e,r[i]))}return e},kI.prototype.ur=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=Qw(i,e,e,this.rr))}for(var o=e,a=0,s=this.mutations;a<s.length;a++){var u=s[a];u.key.isEqual(t)&&(e=Qw(u,e,o,this.rr))}return e},kI.prototype.hr=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.ur(r.key,t.get(r.key));i&&(n=n.rt(r.key,i))})),n},kI.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),cb())},kI.prototype.isEqual=function(t){return this.batchId===t.batchId&&pm(this.mutations,t.mutations,Yw)&&pm(this.baseMutations,t.baseMutations,Yw)},kI),gI=(AI.from=function(t,e,n){Og(t.mutations.length===n.length);for(var r=sb,i=t.mutations,o=0;o<i.length;o++)r=r.rt(i[o].key,n[o].version);return new AI(t,e,n,r)},AI),mI=(Object.defineProperty(CI.prototype,"readTime",{get:function(){return this.mr},set:function(t){this.mr=t},enumerable:!1,configurable:!0}),CI.prototype.Tr=function(t,e){this.Er(),this.readTime=e,this.dr.set(t.key,t)},CI.prototype.Ir=function(t,e){this.Er(),e&&(this.readTime=e),this.dr.set(t,null)},CI.prototype.Ar=function(t,e){this.Er();var n=this.dr.get(e);return void 0!==n?SE.resolve(n):this.Rr(t,e)},CI.prototype.getEntries=function(t,e){return this.Pr(t,e)},CI.prototype.apply=function(t){return this.Er(),this.wr=!0,this.gr(t)},CI.prototype.Er=function(){},CI),bI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",wI=(SI.prototype.Vr=function(t){this.yr.push(t)},SI.prototype.pr=function(){this.yr.forEach((function(t){return t()}))},SI),_I=(TI.prototype.Dr=function(t,e){var n=this;return this.vr.Cr(t,e).next((function(r){return n.Nr(t,e,r)}))},TI.prototype.Nr=function(t,e,n){return this.br.Ar(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].ur(e,t);return t}))},TI.prototype.Fr=function(t,e,n){var r=rb;return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].ur(t,e);r=r.rt(t,e)})),r},TI.prototype.$r=function(t,e){var n=this;return this.br.getEntries(t,e).next((function(e){return n.kr(t,e)}))},TI.prototype.kr=function(t,e){var n=this;return this.vr.Mr(t,e).next((function(r){var i=n.Fr(t,e,r),o=rb;return i.forEach((function(t,e){e=e||new I_(t,Am.min()),o=o.rt(t,e)})),o}))},TI.prototype.Or=function(t,e,n){return r=e,Vg.F(r.path)&&null===r.collectionGroup&&0===r.filters.length?this.Lr(t,e.path):L_(e)?this.Br(t,e,n):this.qr(t,e,n);var r},TI.prototype.Lr=function(t,e){return this.Dr(t,new Vg(e)).next((function(t){var e=ab;return t instanceof E_&&(e=e.rt(t.key,t)),e}))},TI.prototype.Br=function(t,e,n){var r=this,i=e.collectionGroup,o=ab;return this.Sr.Ur(t,i).next((function(a){return SE.forEach(a,(function(a){var s,u,c=(s=e,u=a.child(i),new S_(u,null,s.rn.slice(),s.filters.slice(),s.limit,s.on,s.startAt,s.endAt));return r.qr(t,c,n).next((function(t){t.forEach((function(t,e){o=o.rt(t,e)}))}))})).next((function(){return o}))}))},TI.prototype.qr=function(t,e,n){var r,i,o=this;return this.br.Or(t,e,n).next((function(n){return r=n,o.vr.Qr(t,e)})).next((function(e){return i=e,o.Wr(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c),h=Qw(u,l,l,o.rr);r=h instanceof E_?r.rt(c,h):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){G_(e,n)||(r=r.remove(t))})),r}))},TI.prototype.Wr=function(t,e,n){for(var r=cb(),i=0,o=e;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof t_&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.br.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof E_&&(c=c.rt(t,e))})),c}))},TI),EI=(II.Gr=function(t,e){for(var n=cb(),r=cb(),i=0,o=e.docChanges;i<o.length;i++){var a=o[i];switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}}return new II(t,e.fromCache,n,r)},II);function II(t,e,n,r){this.targetId=t,this.fromCache=e,this.jr=n,this.Kr=r}function TI(t,e,n){this.br=t,this.vr=e,this.Sr=n}function SI(){this.yr=[]}function CI(){this.dr=new Sm((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.wr=!1}function AI(t,e,n,r){this.batch=t,this.lr=e,this.cr=n,this._r=r}function kI(t,e,n,r){this.batchId=t,this.rr=e,this.baseMutations=n,this.mutations=r}function NI(){this.sr=new pI,this.ir={},this.fi=null,this.ni=null}function OI(t,e,n,r,i){this.window=t,this._n=e,this.persistenceKey=n,this.li=r,this._i=null,this.fi=null,this.ni=null,this.di=this.wi.bind(this),this.mi=new Qm(fm),this.Ti=!1,this.Ei=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Ii=aI(this.persistenceKey,this.li),this.Ai="firestore_sequence_number_"+this.persistenceKey,this.mi=this.mi.rt(this.li,new pI),this.Ri=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Pi=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.gi=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.yi="firestore_online_state_"+this.persistenceKey,this.window.addEventListener("storage",this.di)}function xI(){this.activeTargetIds=lb}function PI(t,e){this.clientId=t,this.onlineState=e}function RI(t,e){this.clientId=t,this.activeTargetIds=e}function DI(t,e,n){this.targetId=t,this.state=e,this.error=n}function LI(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}function MI(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=fm(n,i);return 0===a?fm(r,o):a}var FI=(qI.prototype.Yr=function(){return++this.Hr},qI.prototype.Jr=function(t){var e,n=[t,this.Yr()];this.buffer.size<this.zr?this.buffer=this.buffer.add(n):MI(n,e=this.buffer.last())<0&&(this.buffer=this.buffer.delete(e).add(n))},Object.defineProperty(qI.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),qI),UI={Xr:!1,Zr:0,eo:0,no:0},jI=(VI.oo=function(t){return new VI(t,VI.ao,VI.co)},VI);function VI(t,e,n){this.so=t,this.io=e,this.ro=n}function qI(t){this.zr=t,this.buffer=new eb(MI),this.Hr=0}jI.uo=-1,jI.ho=1048576,jI.lo=41943040,jI.ao=10,jI.co=1e3,jI._o=new jI(jI.lo,jI.ao,jI.co),jI.fo=new jI(jI.uo,0,0);var BI=(WI.prototype.start=function(t){this.do.params.so!==jI.uo&&this.To(t)},WI.prototype.stop=function(){this.mo&&(this.mo.cancel(),this.mo=null)},Object.defineProperty(WI.prototype,"Ti",{get:function(){return null!==this.mo},enumerable:!1,configurable:!0}),WI.prototype.To=function(t){var e=this,n=this.wo?3e5:6e4;Sg("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.mo=this.os.gn("lru_garbage_collection",n,(function(){return ja(e,void 0,void 0,(function(){var e;return Va(this,(function(n){switch(n.label){case 0:this.mo=null,this.wo=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Eo(this.do)];case 2:return n.sent(),[3,7];case 3:return DE(e=n.sent())?(Sg("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,wS(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.To(t)];case 8:return n.sent(),[2]}}))}))}))},WI),zI=(GI.prototype.Ao=function(t,e){return this.Io.Ro(t).next((function(t){return Math.floor(e/100*t)}))},GI.prototype.Po=function(t,e){var n=this;if(0===e)return SE.resolve(iI.oi);var r=new FI(e);return this.Io.De(t,(function(t){return r.Jr(t.sequenceNumber)})).next((function(){return n.Io.yo(t,(function(t){return r.Jr(t)}))})).next((function(){return r.maxValue}))},GI.prototype.Vo=function(t,e,n){return this.Io.Vo(t,e,n)},GI.prototype.po=function(t,e){return this.Io.po(t,e)},GI.prototype.bo=function(t,e){var n=this;return this.params.so===jI.uo?(Sg("LruGarbageCollector","Garbage collection skipped; disabled"),SE.resolve(UI)):this.vo(t).next((function(r){return r<n.params.so?(Sg("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.so),UI):n.So(t,e)}))},GI.prototype.vo=function(t){return this.Io.vo(t)},GI.prototype.So=function(t,e){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.Ao(t,this.params.io).next((function(e){return r=e>c.params.ro?(Sg("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.ro+" from "+e),c.params.ro):e,o=Date.now(),c.Po(t,r)})).next((function(r){return n=r,a=Date.now(),c.Vo(t,n,e)})).next((function(e){return i=e,s=Date.now(),c.po(t,n)})).next((function(t){return u=Date.now(),Tg()<=Gs.DEBUG&&Sg("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+t+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),SE.resolve({Xr:!0,Zr:r,eo:i,no:t})}))},GI);function GI(t,e){this.Io=t,this.params=e}function WI(t,e){this.do=t,this.os=e,this.wo=!1,this.mo=null}function HI(t){for(var e="",n=0;n<t.length;n++)0<e.length&&(e=KI(e)),e=function(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}(t.get(n),e);return KI(e)}function KI(t){return t+"\x01\x01"}function QI(t){var e=t.length;if(Og(2<=e),2===e)return Og("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Fg.g();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("\x01",o);switch((a<0||n<a)&&Ng(),t.charAt(a+1)){case"\x01":var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=t.substring(o,a),i+="\0";break;case"\x11":i+=t.substring(o,a+1);break;default:Ng()}o=a+2}return new Fg(r)}var YI=function(t){this.Do=t};function XI(t,e){if(e.document)return n=t.Do,r=e.document,i=!!e.hasCommittedMutations,o=aw(n,r.name),a=nw(r.updateTime),s=new f_({mapValue:{fields:r.fields}}),new E_(o,a,s,{hasCommittedMutations:!!i});var n,r,i,o,a,s;if(e.noDocument){var u=Vg.$(e.noDocument.path),c=eT(e.noDocument.readTime);return new I_(u,c,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var l=Vg.$(e.unknownDocument.path),h=eT(e.unknownDocument.version);return new T_(l,h)}return Ng()}function $I(t,e,n){var r,i,o=JI(n),a=e.key.path.h().A();if(e instanceof E_){var s={name:ow(r=t.Do,(i=e).key),fields:i.sn().mapValue.fields,updateTime:tw(r,i.version.X())},u=e.hasCommittedMutations;return new DT(null,null,s,u,o,a)}if(e instanceof I_){var c=e.key.path.A(),l=tT(e.version),h=e.hasCommittedMutations;return new DT(null,new PT(c,l),null,h,o,a)}if(e instanceof T_){var f=e.key.path.A(),p=tT(e.version);return new DT(new RT(f,p),null,null,!0,o,a)}return Ng()}function JI(t){var e=t.X();return[e.seconds,e.nanoseconds]}function ZI(t){var e=new Cm(t[0],t[1]);return Am.Y(e)}function tT(t){var e=t.X();return new IT(e.seconds,e.nanoseconds)}function eT(t){var e=new Cm(t.seconds,t.nanoseconds);return Am.Y(e)}function nT(t,e){var n=(e.baseMutations||[]).map((function(e){return pw(t.Do,e)})),r=e.mutations.map((function(e){return pw(t.Do,e)})),i=Cm.fromMillis(e.localWriteTimeMs);return new yI(e.batchId,i,n,r)}function rT(t){var e,n=eT(t.readTime),r=void 0!==t.lastLimboFreeSnapshotVersion?eT(t.lastLimboFreeSnapshotVersion):Am.min(),i=void 0!==t.query.documents?(Og(1===(e=t.query).documents.length),F_(O_(uw(e.documents[0])))):function(t){var e,n=uw(t.parent),r=t.structuredQuery,i=r.from?r.from.length:0,o=null;0<i&&(Og(1===i),(e=r.from[0]).allDescendants?o=e.collectionId:n=n.child(e.collectionId));var a=[];r.where&&(a=function t(e){return e?void 0!==e.unaryFilter?[function(t){switch(t.unaryFilter.op){case"IS_NAN":var e=bw(t.unaryFilter.field);return K_.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=bw(t.unaryFilter.field);return K_.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=bw(t.unaryFilter.field);return K_.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=bw(t.unaryFilter.field);return K_.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Ng()}}(e)]:void 0!==e.fieldFilter?[(n=e,K_.create(bw(n.fieldFilter.field),function(){switch(n.fieldFilter.op){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Ng()}}(),n.fieldFilter.value))]:void 0!==e.compositeFilter?e.compositeFilter.filters.map(t).reduce((function(t,e){return t.concat(e)})):Ng():[];var n}(r.where));var s=[];r.orderBy&&(s=r.orderBy.map((function(t){return new _E(bw((e=t).field),function(){switch(e.direction){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}());var e})));var u,c,l=null;r.limit&&(l=Rm(c="object"==typeof(u=r.limit)?u.value:u)?null:c);var h=null;r.startAt&&(h=gw(r.startAt));var f=null;return r.endAt&&(f=gw(r.endAt)),F_(N_(n,o,s,a,l,"F",h,f))}(t.query);return new Gm(i,t.targetId,0,t.lastListenSequenceNumber,n,r,vm.fromBase64String(t.resumeToken))}function iT(t,e){var n=tT(e.et),r=tT(e.lastLimboFreeSnapshotVersion),i=(Vm(e.target)?dw:vw)(t.Do,e.target),o=e.resumeToken.toBase64();return new MT(e.targetId,Um(e.target),n,o,e.sequenceNumber,r,i)}var oT=(aT.Fo=function(t,e,n,r){return Og(""!==t.uid),new aT(t.Xs()?t.uid:"",e,n,r)},aT.prototype.$o=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return cT(t).ss({index:NT.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},aT.prototype.xo=function(t,e,n,r){var i=this,o=lT(t),a=cT(t);return a.add({}).next((function(s){Og("number"==typeof s);for(var u,c,l,h,f,p=new yI(s,e,n,r),d=(u=i.serializer,c=i.userId,h=(l=p).baseMutations.map((function(t){return fw(u.Do,t)})),f=l.mutations.map((function(t){return fw(u.Do,t)})),new NT(c,l.batchId,l.rr.toMillis(),h,f)),v=[],y=new eb((function(t,e){return fm(t.R(),e.R())})),g=0,m=r;g<m.length;g++){var b=m[g],w=OT.key(i.userId,b.key.path,s);y=y.add(b.key.path.h()),v.push(a.put(d)),v.push(o.put(w,OT.PLACEHOLDER))}return y.forEach((function(e){v.push(i.Sr.ko(t,e))})),t.Vr((function(){i.No[s]=p.keys()})),SE.$n(v).next((function(){return p}))}))},aT.prototype.Mo=function(t,e){var n=this;return cT(t).get(e).next((function(t){return t?(Og(t.userId===n.userId),nT(n.serializer,t)):null}))},aT.prototype.Oo=function(t,e){var n=this;return this.No[e]?SE.resolve(this.No[e]):this.Mo(t,e).next((function(t){if(t){var r=t.keys();return n.No[e]=r}return null}))},aT.prototype.Lo=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return cT(t).ss({index:NT.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(Og(e.batchId>=r),o=nT(n.serializer,e)),i.done()})).next((function(){return o}))},aT.prototype.Bo=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return cT(t).ss({index:NT.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},aT.prototype.qo=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return cT(t).Zn(NT.userMutationsIndex,n).next((function(t){return t.map((function(t){return nT(e.serializer,t)}))}))},aT.prototype.Cr=function(t,e){var n=this,r=OT.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return lT(t).ss({range:i},(function(r,i,a){var s=r[0],u=r[1],c=r[2],l=QI(u);if(s===n.userId&&e.path.isEqual(l))return cT(t).get(c).next((function(t){if(!t)throw Ng();Og(t.userId===n.userId),o.push(nT(n.serializer,t))}));a.done()})).next((function(){return o}))},aT.prototype.Mr=function(t,e){var n=this,r=new eb(fm),i=[];return e.forEach((function(e){var o=OT.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=lT(t).ss({range:a},(function(t,i,o){var a=t[0],s=t[1],u=t[2],c=QI(s);a===n.userId&&e.path.isEqual(c)?r=r.add(u):o.done()}));i.push(s)})),SE.$n(i).next((function(){return n.Uo(t,r)}))},aT.prototype.Qr=function(t,e){var n=this,r=e.path,i=r.length+1,o=OT.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new eb(fm);return lT(t).ss({range:a},(function(t,e,o){var a=t[0],u=t[1],c=t[2],l=QI(u);a===n.userId&&r.T(l)?l.length===i&&(s=s.add(c)):o.done()})).next((function(){return n.Uo(t,s)}))},aT.prototype.Uo=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(cT(t).get(e).next((function(t){if(null===t)throw Ng();Og(t.userId===n.userId),r.push(nT(n.serializer,t))})))})),SE.$n(i).next((function(){return r}))},aT.prototype.Qo=function(t,e){var n=this;return uT(t.Wo,this.userId,e).next((function(r){return t.Vr((function(){n.jo(e.batchId)})),SE.forEach(r,(function(e){return n.Co.Ko(t,e)}))}))},aT.prototype.jo=function(t){delete this.No[t]},aT.prototype.Go=function(t){var e=this;return this.$o(t).next((function(n){if(!n)return SE.resolve();var r=IDBKeyRange.lowerBound(OT.prefixForUser(e.userId)),i=[];return lT(t).ss({range:r},(function(t,n,r){var o;t[0]===e.userId?(o=QI(t[1]),i.push(o)):r.done()})).next((function(){Og(0===i.length)}))}))},aT.prototype.zo=function(t,e){return sT(t,this.userId,e)},aT.prototype.Ho=function(t){var e=this;return hT(t).get(this.userId).next((function(t){return t||new kT(e.userId,-1,"")}))},aT);function aT(t,e,n,r){this.userId=t,this.serializer=e,this.Sr=n,this.Co=r,this.No={}}function sT(t,e,n){var r=OT.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return lT(t).ss({range:o,ns:!0},(function(t,n,r){var o=t[0],s=t[1];t[2],o===e&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function uT(t,e,n){var r=t.store(NT.store),i=t.store(OT.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.ss({range:a},(function(t,e,n){return s++,n.delete()}));o.push(u.next((function(){Og(1===s)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],p=OT.key(e,f.key.path,n.batchId);o.push(i.delete(p)),c.push(f.key)}return SE.$n(o).next((function(){return c}))}function cT(t){return nS.Un(t,NT.store)}function lT(t){return nS.Un(t,OT.store)}function hT(t){return nS.Un(t,kT.store)}var fT,pT=(dT.prototype.Tr=function(t,e,n){return yT(t).put(gT(e),n)},dT.prototype.Ir=function(t,e){var n=yT(t),r=gT(e);return n.delete(r)},dT.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.Yo(t,r)}))},dT.prototype.Ar=function(t,e){var n=this;return yT(t).get(gT(e)).next((function(t){return n.Jo(t)}))},dT.prototype.Xo=function(t,e){var n=this;return yT(t).get(gT(e)).next((function(t){var e=n.Jo(t);return e?{Zo:e,size:mT(t)}:null}))},dT.prototype.getEntries=function(t,e){var n=this,r=rb;return this.ta(t,e,(function(t,e){var i=n.Jo(e);r=r.rt(t,i)})).next((function(){return r}))},dT.prototype.ea=function(t,e){var n=this,r=rb,i=new Qm(Vg.i);return this.ta(t,e,(function(t,e){var o=n.Jo(e);i=o?(r=r.rt(t,o),i.rt(t,mT(e))):(r=r.rt(t,null),i.rt(t,0))})).next((function(){return{na:r,sa:i}}))},dT.prototype.ta=function(t,e,n){if(e.m())return SE.resolve();var r=IDBKeyRange.bound(e.first().path.A(),e.last().path.A()),i=e.lt(),o=i.Et();return yT(t).ss({range:r},(function(t,e,r){for(var a=Vg.$(t);o&&Vg.i(o,a)<0;)n(o,null),o=i.Et();o&&o.isEqual(a)&&(n(o,e),o=i.It()?i.Et():null),o?r.Jn(o.path.A()):r.done()})).next((function(){for(;o;)n(o,null),o=i.It()?i.Et():null}))},dT.prototype.Or=function(t,e,n){var r,i,o,a=this,s=ab,u=e.path.length+1,c={};return n.isEqual(Am.min())?(r=e.path.A(),c.range=IDBKeyRange.lowerBound(r)):(i=e.path.A(),o=JI(n),c.range=IDBKeyRange.lowerBound([i,o],!0),c.index=DT.collectionReadTimeIndex),yT(t).ss(c,(function(t,n,r){var i;t.length===u&&(i=XI(a.serializer,n),e.path.T(i.key.path)?i instanceof E_&&G_(e,i)&&(s=s.rt(i.key,i)):r.done())})).next((function(){return s}))},dT.prototype.ia=function(t,e){var n=this,r=rb,i=JI(e),o=yT(t),a=IDBKeyRange.lowerBound(i,!0);return o.ss({index:DT.readTimeIndex,range:a},(function(t,e){var o=XI(n.serializer,e);r=r.rt(o.key,o),i=e.readTime})).next((function(){return{ra:r,readTime:ZI(i)}}))},dT.prototype.oa=function(t){var e=yT(t),n=Am.min();return e.ss({index:DT.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=ZI(e.readTime)),r.done()})).next((function(){return n}))},dT.prototype.aa=function(t){return new dT.ca(this,!!t&&t.ua)},dT.prototype.ha=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},dT.prototype.getMetadata=function(t){return vT(t).get(LT.key).next((function(t){return Og(!!t),t}))},dT.prototype.Yo=function(t,e){return vT(t).put(LT.key,e)},dT.prototype.Jo=function(t){if(t){var e=XI(this.serializer,t);return e instanceof I_&&e.version.isEqual(Am.min())?null:e}return null},dT);function dT(t,e){this.serializer=t,this.Sr=e}function vT(t){return nS.Un(t,LT.store)}function yT(t){return nS.Un(t,DT.store)}function gT(t){return t.path.A()}function mT(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ng();e=t.noDocument}return JSON.stringify(e).length}function bT(t,e){var n=this;return(n=fT.call(this)||this).la=t,n.ua=e,n._a=new Sm((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),n}pT.ca=(Fa(bT,fT=mI),bT.prototype.gr=function(t){var e=this,n=[],r=0,i=new eb((function(t,e){return fm(t.R(),e.R())}));return this.dr.forEach((function(o,a){var s,u,c,l=e._a.get(o);a?(s=$I(e.la.serializer,a,e.readTime),i=i.add(o.path.h()),u=mT(s),r+=u-l,n.push(e.la.Tr(t,o,s))):(r-=l,e.ua?(c=$I(e.la.serializer,new I_(o,Am.min()),e.readTime),n.push(e.la.Tr(t,o,c))):n.push(e.la.Ir(t,o)))})),i.forEach((function(r){n.push(e.la.Sr.ko(t,r))})),n.push(this.la.updateMetadata(t,r)),SE.$n(n)},bT.prototype.Rr=function(t,e){var n=this;return this.la.Xo(t,e).next((function(t){return null===t?(n._a.set(e,0),null):(n._a.set(e,t.size),t.Zo)}))},bT.prototype.Pr=function(t,e){var n=this;return this.la.ea(t,e).next((function(t){var e=t.na;return t.sa.forEach((function(t,e){n._a.set(t,e)})),e}))},bT);var wT=(AT.prototype.ko=function(t,e){return this.fa.add(e),SE.resolve()},AT.prototype.Ur=function(t,e){return SE.resolve(this.fa.getEntries(e))},AT),_T=(CT.prototype.add=function(t){var e=t._(),n=t.h(),r=this.index[e]||new eb(Fg.i),i=!r.has(n);return this.index[e]=r.add(n),i},CT.prototype.has=function(t){var e=t._(),n=t.h(),r=this.index[e];return r&&r.has(n)},CT.prototype.getEntries=function(t){return(this.index[t]||new eb(Fg.i)).A()},CT),ET=(ST.prototype.createOrUpgrade=function(t,e,n,r){var i=this;Og(n<r&&0<=n&&r<=10);var o,a=new LE(e);n<1&&1<=r&&(t.createObjectStore(TT.store),(o=t).createObjectStore(kT.store,{keyPath:kT.keyPath}),o.createObjectStore(NT.store,{keyPath:NT.keyPath,autoIncrement:!0}).createIndex(NT.userMutationsIndex,NT.userMutationsKeyPath,{unique:!0}),o.createObjectStore(OT.store),VT(t),t.createObjectStore(DT.store));var s,u=SE.resolve();return n<3&&3<=r&&(0!==n&&((s=t).deleteObjectStore(FT.store),s.deleteObjectStore(MT.store),s.deleteObjectStore(UT.store),VT(t)),u=u.next((function(){return t=a.store(UT.store),e=new UT(0,0,Am.min().X(),0),t.put(UT.key,e);var t,e}))),n<4&&4<=r&&(0!==n&&(u=u.next((function(){return e=t,(n=a).store(NT.store).Zn().next((function(t){e.deleteObjectStore(NT.store),e.createObjectStore(NT.store,{keyPath:NT.keyPath,autoIncrement:!0}).createIndex(NT.userMutationsIndex,NT.userMutationsKeyPath,{unique:!0});var r=n.store(NT.store),i=t.map((function(t){return r.put(t)}));return SE.$n(i)}));var e,n}))),u=u.next((function(){t.createObjectStore(qT.store,{keyPath:qT.keyPath})}))),n<5&&5<=r&&(u=u.next((function(){return i.removeAcknowledgedMutations(a)}))),n<6&&6<=r&&(u=u.next((function(){return t.createObjectStore(LT.store),i.addDocumentGlobal(a)}))),n<7&&7<=r&&(u=u.next((function(){return i.ensureSequenceNumbers(a)}))),n<8&&8<=r&&(u=u.next((function(){return i.createCollectionParentIndex(t,a)}))),n<9&&9<=r&&(u=u.next((function(){var n,r;(r=t).objectStoreNames.contains("remoteDocumentChanges")&&r.deleteObjectStore("remoteDocumentChanges"),(n=e.objectStore(DT.store)).createIndex(DT.readTimeIndex,DT.readTimeIndexPath,{unique:!1}),n.createIndex(DT.collectionReadTimeIndex,DT.collectionReadTimeIndexPath,{unique:!1})}))),n<10&&10<=r&&(u=u.next((function(){return i.rewriteCanonicalIds(a)}))),u},ST.prototype.addDocumentGlobal=function(t){var e=0;return t.store(DT.store).ss((function(t,n){e+=mT(n)})).next((function(){var n=new LT(e);return t.store(LT.store).put(LT.key,n)}))},ST.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(kT.store),r=t.store(NT.store);return n.Zn().next((function(n){return SE.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Zn(NT.userMutationsIndex,i).next((function(r){return SE.forEach(r,(function(r){Og(r.userId===n.userId);var i=nT(e.serializer,r);return uT(t,n.userId,i).next((function(){}))}))}))}))}))},ST.prototype.ensureSequenceNumbers=function(t){var e=t.store(FT.store),n=t.store(DT.store);return t.store(UT.store).get(UT.key).next((function(t){var r=[];return n.ss((function(n,i){var o=new Fg(n),a=[0,HI(o)];r.push(e.get(a).next((function(n){return n?SE.resolve():e.put(new FT(0,HI(o),t.highestListenSequenceNumber))})))})).next((function(){return SE.$n(r)}))}))},ST.prototype.createCollectionParentIndex=function(t,e){function n(t){if(i.add(t)){var e=t._(),n=t.h();return r.put({collectionId:e,parent:HI(n)})}}t.createObjectStore(jT.store,{keyPath:jT.keyPath});var r=e.store(jT.store),i=new _T;return e.store(DT.store).ss({ns:!0},(function(t,e){return n(new Fg(t).h())})).next((function(){return e.store(OT.store).ss({ns:!0},(function(t,e){t[0];var r=t[1];return n((t[2],QI(r)).h())}))}))},ST.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(MT.store);return n.ss((function(t,r){var i=rT(r),o=iT(e.serializer,i);return n.put(o)}))},ST),IT=function(t,e){this.seconds=t,this.nanoseconds=e},TT=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};function ST(t){this.serializer=t}function CT(){this.index={}}function AT(){this.fa=new _T}TT.store="owner",TT.key="owner";var kT=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};kT.store="mutationQueues",kT.keyPath="userId";var NT=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};NT.store="mutations",NT.keyPath="batchId",NT.userMutationsIndex="userMutationsIndex",NT.userMutationsKeyPath=["userId","batchId"];var OT=(xT.prefixForUser=function(t){return[t]},xT.prefixForPath=function(t,e){return[t,HI(e)]},xT.key=function(t,e,n){return[t,HI(e),n]},xT);function xT(){}OT.store="documentMutations",OT.PLACEHOLDER=new OT;var PT=function(t,e){this.path=t,this.readTime=e},RT=function(t,e){this.path=t,this.version=e},DT=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};DT.store="remoteDocuments",DT.readTimeIndex="readTimeIndex",DT.readTimeIndexPath="readTime",DT.collectionReadTimeIndex="collectionReadTimeIndex",DT.collectionReadTimeIndexPath=["parentPath","readTime"];var LT=function(t){this.byteSize=t};LT.store="remoteDocumentGlobal",LT.key="remoteDocumentGlobalKey";var MT=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};MT.store="targets",MT.keyPath="targetId",MT.queryTargetsIndexName="queryTargetsIndex",MT.queryTargetsKeyPath=["canonicalId","targetId"];var FT=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};FT.store="targetDocuments",FT.keyPath=["targetId","path"],FT.documentTargetsIndex="documentTargetsIndex",FT.documentTargetsKeyPath=["path","targetId"];var UT=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};UT.key="targetGlobalKey",UT.store="targetGlobal";var jT=function(t,e){this.collectionId=t,this.parent=e};function VT(t){t.createObjectStore(FT.store,{keyPath:FT.keyPath}).createIndex(FT.documentTargetsIndex,FT.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(MT.store,{keyPath:MT.keyPath}).createIndex(MT.queryTargetsIndexName,MT.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(UT.store)}jT.store="collectionParents",jT.keyPath=["collectionId","parent"];var qT=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};qT.store="clientMetadata",qT.keyPath="clientId";var BT=Ga(Ga(Ga([kT.store,NT.store,OT.store,DT.store,MT.store,TT.store,UT.store,FT.store],[qT.store]),[LT.store]),[jT.store]),zT=(GT.prototype.ko=function(t,e){var n=this;if(this.da.has(e))return SE.resolve();var r=e._(),i=e.h();t.Vr((function(){n.da.add(e)}));var o={collectionId:r,parent:HI(i)};return WT(t).put(o)},GT.prototype.Ur=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[dm(e),""],!1,!0);return WT(t).Zn(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(QI(o.parent))}return n}))},GT);function GT(){this.da=new _T}function WT(t){return nS.Un(t,jT.store)}var HT=(YT.prototype.next=function(){return this.wa+=2,this.wa},YT.ma=function(){return new YT(0)},YT.Ta=function(){return new YT(-1)},YT),KT=(QT.prototype.Ea=function(t){var e=this;return this.Ia(t).next((function(n){var r=new HT(n.highestTargetId);return n.highestTargetId=r.next(),e.Aa(t,n).next((function(){return n.highestTargetId}))}))},QT.prototype.Ra=function(t){return this.Ia(t).next((function(t){return Am.Y(new Cm(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},QT.prototype.Pa=function(t){return this.Ia(t).next((function(t){return t.highestListenSequenceNumber}))},QT.prototype.ga=function(t,e,n){var r=this;return this.Ia(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.X()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Aa(t,i)}))},QT.prototype.ya=function(t,e){var n=this;return this.Va(t,e).next((function(){return n.Ia(t).next((function(r){return r.targetCount+=1,n.pa(e,r),n.Aa(t,r)}))}))},QT.prototype.ba=function(t,e){return this.Va(t,e)},QT.prototype.va=function(t,e){var n=this;return this.Sa(t,e.targetId).next((function(){return XT(t).delete(e.targetId)})).next((function(){return n.Ia(t)})).next((function(e){return Og(0<e.targetCount),--e.targetCount,n.Aa(t,e)}))},QT.prototype.Vo=function(t,e,n){var r=this,i=0,o=[];return XT(t).ss((function(a,s){var u=rT(s);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.va(t,u)))})).next((function(){return SE.$n(o)})).next((function(){return i}))},QT.prototype.De=function(t,e){return XT(t).ss((function(t,n){var r=rT(n);e(r)}))},QT.prototype.Ia=function(t){return $T(t).get(UT.key).next((function(t){return Og(null!==t),t}))},QT.prototype.Aa=function(t,e){return $T(t).put(UT.key,e)},QT.prototype.Va=function(t,e){return XT(t).put(iT(this.serializer,e))},QT.prototype.pa=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},QT.prototype.Da=function(t){return this.Ia(t).next((function(t){return t.targetCount}))},QT.prototype.Ca=function(t,e){var n=Um(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return XT(t).ss({range:r,index:MT.queryTargetsIndexName},(function(t,n,r){var o=rT(n);jm(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},QT.prototype.Na=function(t,e,n){var r=this,i=[],o=JT(t);return e.forEach((function(e){var a=HI(e.path);i.push(o.put(new FT(n,a))),i.push(r.Co.Fa(t,n,e))})),SE.$n(i)},QT.prototype.$a=function(t,e,n){var r=this,i=JT(t);return SE.forEach(e,(function(e){var o=HI(e.path);return SE.$n([i.delete([n,o]),r.Co.xa(t,n,e)])}))},QT.prototype.Sa=function(t,e){var n=JT(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},QT.prototype.ka=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=JT(t),i=cb();return r.ss({range:n,ns:!0},(function(t,e,n){var r=QI(t[1]),o=new Vg(r);i=i.add(o)})).next((function(){return i}))},QT.prototype.zo=function(t,e){var n=HI(e.path),r=IDBKeyRange.bound([n],[dm(n)],!1,!0),i=0;return JT(t).ss({index:FT.documentTargetsIndex,ns:!0,range:r},(function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())})).next((function(){return 0<i}))},QT.prototype.qe=function(t,e){return XT(t).get(e).next((function(t){return t?rT(t):null}))},QT);function QT(t,e){this.Co=t,this.serializer=e}function YT(t){this.wa=t}function XT(t){return nS.Un(t,MT.store)}function $T(t){return nS.Un(t,UT.store)}function JT(t){return nS.Un(t,FT.store)}var ZT,tS="Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",eS=(Fa(iS,ZT=wI),iS),nS=(rS.Un=function(t,e){if(t instanceof eS)return CE.Un(t.Wo,e);throw Ng()},rS.prototype.start=function(){var t=this;return this.Ja().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new _g(wg.FAILED_PRECONDITION,tS);return t.Xa(),t.Za(),t.tc(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.Ha.Pa(e)}))})).then((function(e){t.Ba=new iI(e,t.Oa)})).then((function(){t.qa=!0})).catch((function(e){return t.za&&t.za.close(),Promise.reject(e)}))},rS.prototype.ec=function(t){var e=this;return this.Ka=function(n){return ja(e,void 0,void 0,(function(){return Va(this,(function(e){return this.Ti?[2,t(n)]:[2]}))}))},t(this.isPrimary)},rS.prototype.nc=function(t){var e=this;this.za.jn((function(n){return ja(e,void 0,void 0,(function(){return Va(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},rS.prototype.sc=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this._n.ds((function(){return ja(e,void 0,void 0,(function(){return Va(this,(function(t){switch(t.label){case 0:return this.Ti?[4,this.Ja()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},rS.prototype.Ja=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return aS(e).put(new qT(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.ic(e).next((function(e){e||(t.isPrimary=!1,t._n.Ds((function(){return t.Ka(!1)})))}))})).next((function(){return t.rc(e)})).next((function(n){return t.isPrimary&&!n?t.oc(e).next((function(){return!1})):!!n&&t.ac(e).next((function(){return!0}))}))})).catch((function(e){if(DE(e))return Sg("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Sg("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t._n.Ds((function(){return t.Ka(e)})),t.isPrimary=e}))},rS.prototype.ic=function(t){var e=this;return oS(t).get(TT.key).next((function(t){return SE.resolve(e.cc(t))}))},rS.prototype.uc=function(t){return aS(t).delete(this.clientId)},rS.prototype.hc=function(){return ja(this,void 0,void 0,(function(){var t,e,n,r,i=this;return Va(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.lc(this.ja,18e5)?[3,2]:(this.ja=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=rS.Un(t,qT.store);return e.Zn().next((function(t){var n=i._c(t,18e5),r=t.filter((function(t){return-1===n.indexOf(t)}));return SE.forEach(r,(function(t){return e.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(t=o.sent(),this.Ya)for(e=0,n=t;e<n.length;e++)r=n[e],this.Ya.removeItem(this.fc(r.clientId));o.label=2;case 2:return[2]}}))}))},rS.prototype.tc=function(){var t=this;this.Wa=this._n.gn("client_metadata_refresh",4e3,(function(){return t.Ja().then((function(){return t.hc()})).then((function(){return t.tc()}))}))},rS.prototype.cc=function(t){return!!t&&t.ownerId===this.clientId},rS.prototype.rc=function(t){var e=this;return this.La?SE.resolve(!0):oS(t).get(TT.key).next((function(n){if(null!==n&&e.lc(n.leaseTimestampMs,5e3)&&!e.dc(n.ownerId)){if(e.cc(n)&&e.networkEnabled)return!0;if(!e.cc(n)){if(!n.allowTabSynchronization)throw new _g(wg.FAILED_PRECONDITION,tS);return!1}}return!(!e.networkEnabled||!e.inForeground)||aS(t).Zn().next((function(t){return void 0===e._c(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&Sg("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},rS.prototype.Si=function(){return ja(this,void 0,void 0,(function(){var t=this;return Va(this,(function(e){switch(e.label){case 0:return this.qa=!1,this.wc(),this.Wa&&(this.Wa.cancel(),this.Wa=null),this.mc(),this.Tc(),[4,this.za.runTransaction("readwrite",[TT.store,qT.store],(function(e){var n=new eS(e,iI.oi);return t.oc(n).next((function(){return t.uc(n)}))}))];case 1:return e.sent(),this.za.close(),this.Ec(),[2]}}))}))},rS.prototype._c=function(t,e){var n=this;return t.filter((function(t){return n.lc(t.updateTimeMs,e)&&!n.dc(t.clientId)}))},rS.prototype.Vi=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return aS(e).Zn().next((function(e){return t._c(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(rS.prototype,"Ti",{get:function(){return this.qa},enumerable:!1,configurable:!0}),rS.prototype.Ic=function(t){return oT.Fo(t,this.serializer,this.Sr,this.Co)},rS.prototype.Ac=function(){return this.Ha},rS.prototype.Rc=function(){return this.br},rS.prototype.Pc=function(){return this.Sr},rS.prototype.runTransaction=function(t,e,n){var r=this;Sg("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this.za.runTransaction(o,BT,(function(o){return i=new eS(o,r.Ba?r.Ba.next():iI.oi),"readwrite-primary"===e?r.ic(i).next((function(t){return!!t||r.rc(i)})).next((function(e){if(!e)throw Cg("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r._n.Ds((function(){return r.Ka(!1)})),new _g(wg.FAILED_PRECONDITION,bI);return n(i)})).next((function(t){return r.ac(i).next((function(){return t}))})):r.gc(i).next((function(){return n(i)}))})).then((function(t){return i.pr(),t}))},rS.prototype.gc=function(t){var e=this;return oS(t).get(TT.key).next((function(t){if(null!==t&&e.lc(t.leaseTimestampMs,5e3)&&!e.dc(t.ownerId)&&!e.cc(t)&&!(e.La||e.allowTabSynchronization&&t.allowTabSynchronization))throw new _g(wg.FAILED_PRECONDITION,tS)}))},rS.prototype.ac=function(t){var e=new TT(this.clientId,this.allowTabSynchronization,Date.now());return oS(t).put(TT.key,e)},rS.On=function(){return CE.On()},rS.prototype.oc=function(t){var e=this,n=oS(t);return n.get(TT.key).next((function(t){return e.cc(t)?(Sg("IndexedDbPersistence","Releasing primary lease."),n.delete(TT.key)):SE.resolve()}))},rS.prototype.lc=function(t,e){var n=Date.now();return!(t<n-e||n<t&&(Cg("Detected an update time that is in the future: "+t+" > "+n),1))},rS.prototype.Xa=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Qa=function(){t._n.ds((function(){return t.inForeground="visible"===t.document.visibilityState,t.Ja()}))},this.document.addEventListener("visibilitychange",this.Qa),this.inForeground="visible"===this.document.visibilityState)},rS.prototype.mc=function(){this.Qa&&(this.document.removeEventListener("visibilitychange",this.Qa),this.Qa=null)},rS.prototype.Za=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Ua=function(){e.wc(),e._n.ds((function(){return e.Si()}))},this.window.addEventListener("unload",this.Ua))},rS.prototype.Tc=function(){this.Ua&&(this.window.removeEventListener("unload",this.Ua),this.Ua=null)},rS.prototype.dc=function(t){var e;try{var n=null!==(null===(e=this.Ya)||void 0===e?void 0:e.getItem(this.fc(t)));return Sg("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Cg("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},rS.prototype.wc=function(){if(this.Ya)try{this.Ya.setItem(this.fc(this.clientId),String(Date.now()))}catch(i){Cg("Failed to set zombie client id.",i)}},rS.prototype.Ec=function(){if(this.Ya)try{this.Ya.removeItem(this.fc(this.clientId))}catch(i){}},rS.prototype.fc=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},rS);function rS(t,e,n,r,i,o,a,s,u,c){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=n,this._n=i,this.window=o,this.document=a,this.Oa=u,this.La=c,this.Ba=null,this.qa=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ua=null,this.inForeground=!1,this.Qa=null,this.Wa=null,this.ja=Number.NEGATIVE_INFINITY,this.Ka=function(t){return Promise.resolve()},!rS.On())throw new _g(wg.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Co=new sS(this,r),this.Ga=e+"main",this.serializer=new YI(s),this.za=new CE(this.Ga,10,new ET(this.serializer)),this.Ha=new KT(this.Co,this.serializer),this.Sr=new zT,this.br=new pT(this.serializer,this.Sr),this.window&&this.window.localStorage?this.Ya=this.window.localStorage:(this.Ya=null,!1===c&&Cg("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}function iS(t,e){var n=this;return(n=ZT.call(this)||this).Wo=t,n.Ma=e,n}function oS(t){return nS.Un(t,TT.store)}function aS(t){return nS.Un(t,qT.store)}var sS=(uS.prototype.Ro=function(t){var e=this.yc(t);return this.db.Ac().Da(t).next((function(t){return e.next((function(e){return t+e}))}))},uS.prototype.yc=function(t){var e=0;return this.yo(t,(function(t){e++})).next((function(){return e}))},uS.prototype.De=function(t,e){return this.db.Ac().De(t,e)},uS.prototype.yo=function(t,e){return this.Vc(t,(function(t,n){return e(n)}))},uS.prototype.Fa=function(t,e,n){return cS(t,n)},uS.prototype.xa=function(t,e,n){return cS(t,n)},uS.prototype.Vo=function(t,e,n){return this.db.Ac().Vo(t,e,n)},uS.prototype.Ko=cS,uS.prototype.bc=function(t,e){return r=e,i=!1,hT(n=t).rs((function(t){return sT(n,t,r).next((function(t){return t&&(i=!0),SE.resolve(!t)}))})).next((function(){return i}));var n,r,i},uS.prototype.po=function(t,e){var n=this,r=this.db.Rc().aa(),i=[],o=0;return this.Vc(t,(function(a,s){var u;s<=e&&(u=n.bc(t,a).next((function(e){if(!e)return o++,r.Ar(t,a).next((function(){return r.Ir(a),JT(t).delete([0,HI(a.path)])}))})),i.push(u))})).next((function(){return SE.$n(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},uS.prototype.removeTarget=function(t,e){var n=e.nt(t.Ma);return this.db.Ac().ba(t,n)},uS.prototype.vc=cS,uS.prototype.Vc=function(t,e){var n,r=JT(t),i=iI.oi;return r.ss({index:FT.documentTargetsIndex},(function(t,r){var o=t[0],a=(t[1],r.path),s=r.sequenceNumber;0===o?(i!==iI.oi&&e(new Vg(QI(n)),i),i=s,n=a):i=iI.oi})).next((function(){i!==iI.oi&&e(new Vg(QI(n)),i)}))},uS.prototype.vo=function(t){return this.db.Rc().ha(t)},uS);function uS(t,e){this.db=t,this.do=new zI(this,e)}function cS(t,e){return JT(t).put((n=t.Ma,new FT(0,HI(e.path),n)));var n}function lS(t,e){var n=t.projectId;return t.W||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var hS=(fS.prototype.Eo=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.bo(n,e.Dc)}))},fS);function fS(t,e,n){this.persistence=t,this.Sc=e,this.Dc=new Qm(fm),this.Cc=new Sm(Um,jm),this.Nc=Am.min(),this.vr=t.Ic(n),this.Fc=t.Rc(),this.Ha=t.Ac(),this.$c=new _I(this.Fc,this.vr,this.persistence.Pc()),this.Sc.xc(this.$c)}function pS(t,e){var n=t;return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r,i,o,a,s,u,c,l=e.batch.keys(),h=n.Fc.aa({ua:!0});return r=n,i=t,a=h,u=(s=(o=e).batch).keys(),c=SE.resolve(),u.forEach((function(t){c=c.next((function(){return a.Ar(i,t)})).next((function(e){var n=e,r=o._r.get(t);Og(null!==r),(!n||n.version.L(r)<0)&&(n=s.ar(t,n,o))&&a.Tr(n,o.lr)}))})),c.next((function(){return r.vr.Qo(i,s)})).next((function(){return h.apply(t)})).next((function(){return n.vr.Go(t)})).next((function(){return n.$c.$r(t,l)}))}))}function dS(t){var e=t;return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.Ha.Ra(t)}))}function vS(t,e){var n=t,r=e.et,i=n.Dc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.Fc.aa({ua:!0});i=n.Dc;var a=[];e.Gt.forEach((function(e,o){var s,u,c,l,h,f=i.get(o);f&&(a.push(n.Ha.$a(t,e.ne,o).next((function(){return n.Ha.Na(t,e.te,o)}))),0<(s=e.resumeToken).O()&&(u=f.st(s,r).nt(t.Ma),i=i.rt(o,u),c=f,h=e,Og(0<(l=u).resumeToken.O()),(0===c.resumeToken.O()||3e8<=l.et.J()-c.et.J()||0<h.te.size+h.ee.size+h.ne.size)&&a.push(n.Ha.ba(t,u))))}));var s,u=rb,c=cb();return e.Ht.forEach((function(t,e){c=c.add(t)})),a.push(o.getEntries(t,c).next((function(i){e.Ht.forEach((function(s,c){var l=i.get(s);c instanceof I_&&c.version.isEqual(Am.min())?(o.Ir(s,r),u=u.rt(s,c)):null==l||0<c.version.L(l.version)||0===c.version.L(l.version)&&l.hasPendingWrites?(o.Tr(c,r),u=u.rt(s,c)):Sg("LocalStore","Ignoring outdated watch update for ",s,". Current version:",l.version," Watch version:",c.version),e.Yt.has(s)&&a.push(n.persistence.Co.vc(t,s))}))}))),r.isEqual(Am.min())||(s=n.Ha.Ra(t).next((function(e){return n.Ha.ga(t,t.Ma,r)})),a.push(s)),SE.$n(a).next((function(){return o.apply(t)})).next((function(){return n.$c.kr(t,u)}))})).then((function(t){return n.Dc=i,t}))}function yS(t,e){var n=t;return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.Ha.Ca(t,e).next((function(i){return i?(r=i,SE.resolve(r)):n.Ha.Ea(t).next((function(i){return r=new Gm(e,i,0,t.Ma),n.Ha.ya(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.Dc.get(t.targetId);return(null===r||0<t.et.L(r.et))&&(n.Dc=n.Dc.rt(t.targetId,t),n.Cc.set(e,t.targetId)),t}))}function gS(t,e,n){return ja(this,void 0,void 0,(function(){var r,i,o,a;return Va(this,(function(s){switch(s.label){case 0:i=(r=t).Dc.get(e),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.Co.removeTarget(t,i)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!DE(a=s.sent()))throw a;return Sg("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return r.Dc=r.Dc.remove(e),r.Cc.delete(i.target),[2]}}))}))}function mS(t,e,n){var r=t,i=Am.min(),o=cb();return r.persistence.runTransaction("Execute query","readonly",(function(t){return a=r,s=t,u=F_(e),(void 0!==(l=(c=a).Cc.get(u))?SE.resolve(c.Dc.get(l)):c.Ha.Ca(s,u)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.Ha.ka(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.Sc.Or(t,e,n?i:Am.min(),n?o:cb())})).next((function(t){return{documents:t,kc:o}}));var a,s,u,c,l}))}function bS(t,e){var n=t,r=n.Ha,i=n.Dc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.qe(t,e).next((function(t){return t?t.target:null}))}))}function wS(t){return ja(this,void 0,void 0,(function(){return Va(this,(function(e){if(t.code!==wg.FAILED_PRECONDITION||t.message!==bI)throw t;return Sg("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function _S(t,e){this.user=e,this.type="OAuth",this.zc={},this.zc.Authorization="Bearer "+t}function ES(t,e,n,r,i){var o=this;this.Gu=t,this.zu=e,this.os=n,this.Hu={},this.Yu=[],this.Ju=new Map,this.Xu=new Set,this.Zu=[],this.th=i,this.th.eh((function(t){n.ds((function(){return ja(o,void 0,void 0,(function(){return Va(this,(function(t){switch(t.label){case 0:return rC(this)?(Sg("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return ja(this,void 0,void 0,(function(){var e;return Va(this,(function(n){switch(n.label){case 0:return(e=t).Xu.add(4),[4,YS(e)];case 1:return n.sent(),e.nh.set("Unknown"),e.Xu.delete(4),[4,QS(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.nh=new MS(n,r)}var IS,TS,SS,CS=(KS.prototype.m=function(){return this.Mc.m()},KS.prototype.Fa=function(t,e){var n=new AS(t,e);this.Mc=this.Mc.add(n),this.Lc=this.Lc.add(n)},KS.prototype.qc=function(t,e){var n=this;t.forEach((function(t){return n.Fa(t,e)}))},KS.prototype.xa=function(t,e){this.Uc(new AS(t,e))},KS.prototype.Qc=function(t,e){var n=this;t.forEach((function(t){return n.xa(t,e)}))},KS.prototype.Wc=function(t){var e=this,n=new Vg(new Fg([])),r=new AS(n,t),i=new AS(n,t+1),o=[];return this.Lc.Nt([r,i],(function(t){e.Uc(t),o.push(t.key)})),o},KS.prototype.jc=function(){var t=this;this.Mc.forEach((function(e){return t.Uc(e)}))},KS.prototype.Uc=function(t){this.Mc=this.Mc.delete(t),this.Lc=this.Lc.delete(t)},KS.prototype.Kc=function(t){var e=new Vg(new Fg([])),n=new AS(e,t),r=new AS(e,t+1),i=cb();return this.Lc.Nt([n,r],(function(t){i=i.add(t.key)})),i},KS.prototype.zo=function(t){var e=new AS(t,0),n=this.Mc.$t(e);return null!==n&&t.isEqual(n.key)},KS),AS=(HS.Oc=function(t,e){return Vg.i(t.key,e.key)||fm(t.Gc,e.Gc)},HS.Bc=function(t,e){return fm(t.Gc,e.Gc)||Vg.i(t.key,e.key)},HS),kS=(WS.prototype.getToken=function(){return Promise.resolve(null)},WS.prototype.Yc=function(){},WS.prototype.Jc=function(t){(this.Hc=t)(eI.UNAUTHENTICATED)},WS.prototype.Xc=function(){this.Hc=null},WS),NS=(GS.prototype.getToken=function(){var t=this,e=this.eu,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.eu!==e?(Sg("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Og("string"==typeof n.accessToken),new _S(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},GS.prototype.Yc=function(){this.forceRefresh=!0},GS.prototype.Jc=function(t){this.Hc=t,this.tu&&t(this.currentUser)},GS.prototype.Xc=function(){this.auth&&this.auth.removeAuthTokenListener(this.Zc),this.Zc=null,this.Hc=null},GS.prototype.nu=function(){var t=this.auth&&this.auth.getUid();return Og(null===t||"string"==typeof t),new eI(t)},GS),OS=(Object.defineProperty(zS.prototype,"zc",{get:function(){var t={"X-Goog-AuthUser":this.iu},e=this.su.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),zS),xS=(BS.prototype.getToken=function(){return Promise.resolve(new OS(this.su,this.iu))},BS.prototype.Jc=function(t){t(eI.ei)},BS.prototype.Xc=function(){},BS.prototype.Yc=function(){},BS),PS=(qS.prototype.hu=function(){return 1===this.state||2===this.state||4===this.state},qS.prototype.lu=function(){return 2===this.state},qS.prototype.start=function(){3!==this.state?this.auth():this._u()},qS.prototype.stop=function(){return ja(this,void 0,void 0,(function(){return Va(this,(function(t){switch(t.label){case 0:return this.hu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},qS.prototype.fu=function(){this.state=0,this.gs.reset()},qS.prototype.du=function(){var t=this;this.lu()&&null===this.uu&&(this.uu=this._n.gn(this.ru,6e4,(function(){return t.wu()})))},qS.prototype.mu=function(t){this.Tu(),this.stream.send(t)},qS.prototype.wu=function(){return ja(this,void 0,void 0,(function(){return Va(this,(function(t){return this.lu()?[2,this.close(0)]:[2]}))}))},qS.prototype.Tu=function(){this.uu&&(this.uu.cancel(),this.uu=null)},qS.prototype.close=function(t,e){return ja(this,void 0,void 0,(function(){return Va(this,(function(n){switch(n.label){case 0:return this.Tu(),this.gs.cancel(),this.cu++,3!==t?this.gs.reset():e&&e.code===wg.RESOURCE_EXHAUSTED?(Cg(e.toString()),Cg("Using maximum backoff delay to prevent overloading the backend."),this.gs.An()):e&&e.code===wg.UNAUTHENTICATED&&this.au.Yc(),null!==this.stream&&(this.Eu(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Iu(e)];case 1:return n.sent(),[2]}}))}))},qS.prototype.Eu=function(){},qS.prototype.auth=function(){var t=this;this.state=1;var e=this.Au(this.cu),n=this.cu;this.au.getToken().then((function(e){t.cu===n&&t.Ru(e)}),(function(n){e((function(){var e=new _g(wg.UNKNOWN,"Fetching auth token failed: "+n.message);return t.Pu(e)}))}))},qS.prototype.Ru=function(t){var e=this,n=this.Au(this.cu);this.stream=this.gu(t),this.stream.yu((function(){n((function(){return e.state=2,e.listener.yu()}))})),this.stream.Iu((function(t){n((function(){return e.Pu(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},qS.prototype._u=function(){var t=this;this.state=4,this.gs.Rn((function(){return ja(t,void 0,void 0,(function(){return Va(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},qS.prototype.Pu=function(t){return Sg("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},qS.prototype.Au=function(t){var e=this;return function(n){e._n.ds((function(){return e.cu===t?n():(Sg("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},qS),RS=(Fa(VS,SS=PS),VS.prototype.gu=function(t){return this.ou.Vu("Listen",t)},VS.prototype.onMessage=function(t){this.gs.reset();var e=function(t,e){var n,r,i,o;if("targetChange"in e){e.targetChange;var a="NO_CHANGE"===(o=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===o?1:"REMOVE"===o?2:"CURRENT"===o?3:"RESET"===o?4:Ng(),s=e.targetChange.targetIds||[],u=(i=e.targetChange.resumeToken,t.Ue?(Og(void 0===i||"string"==typeof i),vm.fromBase64String(i||"")):(Og(void 0===i||i instanceof Uint8Array),vm.fromUint8Array(i||new Uint8Array))),c=e.targetChange.cause,l=c&&(r=void 0===(n=c).code?wg.UNKNOWN:Km(n.code),new _g(r,n.message||"")),h=new mb(a,s,u,l||null)}else if("documentChange"in e){e.documentChange;var f=e.documentChange;f.document,f.document.name,f.document.updateTime;var p=aw(t,f.document.name),d=nw(f.document.updateTime),v=new f_({mapValue:{fields:f.document.fields}}),y=new E_(p,d,v,{}),g=f.targetIds||[],m=f.removedTargetIds||[];h=new yb(g,m,y.key,y)}else if("documentDelete"in e){e.documentDelete;var b=e.documentDelete;b.document;var w=aw(t,b.document),_=b.readTime?nw(b.readTime):Am.min(),E=new I_(w,_),I=b.removedTargetIds||[];h=new yb([],I,E.key,E)}else if("documentRemove"in e){e.documentRemove;var T=e.documentRemove;T.document;var S=aw(t,T.document),C=T.removedTargetIds||[];h=new yb([],C,S,null)}else{if(!("filter"in e))return Ng();e.filter;var A=e.filter;A.targetId;var k=new qm(A.count||0),N=A.targetId;h=new gb(N,k)}return h}(this.serializer,t),n=function(t){if(!("targetChange"in t))return Am.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length||!e.readTime?Am.min():nw(e.readTime)}(t);return this.listener.pu(e,n)},VS.prototype.bu=function(t){var e,n,r,i,o={};o.database=cw(this.serializer),o.addTarget=(e=this.serializer,(r=Vm(i=(n=t).target)?{documents:dw(e,i)}:{query:vw(e,i)}).targetId=n.targetId,0<n.resumeToken.O()&&(r.resumeToken=ew(e,n.resumeToken)),r);var a,s,u=(this.serializer,a=t,null==(s=function(){switch(a.tt){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ng()}}())?null:{"goog-listen-tags":s});u&&(o.labels=u),this.mu(o)},VS.prototype.vu=function(t){var e={};e.database=cw(this.serializer),e.removeTarget=t,this.mu(e)},VS),DS=(Fa(jS,TS=PS),Object.defineProperty(jS.prototype,"Du",{get:function(){return this.Su},enumerable:!1,configurable:!0}),jS.prototype.start=function(){this.Su=!1,this.lastStreamToken=void 0,TS.prototype.start.call(this)},jS.prototype.Eu=function(){this.Su&&this.Cu([])},jS.prototype.gu=function(t){return this.ou.Vu("Write",t)},jS.prototype.onMessage=function(t){if(Og(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Su){this.gs.reset();var e=(r=t.writeResults,i=t.commitTime,r&&0<r.length?(Og(void 0!==i),r.map((function(t){return function(t,e){var n=t.updateTime?nw(t.updateTime):nw(e);n.isEqual(Am.min())&&(n=nw(e));var r=null;return t.transformResults&&0<t.transformResults.length&&(r=t.transformResults),new Bw(n,r)}(t,i)}))):[]),n=nw(t.commitTime);return this.listener.Nu(n,e)}var r,i;return Og(!t.writeResults||0===t.writeResults.length),this.Su=!0,this.listener.Fu()},jS.prototype.$u=function(){var t={};t.database=cw(this.serializer),this.mu(t)},jS.prototype.Cu=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return fw(e.serializer,t)}))};this.mu(n)},jS),LS=(Fa(US,IS=function(){}),US.prototype.ku=function(){if(this.xu)throw new _g(wg.FAILED_PRECONDITION,"The client has already been terminated.")},US.prototype.Mu=function(t,e,n){var r=this;return this.ku(),this.credentials.getToken().then((function(i){return r.ou.Mu(t,e,n,i)})).catch((function(t){throw t.code===wg.UNAUTHENTICATED&&r.credentials.Yc(),t}))},US.prototype.Ou=function(t,e,n){var r=this;return this.ku(),this.credentials.getToken().then((function(i){return r.ou.Ou(t,e,n,i)})).catch((function(t){throw t.code===wg.UNAUTHENTICATED&&r.credentials.Yc(),t}))},US.prototype.terminate=function(){this.xu=!1},US),MS=(FS.prototype.Uu=function(){var t=this;0===this.Lu&&(this.Qu("Unknown"),this.Bu=this.os.gn("online_state_timeout",1e4,(function(){return t.Bu=null,t.Wu("Backend didn't respond within 10 seconds."),t.Qu("Offline"),Promise.resolve()})))},FS.prototype.ju=function(t){"Online"===this.state?this.Qu("Unknown"):(this.Lu++,1<=this.Lu&&(this.Ku(),this.Wu("Connection failed 1 times. Most recent error: "+t.toString()),this.Qu("Offline")))},FS.prototype.set=function(t){this.Ku(),this.Lu=0,"Online"===t&&(this.qu=!1),this.Qu(t)},FS.prototype.Qu=function(t){t!==this.state&&(this.state=t,this.fi(t))},FS.prototype.Wu=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.qu?(Cg(e),this.qu=!1):Sg("OnlineStateTracker",e)},FS.prototype.Ku=function(){null!==this.Bu&&(this.Bu.cancel(),this.Bu=null)},FS);function FS(t,e){this.os=t,this.fi=e,this.state="Unknown",this.Lu=0,this.Bu=null,this.qu=!0}function US(t,e,n){var r=this;return(r=IS.call(this)||this).credentials=t,r.ou=e,r.serializer=n,r.xu=!1,r}function jS(t,e,n,r,i){var o=this;return(o=TS.call(this,t,"write_stream_connection_backoff","write_stream_idle",e,n,i)||this).serializer=r,o.Su=!1,o}function VS(t,e,n,r,i){var o=this;return(o=SS.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",e,n,i)||this).serializer=r,o}function qS(t,e,n,r,i,o){this._n=t,this.ru=n,this.ou=r,this.au=i,this.listener=o,this.state=0,this.cu=0,this.uu=null,this.stream=null,this.gs=new TE(t,e)}function BS(t,e){this.su=t,this.iu=e}function zS(t,e){this.su=t,this.iu=e,this.type="FirstParty",this.user=eI.ei}function GS(t){var e=this;this.Zc=null,this.currentUser=eI.UNAUTHENTICATED,this.tu=!1,this.eu=0,this.Hc=null,this.forceRefresh=!1,this.Zc=function(){e.eu++,e.currentUser=e.nu(),e.tu=!0,e.Hc&&e.Hc(e.currentUser)},this.eu=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.Zc):(this.Zc(null),t.get().then((function(t){e.auth=t,e.Zc&&e.auth.addAuthTokenListener(e.Zc)}),(function(){})))}function WS(){this.Hc=null}function HS(t,e){this.key=t,this.Gc=e}function KS(){this.Mc=new eb(AS.Oc),this.Lc=new eb(AS.Bc)}function QS(t){return ja(this,void 0,void 0,(function(){var e,n;return Va(this,(function(r){switch(r.label){case 0:if(!rC(t))return[3,4];e=0,n=t.Zu,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function YS(t){return ja(this,void 0,void 0,(function(){var e,n;return Va(this,(function(r){switch(r.label){case 0:e=0,n=t.Zu,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function XS(t){return ja(this,void 0,void 0,(function(){var e;return Va(this,(function(n){switch(n.label){case 0:return e=t,Sg("RemoteStore","RemoteStore shutting down."),e.Xu.add(5),[4,YS(e)];case 1:return n.sent(),e.th.Si(),e.nh.set("Unknown"),[2]}}))}))}function $S(t,e){var n=t;n.Ju.has(e.targetId)||(n.Ju.set(e.targetId,e),nC(n)?eC(n):fC(n).lu()&&ZS(n,e))}function JS(t,e){var n=t,r=fC(n);n.Ju.delete(e),r.lu()&&tC(n,e),0===n.Ju.size&&(r.lu()?r.du():rC(n)&&n.nh.set("Unknown"))}function ZS(t,e){t.sh.Ee(e.targetId),fC(t).bu(e)}function tC(t,e){t.sh.Ee(e),fC(t).vu(e)}function eC(t){t.sh=new wb({Be:function(e){return t.Hu.Be(e)},qe:function(e){return t.Ju.get(e)||null}}),fC(t).start(),t.nh.Uu()}function nC(t){return rC(t)&&!fC(t).hu()&&0<t.Ju.size}function rC(t){return 0===t.Xu.size}function iC(t){t.sh=void 0}function oC(t,e,n){return ja(this,void 0,void 0,(function(){var r,i,o;return Va(this,(function(a){switch(a.label){case 0:if(t.nh.set("Online"),!(e instanceof mb&&2===e.state&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(t,e){return ja(this,void 0,void 0,(function(){var n,r,i,o;return Va(this,(function(a){switch(a.label){case 0:n=e.cause,r=0,i=e.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],t.Ju.has(o)?[4,t.Hu.ih(o,n)]:[3,3]):[3,5];case 2:a.sent(),t.Ju.delete(o),t.sh.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),Sg("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,aC(t,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof yb?t.sh.pe(e):e instanceof gb?t.sh.$e(e):t.sh.Se(e),n.isEqual(Am.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,dS(t.Gu)];case 8:return i=a.sent(),0<=n.L(i)?[4,(u=n,(c=(s=t).sh.Me(u)).Gt.forEach((function(t,e){var n;0<t.resumeToken.O()&&(n=s.Ju.get(e))&&s.Ju.set(e,n.st(t.resumeToken,u))})),c.zt.forEach((function(t){var e,n=s.Ju.get(t);n&&(s.Ju.set(t,n.st(vm.B,n.et)),tC(s,t),e=new Gm(n.target,t,1,n.sequenceNumber),ZS(s,e))})),s.Hu.rh(c))]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return Sg("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,aC(t,o)];case 12:return a.sent(),[3,13];case 13:return[2]}var s,u,c}))}))}function aC(t,e,n){return ja(this,void 0,void 0,(function(){var r=this;return Va(this,(function(i){switch(i.label){case 0:if(!DE(e))throw e;return t.Xu.add(1),[4,YS(t)];case 1:return i.sent(),t.nh.set("Offline"),n=n||function(){return dS(t.Gu)},t.os.Ds((function(){return ja(r,void 0,void 0,(function(){return Va(this,(function(e){switch(e.label){case 0:return Sg("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Xu.delete(1),[4,QS(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function sC(t,e){return e().catch((function(n){return aC(t,n,e)}))}function uC(t){return ja(this,void 0,void 0,(function(){var e,n,r,i,o;return Va(this,(function(a){switch(a.label){case 0:n=pC(e=t),r=0<e.Yu.length?e.Yu[e.Yu.length-1].batchId:-1,a.label=1;case 1:if(!(rC(e)&&e.Yu.length<10))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,(s=e.Gu,u=r,(c=s).persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===u&&(u=-1),c.vr.Lo(t,u)})))];case 3:return null===(i=a.sent())?(0===e.Yu.length&&n.du(),[3,7]):(r=i.batchId,function(t,e){t.Yu.push(e);var n=pC(t);n.lu()&&n.Du&&n.Cu(e.mutations)}(e,i),[3,6]);case 4:return o=a.sent(),[4,aC(e,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return cC(e)&&lC(e),[2]}var s,u,c}))}))}function cC(t){return rC(t)&&!pC(t).hu()&&0<t.Yu.length}function lC(t){pC(t).start()}function hC(t,e){return ja(this,void 0,void 0,(function(){var n;return Va(this,(function(r){switch(r.label){case 0:return n=t,e?(n.Xu.delete(2),[4,QS(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Xu.add(2),[4,YS(n)]);case 3:r.sent(),n.nh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function fC(t){var e,n,r,i,o=this;return t.uh||(t.uh=(e=t.zu,n=t.os,r={yu:function(t){return ja(this,void 0,void 0,(function(){return Va(this,(function(e){return t.Ju.forEach((function(e,n){ZS(t,e)})),[2]}))}))}.bind(null,t),Iu:function(t,e){return ja(this,void 0,void 0,(function(){return Va(this,(function(n){return iC(t),nC(t)?(t.nh.ju(e),eC(t)):t.nh.set("Unknown"),[2]}))}))}.bind(null,t),pu:oC.bind(null,t)},(i=e).ku(),new RS(n,i.ou,i.credentials,i.serializer,r)),t.Zu.push((function(e){return ja(o,void 0,void 0,(function(){return Va(this,(function(n){switch(n.label){case 0:return e?(t.uh.fu(),nC(t)?eC(t):t.nh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.uh.stop()];case 2:n.sent(),iC(t),n.label=3;case 3:return[2]}}))}))}))),t.uh}function pC(t){var e,n,r,i,o=this;return t.hh||(t.hh=(e=t.zu,n=t.os,r={yu:function(t){return ja(this,void 0,void 0,(function(){return Va(this,(function(e){return pC(t).$u(),[2]}))}))}.bind(null,t),Iu:function(t,e){return ja(this,void 0,void 0,(function(){return Va(this,(function(n){switch(n.label){case 0:return e&&pC(t).Du?[4,function(t,e){return ja(this,void 0,void 0,(function(){var n,r;return Va(this,(function(i){switch(i.label){case 0:return Hm(r=e.code)&&r!==wg.ABORTED?(n=t.Yu.shift(),pC(t).fu(),[4,sC(t,(function(){return t.Hu.ah(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,uC(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return cC(t)&&lC(t),[2]}}))}))}.bind(null,t),Fu:function(t){return ja(this,void 0,void 0,(function(){var e,n,r,i;return Va(this,(function(o){for(e=pC(t),n=0,r=t.Yu;n<r.length;n++)i=r[n],e.Cu(i.mutations);return[2]}))}))}.bind(null,t),Nu:function(t,e,n){return ja(this,void 0,void 0,(function(){var r,i;return Va(this,(function(o){switch(o.label){case 0:return r=t.Yu.shift(),i=gI.from(r,e,n),[4,sC(t,(function(){return t.Hu.oh(i)}))];case 1:return o.sent(),[4,uC(t)];case 2:return o.sent(),[2]}}))}))}.bind(null,t)},(i=e).ku(),new DS(n,i.ou,i.credentials,i.serializer,r)),t.Zu.push((function(e){return ja(o,void 0,void 0,(function(){return Va(this,(function(n){switch(n.label){case 0:return e?(t.hh.fu(),[4,uC(t)]):[3,2];case 1:return n.sent(),[3,4];case 2:return[4,t.hh.stop()];case 3:n.sent(),0<t.Yu.length&&(Sg("RemoteStore","Stopping write stream with "+t.Yu.length+" pending writes"),t.Yu=[]),n.label=4;case 4:return[2]}}))}))}))),t.hh}var dC=function(t){this.key=t},vC=function(t){this.key=t},yC=(Object.defineProperty(_C.prototype,"mh",{get:function(){return this.lh},enumerable:!1,configurable:!0}),_C.prototype.Th=function(t,e){var n=this,r=e?e.Eh:new fb,i=e?e.wh:this.wh,o=e?e.Qt:this.Qt,a=i,s=!1,u=x_(this.query)&&i.size===this.query.limit?i.last():null,c=P_(this.query)&&i.size===this.query.limit?i.first():null;if(t.ut((function(t,e){var l=i.get(t),h=(h=e instanceof E_?e:null)&&(G_(n.query,h)?h:null),f=!!l&&n.Qt.has(l.key),p=!!h&&(h.Ye||n.Qt.has(h.key)&&h.hasCommittedMutations),d=!1;l&&h?l.data().isEqual(h.data())?f!==p&&(r.track({type:3,doc:h}),d=!0):n.Ih(l,h)||(r.track({type:2,doc:h}),d=!0,(u&&0<n.dh(h,u)||c&&n.dh(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),d=!0):l&&!h&&(r.track({type:1,doc:l}),d=!0,(u||c)&&(s=!0)),d&&(o=h?(a=a.add(h),p?o.add(t):o.delete(t)):(a=a.delete(t),o.delete(t)))})),x_(this.query)||P_(this.query))for(;a.size>this.query.limit;){var l=x_(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{wh:a,Eh:r,Ah:s,Qt:o}},_C.prototype.Ih=function(t,e){return t.Ye&&e.hasCommittedMutations&&!e.Ye},_C.prototype.gr=function(t,e,n){var r=this,i=this.wh;this.wh=t.wh,this.Qt=t.Qt;var o=t.Eh.qt();o.sort((function(t,e){return i=t.type,o=e.type,n(i)-n(o)||r.dh(t.doc,e.doc);function n(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ng()}}var i,o})),this.Rh(n);var a=e?this.Ph():[],s=0===this.fh.size&&this.Zt?1:0,u=s!==this._h;return this._h=s,0!==o.length||u?{snapshot:new pb(this.query,t.wh,i,o,t.Qt,0==s,u,!1),gh:a}:{gh:a}},_C.prototype.Us=function(t){return this.Zt&&"Offline"===t?(this.Zt=!1,this.gr({wh:this.wh,Eh:new fb,Qt:this.Qt,Ah:!1},!1)):{gh:[]}},_C.prototype.yh=function(t){return!this.lh.has(t)&&!!this.wh.has(t)&&!this.wh.get(t).Ye},_C.prototype.Rh=function(t){var e=this;t&&(t.te.forEach((function(t){return e.lh=e.lh.add(t)})),t.ee.forEach((function(t){})),t.ne.forEach((function(t){return e.lh=e.lh.delete(t)})),this.Zt=t.Zt)},_C.prototype.Ph=function(){var t=this;if(!this.Zt)return[];var e=this.fh;this.fh=cb(),this.wh.forEach((function(e){t.yh(e.key)&&(t.fh=t.fh.add(e.key))}));var n=[];return e.forEach((function(e){t.fh.has(e)||n.push(new vC(e))})),this.fh.forEach((function(t){e.has(t)||n.push(new dC(t))})),n},_C.prototype.Vh=function(t){this.lh=t.kc,this.fh=cb();var e=this.Th(t.documents);return this.gr(e,!0)},_C.prototype.ph=function(){return pb.Kt(this.query,this.wh,this.Qt,0===this._h)},_C),gC=function(t,e,n){this.query=t,this.targetId=e,this.view=n},mC=function(t){this.key=t,this.bh=!1},bC=(Object.defineProperty(wC.prototype,"Wh",{get:function(){return!0===this.Qh},enumerable:!1,configurable:!0}),wC);function wC(t,e,n,r,i,o){this.Gu=t,this.Sh=e,this.Dh=n,this.Ch=r,this.currentUser=i,this.Nh=o,this.Fh={},this.$h=new Sm(B_,q_),this.xh=new Map,this.kh=[],this.Mh=new Qm(Vg.i),this.Oh=new Map,this.Lh=new CS,this.Bh={},this.qh=new Map,this.Uh=HT.Ta(),this.onlineState="Unknown",this.Qh=void 0}function _C(t,e){this.query=t,this.lh=e,this._h=null,this.Zt=!1,this.fh=cb(),this.Qt=cb(),this.dh=W_(t),this.wh=new hb(this.dh)}function EC(t,e,n,r){return ja(this,void 0,void 0,(function(){var i,o,a,s,u,c;return Va(this,(function(l){switch(l.label){case 0:return t.jh=function(e,n,r){return function(t,e,n,r){return ja(this,void 0,void 0,(function(){var i,o,a;return Va(this,(function(s){switch(s.label){case 0:return(i=e.view.Th(n)).Ah?[4,mS(t.Gu,e.query,!1).then((function(t){var n=t.documents;return e.view.Th(n,i)}))]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.Gt.get(e.targetId),a=e.view.gr(i,t.Wh,o),[2,(OC(t,e.targetId,a.gh),a.snapshot)]}}))}))}(t,e,n,r)},[4,mS(t.Gu,e,!0)];case 1:return i=l.sent(),o=new yC(e,i.kc),a=o.Th(i.documents),s=vb.Xt(n,r&&"Offline"!==t.onlineState),u=o.gr(a,t.Wh,s),OC(t,n,u.gh),c=new gC(e,n,o),[2,(t.$h.set(e,c),t.xh.has(n)?t.xh.get(n).push(e):t.xh.set(n,[e]),u.snapshot)]}}))}))}function IC(t,e){return ja(this,void 0,void 0,(function(){var n,r;return Va(this,(function(i){switch(i.label){case 0:n=t,i.label=1;case 1:return i.trys.push([1,4,,6]),[4,vS(n.Gu,e)];case 2:return r=i.sent(),e.Gt.forEach((function(t,e){var r=n.Oh.get(e);r&&(Og(t.te.size+t.ee.size+t.ne.size<=1),0<t.te.size?r.bh=!0:0<t.ee.size?Og(r.bh):0<t.ne.size&&(Og(r.bh),r.bh=!1))})),[4,PC(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,wS(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function TC(t,e,n){var r,i=t;(i.Wh&&0===n||!i.Wh&&1===n)&&(r=[],i.$h.forEach((function(t,n){var i=n.view.Us(e);i.snapshot&&r.push(i.snapshot)})),function(t,e){var n=t;n.onlineState=e;var r=!1;n.Ls.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].Us(e)&&(r=!0)})),r&&ZE(n)}(i.Dh,e),r.length&&i.Fh.pu(r),i.onlineState=e,i.Wh&&i.Ch.ji(e))}function SC(t,e,n){return ja(this,void 0,void 0,(function(){var r,i;return Va(this,(function(o){switch(o.label){case 0:r=t,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,(a=r.Gu,s=e,(u=a).persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var e;return u.vr.Mo(t,s).next((function(n){return Og(null!==n),e=n.keys(),u.vr.Qo(t,n)})).next((function(){return u.vr.Go(t)})).next((function(){return u.$c.$r(t,e)}))})))];case 2:return i=o.sent(),AC(r,e,n),CC(r,e),r.Ch.xi(e,"rejected",n),[4,PC(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,wS(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}var a,s,u}))}))}function CC(t,e){(t.qh.get(e)||[]).forEach((function(t){t.resolve()})),t.qh.delete(e)}function AC(t,e,n){var r,i=t,o=i.Bh[i.currentUser.Zs()];o&&((r=o.get(e))&&(n?r.reject(n):r.resolve(),o=o.remove(e)),i.Bh[i.currentUser.Zs()]=o)}function kC(t,e,n){void 0===n&&(n=null),t.Ch.Li(e);for(var r=0,i=t.xh.get(e);r<i.length;r++){var o=i[r];t.$h.delete(o),n&&t.Fh.Kh(o,n)}t.xh.delete(e),t.Wh&&t.Lh.Wc(e).forEach((function(e){t.Lh.zo(e)||NC(t,e)}))}function NC(t,e){var n=t.Mh.get(e);null!==n&&(JS(t.Sh,n),t.Mh=t.Mh.remove(e),t.Oh.delete(n),xC(t))}function OC(t,e,n){for(var r,i,o=0,a=n;o<a.length;o++){var s=a[o];s instanceof dC?(t.Lh.Fa(s.key,e),r=t,i=s.key,r.Mh.get(i)||(Sg("SyncEngine","New document in limbo: "+i),r.kh.push(i),xC(r))):s instanceof vC?(Sg("SyncEngine","Document no longer in limbo: "+s.key),t.Lh.xa(s.key,e),t.Lh.zo(s.key)||NC(t,s.key)):Ng()}}function xC(t){for(;0<t.kh.length&&t.Mh.size<t.Nh;){var e=t.kh.shift(),n=t.Uh.next();t.Oh.set(n,new mC(e)),t.Mh=t.Mh.rt(e,n),$S(t.Sh,new Gm(F_(O_(e.path)),n,2,iI.oi))}}function PC(t,e,n){return ja(this,void 0,void 0,(function(){var r,i,o,a;return Va(this,(function(s){switch(s.label){case 0:return i=[],o=[],a=[],(r=t).$h.m()?[3,3]:(r.$h.forEach((function(t,s){a.push(r.jh(s,e,n).then((function(t){var e;t&&(r.Wh&&r.Ch.Ui(s.targetId,t.fromCache?"not-current":"current"),i.push(t),e=EI.Gr(s.targetId,t),o.push(e))})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.Fh.pu(i),[4,function(t,e){return ja(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l;return Va(this,(function(h){switch(h.label){case 0:n=t,h.label=1;case 1:return h.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return SE.forEach(e,(function(e){return SE.forEach(e.jr,(function(r){return n.persistence.Co.Fa(t,e.targetId,r)})).next((function(){return SE.forEach(e.Kr,(function(r){return n.persistence.Co.xa(t,e.targetId,r)}))}))}))}))];case 2:return h.sent(),[3,4];case 3:if(!DE(r=h.sent()))throw r;return Sg("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=o[i],s=a.targetId,a.fromCache||(u=n.Dc.get(s),c=u.et,l=u.it(c),n.Dc=n.Dc.rt(s,l));return[2]}}))}))}(r.Gu,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function RC(t,e){return ja(this,void 0,void 0,(function(){var n,r;return Va(this,(function(i){switch(i.label){case 0:return(n=t).currentUser.isEqual(e)?[3,3]:(Sg("SyncEngine","User change. New user:",e.Zs()),[4,function(t,e){return ja(this,void 0,void 0,(function(){var n,r,i,o;return Va(this,(function(a){switch(a.label){case 0:return r=(n=t).vr,i=n.$c,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n.vr.qo(t).next((function(a){return o=a,r=n.persistence.Ic(e),i=new _I(n.Fc,r,n.persistence.Pc()),r.qo(t)})).next((function(e){for(var n=[],r=[],a=cb(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var f=h[l];a=a.add(f.key)}}for(var p=0,d=e;p<d.length;p++){var v=d[p];r.push(v.batchId);for(var y=0,g=v.mutations;y<g.length;y++){var m=g[y];a=a.add(m.key)}}return i.$r(t,a).next((function(t){return{Gh:t,zh:n,Hh:r}}))}))}))];case 1:return o=a.sent(),[2,(n.vr=r,n.$c=i,n.Sc.xc(n.$c),o)]}}))}))}(n.Gu,e)]);case 1:return r=i.sent(),n.currentUser=e,(o=n).qh.forEach((function(t){t.forEach((function(t){t.reject(new _g(wg.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),o.qh.clear(),n.Ch.Wi(e,r.zh,r.Hh),[4,PC(n,r.Gh)];case 2:i.sent(),i.label=3;case 3:return[2]}var o}))}))}function DC(t,e,n,r){return ja(this,void 0,void 0,(function(){var i,o;return Va(this,(function(a){switch(a.label){case 0:return[4,(s=(i=t).Gu,u=e,l=(c=s).vr,c.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return l.Oo(t,u).next((function(e){return e?c.$c.$r(t,e):SE.resolve(null)}))})))];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,uC(i.Sh)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(AC(i,e,r||null),CC(i,e),i.Gu.vr.jo(e)):Ng(),a.label=4;case 4:return[4,PC(i,o)];case 5:return a.sent(),[3,7];case 6:Sg("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}var s,u,c,l}))}))}function LC(t,e){return ja(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return Va(this,(function(l){switch(l.label){case 0:return jC(n=t),VC(n),!0!==e||!0===n.Qh?[3,3]:(r=n.Ch.Di(),[4,MC(n,r.A())]);case 1:return i=l.sent(),n.Qh=!0,[4,hC(n.Sh,!0)];case 2:for(l.sent(),o=0,a=i;o<a.length;o++)s=a[o],$S(n.Sh,s);return[3,7];case 3:return!1!==e||!1===n.Qh?[3,7]:(u=[],c=Promise.resolve(),n.xh.forEach((function(t,e){n.Ch.Bi(e)?u.push(e):c=c.then((function(){return kC(n,e),gS(n.Gu,e,!0)})),JS(n.Sh,e)})),[4,c]);case 4:return l.sent(),[4,MC(n,u)];case 5:return l.sent(),(h=n).Oh.forEach((function(t,e){JS(h.Sh,e)})),h.Lh.jc(),h.Oh=new Map,h.Mh=new Qm(Vg.i),n.Qh=!1,[4,hC(n.Sh,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}var h}))}))}function MC(t,e){return ja(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,h,f,p,d,v;return Va(this,(function(y){switch(y.label){case 0:n=t,r=[],i=[],o=0,a=e,y.label=1;case 1:return o<a.length?(s=a[o],u=void 0,(c=n.xh.get(s))&&0!==c.length?[4,yS(n.Gu,F_(c[0]))]:[3,7]):[3,13];case 2:u=y.sent(),l=0,h=c,y.label=3;case 3:return l<h.length?(f=h[l],p=n.$h.get(f),[4,function(t,e){return ja(this,void 0,void 0,(function(){var n,r,i;return Va(this,(function(o){switch(o.label){case 0:return[4,mS((n=t).Gu,e.query,!0)];case 1:return r=o.sent(),i=e.view.Vh(r),[2,(n.Wh&&OC(n,e.targetId,i.gh),i)]}}))}))}(n,p)]):[3,6];case 4:(d=y.sent()).snapshot&&i.push(d.snapshot),y.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,bS(n.Gu,s)];case 8:return v=y.sent(),[4,yS(n.Gu,v)];case 9:return u=y.sent(),[4,EC(n,FC(v),s,!1)];case 10:y.sent(),y.label=11;case 11:r.push(u),y.label=12;case 12:return o++,[3,1];case 13:return[2,(n.Fh.pu(i),r)]}}))}))}function FC(t){return N_(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function UC(t,e,n,r){return ja(this,void 0,void 0,(function(){var i,o,a;return Va(this,(function(s){switch(s.label){case 0:return(i=t).Qh?(Sg("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.xh.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,(u=i.Gu,c=u.Fc,u.persistence.runTransaction("Get new document changes","readonly",(function(t){return c.ia(t,u.Nc)})).then((function(t){var e=t.ra,n=t.readTime;return u.Nc=n,e})))];case 3:return o=s.sent(),a=db.Jt(e,"current"===n),[4,PC(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,gS(i.Gu,e,!0)];case 6:return s.sent(),kC(i,e,r),[3,8];case 7:Ng(),s.label=8;case 8:return[2]}var u,c}))}))}function jC(t){var e=t;return e.Sh.Hu.rh=IC.bind(null,e),e.Sh.Hu.Be=function(t,e){var n=t,r=n.Oh.get(e);if(r&&r.bh)return cb().add(r.key);var i=cb(),o=n.xh.get(e);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],c=n.$h.get(u);i=i.xt(c.view.mh)}return i}.bind(null,e),e.Sh.Hu.ih=function(t,e,n){return ja(this,void 0,void 0,(function(){var r,i,o,a,s,u;return Va(this,(function(c){switch(c.label){case 0:return(r=t).Ch.Ui(e,"rejected",n),i=r.Oh.get(e),(o=i&&i.key)?(a=(a=new Qm(Vg.i)).rt(o,new I_(o,Am.min())),s=cb().add(o),u=new db(Am.min(),new Map,new eb(fm),a,s),[4,IC(r,u)]):[3,2];case 1:return c.sent(),r.Mh=r.Mh.remove(o),r.Oh.delete(e),xC(r),[3,4];case 2:return[4,gS(r.Gu,e,!1).then((function(){return kC(r,e,n)})).catch(wS)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}.bind(null,e),e.Fh.pu=function(t,e){for(var n=t,r=!1,i=0,o=e;i<o.length;i++){var a=o[i],s=a.query,u=n.Ls.get(s);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].Qs(a)&&(r=!0);u.Os=a}}r&&ZE(n)}.bind(null,e.Dh),e.Fh.Kh=function(t,e,n){var r=t,i=r.Ls.get(e);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.Ls.delete(e)}.bind(null,e.Dh),e}function VC(t){var e=t;return e.Sh.Hu.oh=function(t,e){return ja(this,void 0,void 0,(function(){var n,r,i;return Va(this,(function(o){switch(o.label){case 0:n=t,r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,pS(n.Gu,e)];case 2:return i=o.sent(),AC(n,r,null),CC(n,r),n.Ch.xi(r,"acknowledged"),[4,PC(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,wS(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}.bind(null,e),e.Sh.Hu.ah=SC.bind(null,e),e}var qC,BC=(KC.prototype.xc=function(t){this.Yh=t},KC.prototype.Or=function(t,e,n,r){var i=this;return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.rn.length||1===e.rn.length&&e.rn[0].field.p())||n.isEqual(Am.min())?this.Jh(t,e):this.Yh.$r(t,r).next((function(o){var a=i.Xh(e,o);return(x_(e)||P_(e))&&i.Ah(e.on,a,r,n)?i.Jh(t,e):(Tg()<=Gs.DEBUG&&Sg("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),z_(e)),i.Yh.Or(t,e,n).next((function(t){return a.forEach((function(e){t=t.rt(e.key,e)})),t})))}))},KC.prototype.Xh=function(t,e){var n=new eb(W_(t));return e.forEach((function(e,r){r instanceof E_&&G_(t,r)&&(n=n.add(r))})),n},KC.prototype.Ah=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||0<i.version.L(r))},KC.prototype.Jh=function(t,e){return Tg()<=Gs.DEBUG&&Sg("IndexFreeQueryEngine","Using full collection scan to execute query:",z_(e)),this.Yh.Or(t,e,Am.min())},KC),zC=(HC.prototype.$o=function(t){return SE.resolve(0===this.vr.length)},HC.prototype.xo=function(t,e,n,r){var i=this.Zh;this.Zh++,0<this.vr.length&&this.vr[this.vr.length-1];var o=new yI(i,e,n,r);this.vr.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.tl=this.tl.add(new AS(u.key,i)),this.Sr.ko(t,u.key.path.h())}return SE.resolve(o)},HC.prototype.Mo=function(t,e){return SE.resolve(this.el(e))},HC.prototype.Lo=function(t,e){var n=e+1,r=this.nl(n),i=r<0?0:r;return SE.resolve(this.vr.length>i?this.vr[i]:null)},HC.prototype.Bo=function(){return SE.resolve(0===this.vr.length?-1:this.Zh-1)},HC.prototype.qo=function(t){return SE.resolve(this.vr.slice())},HC.prototype.Cr=function(t,e){var n=this,r=new AS(e,0),i=new AS(e,Number.POSITIVE_INFINITY),o=[];return this.tl.Nt([r,i],(function(t){var e=n.el(t.Gc);o.push(e)})),SE.resolve(o)},HC.prototype.Mr=function(t,e){var n=this,r=new eb(fm);return e.forEach((function(t){var e=new AS(t,0),i=new AS(t,Number.POSITIVE_INFINITY);n.tl.Nt([e,i],(function(t){r=r.add(t.Gc)}))})),SE.resolve(this.sl(r))},HC.prototype.Qr=function(t,e){var n=e.path,r=n.length+1,i=n;Vg.F(i)||(i=i.child(""));var o=new AS(new Vg(i),0),a=new eb(fm);return this.tl.Ft((function(t){var e=t.key.path;return!!n.T(e)&&(e.length===r&&(a=a.add(t.Gc)),!0)}),o),SE.resolve(this.sl(a))},HC.prototype.sl=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.el(t);null!==r&&n.push(r)})),n},HC.prototype.Qo=function(t,e){var n=this;Og(0===this.il(e.batchId,"removed")),this.vr.shift();var r=this.tl;return SE.forEach(e.mutations,(function(i){var o=new AS(i.key,e.batchId);return r=r.delete(o),n.Co.Ko(t,i.key)})).next((function(){n.tl=r}))},HC.prototype.jo=function(t){},HC.prototype.zo=function(t,e){var n=new AS(e,0),r=this.tl.$t(n);return SE.resolve(e.isEqual(r&&r.key))},HC.prototype.Go=function(t){return this.vr.length,SE.resolve()},HC.prototype.il=function(t,e){return this.nl(t)},HC.prototype.nl=function(t){return 0===this.vr.length?0:t-this.vr[0].batchId},HC.prototype.el=function(t){var e=this.nl(t);return e<0||e>=this.vr.length?null:this.vr[e]},HC),GC=(WC.prototype.Tr=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,a=this.rl(e);return this.docs=this.docs.rt(r,{Zo:e,size:a,readTime:n}),this.size+=a-o,this.Sr.ko(t,r.path.h())},WC.prototype.Ir=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},WC.prototype.Ar=function(t,e){var n=this.docs.get(e);return SE.resolve(n?n.Zo:null)},WC.prototype.getEntries=function(t,e){var n=this,r=rb;return e.forEach((function(t){var e=n.docs.get(t);r=r.rt(t,e?e.Zo:null)})),SE.resolve(r)},WC.prototype.Or=function(t,e,n){for(var r=ab,i=new Vg(e.path.child("")),o=this.docs._t(i);o.It();){var a=o.Et(),s=a.key,u=a.value,c=u.Zo,l=u.readTime;if(!e.path.T(s.path))break;l.L(n)<=0||c instanceof E_&&G_(e,c)&&(r=r.rt(c.key,c))}return SE.resolve(r)},WC.prototype.ol=function(t,e){return SE.forEach(this.docs,(function(t){return e(t)}))},WC.prototype.aa=function(t){return new WC.ca(this)},WC.prototype.ha=function(t){return SE.resolve(this.size)},WC);function WC(t,e){this.Sr=t,this.rl=e,this.docs=new Qm(Vg.i),this.size=0}function HC(t,e){this.Sr=t,this.Co=e,this.vr=[],this.Zh=1,this.tl=new eb(AS.Oc)}function KC(){}function QC(t){var e=this;return(e=qC.call(this)||this).la=t,e}GC.ca=(Fa(QC,qC=mI),QC.prototype.gr=function(t){var e=this,n=[];return this.dr.forEach((function(r,i){i?n.push(e.la.Tr(t,i,e.readTime)):e.la.Ir(r)})),SE.$n(n)},QC.prototype.Rr=function(t,e){return this.la.Ar(t,e)},QC.prototype.Pr=function(t,e){return this.la.getEntries(t,e)},QC);var YC,XC,$C=(dA.prototype.De=function(t,e){return this.al.forEach((function(t,n){return e(n)})),SE.resolve()},dA.prototype.Ra=function(t){return SE.resolve(this.lastRemoteSnapshotVersion)},dA.prototype.Pa=function(t){return SE.resolve(this.cl)},dA.prototype.Ea=function(t){return this.highestTargetId=this.hl.next(),SE.resolve(this.highestTargetId)},dA.prototype.ga=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.cl&&(this.cl=e),SE.resolve()},dA.prototype.Va=function(t){this.al.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.hl=new HT(e),this.highestTargetId=e),t.sequenceNumber>this.cl&&(this.cl=t.sequenceNumber)},dA.prototype.ya=function(t,e){return this.Va(e),this.targetCount+=1,SE.resolve()},dA.prototype.ba=function(t,e){return this.Va(e),SE.resolve()},dA.prototype.va=function(t,e){return this.al.delete(e.target),this.ul.Wc(e.targetId),--this.targetCount,SE.resolve()},dA.prototype.Vo=function(t,e,n){var r=this,i=0,o=[];return this.al.forEach((function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.al.delete(a),o.push(r.Sa(t,s.targetId)),i++)})),SE.$n(o).next((function(){return i}))},dA.prototype.Da=function(t){return SE.resolve(this.targetCount)},dA.prototype.Ca=function(t,e){var n=this.al.get(e)||null;return SE.resolve(n)},dA.prototype.Na=function(t,e,n){return this.ul.qc(e,n),SE.resolve()},dA.prototype.$a=function(t,e,n){this.ul.Qc(e,n);var r=this.persistence.Co,i=[];return r&&e.forEach((function(e){i.push(r.Ko(t,e))})),SE.$n(i)},dA.prototype.Sa=function(t,e){return this.ul.Wc(e),SE.resolve()},dA.prototype.ka=function(t,e){var n=this.ul.Kc(e);return SE.resolve(n)},dA.prototype.zo=function(t,e){return SE.resolve(this.ul.zo(e))},dA),JC=(pA.prototype.start=function(){return Promise.resolve()},pA.prototype.Si=function(){return this.qa=!1,Promise.resolve()},Object.defineProperty(pA.prototype,"Ti",{get:function(){return this.qa},enumerable:!1,configurable:!0}),pA.prototype.nc=function(){},pA.prototype.sc=function(){},pA.prototype.Pc=function(){return this.Sr},pA.prototype.Ic=function(t){var e=this.ll[t.Zs()];return e||(e=new zC(this.Sr,this.Co),this.ll[t.Zs()]=e),e},pA.prototype.Ac=function(){return this.Ha},pA.prototype.Rc=function(){return this.br},pA.prototype.runTransaction=function(t,e,n){var r=this;Sg("MemoryPersistence","Starting transaction:",t);var i=new ZC(this.Ba.next());return this.Co.fl(),n(i).next((function(t){return r.Co.dl(i).next((function(){return t}))})).Nn().then((function(t){return i.pr(),t}))},pA.prototype.wl=function(t,e){return SE.xn(Object.values(this.ll).map((function(n){return function(){return n.zo(t,e)}})))},pA),ZC=(Fa(fA,XC=wI),fA),tA=(hA.El=function(t){return new hA(t)},Object.defineProperty(hA.prototype,"Il",{get:function(){if(this.Tl)return this.Tl;throw Ng()},enumerable:!1,configurable:!0}),hA.prototype.Fa=function(t,e,n){return this.ml.Fa(n,e),this.Il.delete(n.toString()),SE.resolve()},hA.prototype.xa=function(t,e,n){return this.ml.xa(n,e),this.Il.add(n.toString()),SE.resolve()},hA.prototype.Ko=function(t,e){return this.Il.add(e.toString()),SE.resolve()},hA.prototype.removeTarget=function(t,e){var n=this;this.ml.Wc(e.targetId).forEach((function(t){return n.Il.add(t.toString())}));var r=this.persistence.Ac();return r.ka(t,e.targetId).next((function(t){t.forEach((function(t){return n.Il.add(t.toString())}))})).next((function(){return r.va(t,e)}))},hA.prototype.fl=function(){this.Tl=new Set},hA.prototype.dl=function(t){var e=this,n=this.persistence.Rc().aa();return SE.forEach(this.Il,(function(r){var i=Vg.D(r);return e.Al(t,i).next((function(t){t||n.Ir(i)}))})).next((function(){return e.Tl=null,n.apply(t)}))},hA.prototype.vc=function(t,e){var n=this;return this.Al(t,e).next((function(t){t?n.Il.delete(e.toString()):n.Il.add(e.toString())}))},hA.prototype._l=function(t){return 0},hA.prototype.Al=function(t,e){var n=this;return SE.xn([function(){return SE.resolve(n.ml.zo(e))},function(){return n.persistence.Ac().zo(t,e)},function(){return n.persistence.wl(t,e)}])},hA),eA=(lA.prototype.yu=function(t){this.gl=t},lA.prototype.Iu=function(t){this.yl=t},lA.prototype.onMessage=function(t){this.Vl=t},lA.prototype.close=function(){this.Pl()},lA.prototype.send=function(t){this.Rl(t)},lA.prototype.pl=function(){this.gl()},lA.prototype.bl=function(t){this.yl(t)},lA.prototype.vl=function(t){this.Vl(t)},lA),nA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},rA=(cA.prototype.Mu=function(t,e,n,r){var i=this.Nl(t,e);Sg("RestConnection","Sending: ",i,n);var o={};return this.Fl(o,r),this.$l(t,i,o,n).then((function(t){return Sg("RestConnection","Received: ",t),t}),(function(e){throw Ag("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},cA.prototype.Ou=function(t,e,n,r){return this.Mu(t,e,n,r)},cA.prototype.Fl=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/7.22.1",t["Content-Type"]="text/plain",e)for(var n in e.zc)e.zc.hasOwnProperty(n)&&(t[n]=e.zc[n])},cA.prototype.Nl=function(t,e){var n=nA[t];return this.Dl+"/v1/"+e+":"+n},Fa(uA,YC=cA),uA.prototype.$l=function(t,e,n,r){return new Promise((function(i,o){var a=new bg;a.listenOnce(gg.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case yg.NO_ERROR:var e=a.getResponseJson();Sg("Connection","XHR received:",JSON.stringify(e)),i(e);break;case yg.TIMEOUT:Sg("Connection",'RPC "'+t+'" timed out'),o(new _g(wg.DEADLINE_EXCEEDED,"Request time out"));break;case yg.HTTP_ERROR:var n,r,s=a.getStatus();Sg("Connection",'RPC "'+t+'" failed with status:',s,"response text:",a.getResponseText()),0<s?(n=a.getResponseJson().error)&&n.status&&n.message?(u=n.status.toLowerCase().replace("_","-"),r=0<=Object.values(wg).indexOf(u)?u:wg.UNKNOWN,o(new _g(r,n.message))):o(new _g(wg.UNKNOWN,"Server responded with status "+a.getStatus())):o(new _g(wg.UNAVAILABLE,"Connection failed."));break;default:Ng()}}finally{Sg("Connection",'RPC "'+t+'" completed.')}var u}));var s=JSON.stringify(r);a.send(e,"POST",s,n,15)}))},uA.prototype.Vu=function(t,e){var n,r=[this.Dl,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=vg(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.U.projectId+"/databases/"+this.U.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.Fl(o.initMessageHeaders,e),rs()||os()||0<=ns().indexOf("Electron/")||0<=(n=ns()).indexOf("MSIE ")||0<=n.indexOf("Trident/")||0<=ns().indexOf("MSAppHost/")||is()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=r.join("");function s(t,e){u.listen(t,(function(t){try{e(t)}catch(t){setTimeout((function(){throw t}),0)}}))}Sg("Connection","Creating WebChannel: "+a,o);var u=i.createWebChannel(a,o),c=!1,l=!1,h=new eA({Rl:function(t){l?Sg("Connection","Not sending because WebChannel is closed:",t):(c||(Sg("Connection","Opening WebChannel transport."),u.open(),c=!0),Sg("Connection","WebChannel sending:",t),u.send(t))},Pl:function(){return u.close()}});return s(mg.EventType.OPEN,(function(){l||Sg("Connection","WebChannel transport opened.")})),s(mg.EventType.CLOSE,(function(){l||(l=!0,Sg("Connection","WebChannel transport closed"),h.bl())})),s(mg.EventType.ERROR,(function(t){l||(l=!0,Ag("Connection","WebChannel transport errored:",t),h.bl(new _g(wg.UNAVAILABLE,"The operation could not be completed")))})),s(mg.EventType.MESSAGE,(function(t){var e,n,r,i,o,a;l||(Og(!!(n=t.data[0])),(r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error))?(Sg("Connection","WebChannel received error:",r),i=r.status,o=function(){var t=Bm[i];if(void 0!==t)return Km(t)}(),a=r.message,void 0===o&&(o=wg.INTERNAL,a="Unknown error status: "+i+" with message "+r.message),l=!0,h.bl(new _g(o,a)),u.close()):(Sg("Connection","WebChannel received:",n),h.vl(n)))})),setTimeout((function(){h.pl()}),0),h},uA),iA=(sA.prototype.eh=function(t){this.Ll.push(t)},sA.prototype.Si=function(){window.removeEventListener("online",this.xl),window.removeEventListener("offline",this.Ml)},sA.prototype.Bl=function(){window.addEventListener("online",this.xl),window.addEventListener("offline",this.Ml)},sA.prototype.kl=function(){Sg("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Ll;t<e.length;t++)(0,e[t])(0)},sA.prototype.Ol=function(){Sg("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Ll;t<e.length;t++)(0,e[t])(1)},sA.On=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},sA),oA=(aA.prototype.eh=function(t){},aA.prototype.Si=function(){},aA);function aA(){}function sA(){var t=this;this.xl=function(){return t.kl()},this.Ml=function(){return t.Ol()},this.Ll=[],this.Bl()}function uA(t){var e=this;return(e=YC.call(this,t)||this).forceLongPolling=t.forceLongPolling,e}function cA(t){this.Sl=t,this.U=t.U;var e=t.ssl?"https":"http";this.Dl=e+"://"+t.host,this.Cl="projects/"+this.U.projectId+"/databases/"+this.U.database+"/documents"}function lA(t){this.Rl=t.Rl,this.Pl=t.Pl}function hA(t){this.persistence=t,this.ml=new CS,this.Tl=null}function fA(t){var e=this;return(e=XC.call(this)||this).Ma=t,e}function pA(t){var e=this;this.ll={},this.Ba=new iI(0),this.qa=!1,this.qa=!0,this.Co=t(this),this.Ha=new $C(this),this.Sr=new wT,this.br=new GC(this.Sr,(function(t){return e.Co._l(t)}))}function dA(t){this.persistence=t,this.al=new Sm(Um,jm),this.lastRemoteSnapshotVersion=Am.min(),this.highestTargetId=0,this.cl=0,this.ul=new CS,this.targetCount=0,this.hl=HT.ma()}function vA(t){return new Xb(t,!0)}var yA,gA,mA,bA,wA="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",_A=(MA.prototype.initialize=function(t){return ja(this,void 0,void 0,(function(){return Va(this,(function(e){switch(e.label){case 0:return this.Ch=this.ql(t),this.persistence=this.Ul(t),[4,this.persistence.start()];case 1:return e.sent(),this.Ql=this.Wl(t),this.Gu=this.jl(t),[2]}}))}))},MA.prototype.Wl=function(t){return null},MA.prototype.jl=function(t){return e=this.persistence,n=new BC,r=t.Kl,new hS(e,n,r);var e,n,r},MA.prototype.Ul=function(t){if(t.persistenceSettings.Gl)throw new _g(wg.FAILED_PRECONDITION,wA);return new JC(tA.El)},MA.prototype.ql=function(t){return new vI},MA.prototype.terminate=function(){return ja(this,void 0,void 0,(function(){return Va(this,(function(t){switch(t.label){case 0:return this.Ql&&this.Ql.stop(),[4,this.Ch.Si()];case 1:return t.sent(),[4,this.persistence.Si()];case 2:return t.sent(),[2]}}))}))},MA.prototype.clearPersistence=function(t,e){throw new _g(wg.FAILED_PRECONDITION,wA)},MA),EA=(Fa(LA,bA=_A),LA.prototype.initialize=function(t){return ja(this,void 0,void 0,(function(){return Va(this,(function(e){switch(e.label){case 0:return[4,bA.prototype.initialize.call(this,t)];case 1:return e.sent(),[4,function(t){return ja(this,void 0,void 0,(function(){var e,n;return Va(this,(function(r){return n=(e=t).Fc,[2,e.persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return n.oa(t)})).then((function(t){e.Nc=t}))]}))}))}(this.Gu)];case 2:return e.sent(),[4,this.zl.initialize(this,t)];case 3:return e.sent(),[4,VC(this.zl._i)];case 4:return e.sent(),[4,uC(this.zl.Sh)];case 5:return e.sent(),[2]}}))}))},LA.prototype.Wl=function(t){var e=this.persistence.Co.do;return new BI(e,t.os)},LA.prototype.Ul=function(t){var e=lS(t.Sl.U,t.Sl.persistenceKey),n=vA(t.Sl.U);return new nS(t.persistenceSettings.synchronizeTabs,e,t.clientId,jI.oo(t.persistenceSettings.cacheSizeBytes),t.os,BE(),zE(),n,this.Ch,t.persistenceSettings.La)},LA.prototype.ql=function(t){return new vI},LA.prototype.clearPersistence=function(t,e){return function(t){return ja(this,void 0,void 0,(function(){var e;return Va(this,(function(n){switch(n.label){case 0:return CE.On()?(e=t+"main",[4,CE.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(lS(t,e))},Fa(DA,mA=LA),DA.prototype.initialize=function(t){return ja(this,void 0,void 0,(function(){var e,n=this;return Va(this,(function(r){switch(r.label){case 0:return[4,mA.prototype.initialize.call(this,t)];case 1:return r.sent(),e=this.zl._i,this.Ch instanceof dI?(this.Ch._i={tr:DC.bind(null,e),er:UC.bind(null,e),nr:function(t,e,n){return ja(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,h,f;return Va(this,(function(p){switch(p.label){case 0:if(!(r=jC(t)).Qh)return[3,10];i=0,o=e,p.label=1;case 1:return i<o.length?(a=o[i],r.xh.has(a)?(Sg("SyncEngine","Adding an already active target "+a),[3,5]):[4,bS(r.Gu,a)]):[3,6];case 2:return s=p.sent(),[4,yS(r.Gu,s)];case 3:return u=p.sent(),[4,EC(r,FC(s),u.targetId,!1)];case 4:p.sent(),$S(r.Sh,u),p.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Va(this,(function(e){switch(e.label){case 0:return r.xh.has(t)?[4,gS(r.Gu,t,!1).then((function(){JS(r.Sh,t),kC(r,t)})).catch(wS)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},l=0,h=n,p.label=7;case 7:return l<h.length?(f=h[l],[5,c(f)]):[3,10];case 8:p.sent(),p.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}.bind(null,e),Vi:function(t){return t.Gu.persistence.Vi()}.bind(null,e)},[4,this.Ch.start()]):[3,3];case 2:r.sent(),r.label=3;case 3:return[4,this.persistence.ec((function(t){return ja(n,void 0,void 0,(function(){return Va(this,(function(e){switch(e.label){case 0:return[4,LC(this.zl._i,t)];case 1:return e.sent(),this.Ql&&(t&&!this.Ql.Ti?this.Ql.start(this.Gu):t||this.Ql.stop()),[2]}}))}))}))];case 4:return r.sent(),[2]}}))}))},DA.prototype.ql=function(t){if(t.persistenceSettings.Gl&&t.persistenceSettings.synchronizeTabs){var e=BE();if(!dI.On(e))throw new _g(wg.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=lS(t.Sl.U,t.Sl.persistenceKey);return new dI(e,t.os,n,t.clientId,t.Kl)}return new vI},DA),IA=(RA.prototype.initialize=function(t,e){return ja(this,void 0,void 0,(function(){var n=this;return Va(this,(function(r){switch(r.label){case 0:return this.Gu?[3,2]:(this.Gu=t.Gu,this.Ch=t.Ch,this.zu=this.Hl(e),this.Sh=this.Yl(e),this.Dh=this.Jl(e),this._i=this.Xl(e),this.Ch.fi=function(t){return TC(n._i,t,1)},this.Sh.Hu.Zl=RC.bind(null,this._i),[4,hC(this.Sh,this._i.Wh)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},RA.prototype.Jl=function(t){return new XE},RA.prototype.Hl=function(t){var e,n,r=vA(t.Sl.U),i=(e=t.Sl,new rA(e));return n=t.credentials,new LS(n,i,r)},RA.prototype.Yl=function(t){var e=this;return new ES(this.Gu,this.zu,t.os,(function(t){return TC(e._i,t,0)}),new(iA.On()?iA:oA))},RA.prototype.Xl=function(t){return e=this.Gu,n=this.Sh,r=this.Dh,i=this.Ch,o=t.Kl,a=t.Nh,s=!t.persistenceSettings.Gl||!t.persistenceSettings.synchronizeTabs,u=new bC(e,n,r,i,o,a),s&&(u.Qh=!0),u;var e,n,r,i,o,a,s,u},RA.prototype.terminate=function(){return XS(this.Sh)},RA),TA=(PA.prototype.next=function(t){this.observer.next&&this.t_(this.observer.next,t)},PA.prototype.error=function(t){this.observer.error?this.t_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},PA.prototype.e_=function(){this.muted=!0},PA.prototype.t_=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},PA),SA=function(t){!function(){if(!(t instanceof Array)||t.length<1)throw new _g(wg.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least 1 element.")}();for(var e=0;e<t.length;++e)if(Yg("FieldPath","string",e,t[e]),0===t[e].length)throw new _g(wg.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.n_=new jg(t)},CA=(Fa(xA,gA=SA),xA.documentId=function(){return new xA(jg.v().R())},xA.prototype.isEqual=function(t){if(!(t instanceof xA))throw am("isEqual","FieldPath",1,t);return this.n_.isEqual(t.n_)},xA),AA=new RegExp("[~\\*/\\[\\]]"),kA=function(t){this.s_=t},NA=(Fa(OA,yA=kA),OA.prototype.i_=function(t){if(2!==t.r_)throw 1===t.r_?t.o_(this.s_+"() can only appear at the top level of your update data"):t.o_(this.s_+"() cannot be used with set() unless you pass {merge:true}");return t.Qe.push(t.path),null},OA.prototype.isEqual=function(t){return t instanceof OA},OA);function OA(){return null!==yA&&yA.apply(this,arguments)||this}function xA(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return gA.call(this,t)||this}function PA(t){this.observer=t,this.muted=!1}function RA(){}function DA(){return null!==mA&&mA.apply(this,arguments)||this}function LA(t){var e=this;return(e=bA.call(this)||this).zl=t,e}function MA(){}function FA(t,e,n){return new ak({r_:3,a_:e.settings.a_,methodName:t.s_,c_:n},e.U,e.serializer,e.ignoreUndefinedProperties)}var UA,jA,VA,qA,BA=(Fa(ik,qA=kA),ik.prototype.i_=function(t){return new Vw(t.path,new Sw)},ik.prototype.isEqual=function(t){return t instanceof ik},ik),zA=(Fa(rk,VA=kA),rk.prototype.i_=function(t){var e=FA(this,t,!0),n=this.u_.map((function(t){return dk(t,e)})),r=new Cw(n);return new Vw(t.path,r)},rk.prototype.isEqual=function(t){return this===t},rk),GA=(Fa(nk,jA=kA),nk.prototype.i_=function(t){var e=FA(this,t,!0),n=this.u_.map((function(t){return dk(t,e)})),r=new xw(n);return new Vw(t.path,r)},nk.prototype.isEqual=function(t){return this===t},nk),WA=(Fa(ek,UA=kA),ek.prototype.i_=function(t){var e=new Lw(t.serializer,Zb(t.serializer,this.h_));return new Vw(t.path,e)},ek.prototype.isEqual=function(t){return this===t},ek),HA=(Object.defineProperty(tk.prototype,"latitude",{get:function(){return this.l_},enumerable:!1,configurable:!0}),Object.defineProperty(tk.prototype,"longitude",{get:function(){return this.__},enumerable:!1,configurable:!0}),tk.prototype.isEqual=function(t){return this.l_===t.l_&&this.__===t.__},tk.prototype.toJSON=function(){return{latitude:this.l_,longitude:this.__}},tk.prototype.H=function(t){return fm(this.l_,t.l_)||fm(this.__,t.__)},tk),KA=function(t){this.f_=t},QA=/^__.*__$/,YA=function(t,e,n){this.d_=t,this.w_=e,this.m_=n},XA=(ZA.prototype.T_=function(t,e){var n=[];return null!==this.Qe?n.push(new t_(t,this.data,this.Qe,e)):n.push(new Zw(t,this.data,e)),0<this.fieldTransforms.length&&n.push(new o_(t,this.fieldTransforms)),n},ZA),$A=(JA.prototype.T_=function(t,e){var n=[new t_(t,this.data,this.Qe,e)];return 0<this.fieldTransforms.length&&n.push(new o_(t,this.fieldTransforms)),n},JA);function JA(t,e,n){this.data=t,this.Qe=e,this.fieldTransforms=n}function ZA(t,e,n){this.data=t,this.Qe=e,this.fieldTransforms=n}function tk(t,e){if(Hg("GeoPoint",arguments,2),Yg("GeoPoint","number",1,t),Yg("GeoPoint","number",2,e),!isFinite(t)||t<-90||90<t)throw new _g(wg.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||180<e)throw new _g(wg.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.l_=t,this.__=e}function ek(t,e){var n=this;return(n=UA.call(this,t)||this).h_=e,n}function nk(t,e){var n=this;return(n=jA.call(this,t)||this).u_=e,n}function rk(t,e){var n=this;return(n=VA.call(this,t)||this).u_=e,n}function ik(){return null!==qA&&qA.apply(this,arguments)||this}function ok(t){switch(t){case 0:case 2:case 1:return 1;case 3:case 4:return;default:throw Ng()}}var ak=(Object.defineProperty(ck.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(ck.prototype,"r_",{get:function(){return this.settings.r_},enumerable:!1,configurable:!0}),ck.prototype.I_=function(t){return new ck(Object.assign(Object.assign({},this.settings),t),this.U,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.Qe)},ck.prototype.A_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.I_({path:n,c_:!1});return r.R_(t),r},ck.prototype.P_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.I_({path:n,c_:!1});return r.E_(),r},ck.prototype.g_=function(t){return this.I_({path:void 0,c_:!0})},ck.prototype.o_=function(t){return wk(t,this.settings.methodName,this.settings.y_||!1,this.path,this.settings.a_)},ck.prototype.contains=function(t){return void 0!==this.Qe.find((function(e){return t.T(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.T(e.field)}))},ck.prototype.E_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.R_(this.path.get(t))},ck.prototype.R_=function(t){if(0===t.length)throw this.o_("Document fields must not be empty");if(ok(this.r_)&&QA.test(t))throw this.o_('Document fields cannot begin and end with "__"')},ck),sk=(uk.prototype.V_=function(t,e,n,r){return void 0===r&&(r=!1),new ak({r_:t,methodName:e,a_:n,path:jg.g(),c_:!1,y_:r},this.U,this.serializer,this.ignoreUndefinedProperties)},uk);function uk(t,e,n){this.U=t,this.ignoreUndefinedProperties=e,this.serializer=n||vA(t)}function ck(t,e,n,r,i,o){this.settings=t,this.U=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.E_(),this.fieldTransforms=i||[],this.Qe=o||[]}function lk(t,e,n,r,i,o){void 0===o&&(o={});var a=t.V_(o.merge||o.mergeFields?2:0,e,n,i);gk("Data must be an object, but it was:",a,r);var s,u,c=vk(r,a);if(o.merge)s=new jw(a.Qe),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var p=f[h],d=void 0;if(p instanceof SA)d=p.n_;else{if("string"!=typeof p)throw Ng();d=bk(e,p,n)}if(!a.contains(d))throw new _g(wg.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");_k(l,d)||l.push(d)}s=new jw(l),u=a.fieldTransforms.filter((function(t){return s.He(t.field)}))}else s=null,u=a.fieldTransforms;return new XA(new f_(c),s,u)}function hk(t,e,n,r){var i=t.V_(1,e,n);gk("Data must be an object, but it was:",i,r);var o=[],a=new p_;Pg(r,(function(t,r){var s,u=bk(e,t,n),c=i.P_(u);r instanceof NA||r instanceof KA&&r.f_ instanceof NA?o.push(u):null!=(s=dk(r,c))&&(o.push(u),a.set(u,s))}));var s=new jw(o);return new $A(a.Je(),s,i.fieldTransforms)}function fk(t,e,n,r,i,o){var a=t.V_(1,e,n),s=[mk(e,r,n)],u=[i];if(o.length%2!=0)throw new _g(wg.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(mk(e,o[c])),u.push(o[c+1]);for(var l,h,f,p,d=[],v=new p_,y=s.length-1;0<=y;--y)_k(d,s[y])||(l=s[y],h=u[y],f=a.P_(l),h instanceof NA||h instanceof KA&&h.f_ instanceof NA?d.push(l):null!=(p=dk(h,f))&&(d.push(l),v.set(l,p)));var g=new jw(d);return new $A(v.Je(),g,a.fieldTransforms)}function pk(t,e,n,r){return void 0===r&&(r=!1),dk(n,t.V_(r?4:3,e))}function dk(t,e){if(t instanceof KA&&(t=t.f_),yk(t))return gk("Unsupported field value:",e,t),vk(t,e);if(t instanceof kA)return function(t,e){if(!ok(e.r_))throw e.o_(t.s_+"() can only be used with update() and set()");if(!e.path)throw e.o_(t.s_+"() is not currently supported inside arrays");var n=t.i_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.Qe.push(e.path),t instanceof Array){if(e.settings.c_&&4!==e.r_)throw e.o_("Nested arrays are not supported");return function(e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=dk(o[i],e.g_(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(e)}return function(t,e){if(null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Zb(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Cm.fromDate(t);return{timestampValue:tw(e.serializer,n)}}if(t instanceof Cm){var r=new Cm(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:tw(e.serializer,r)}}if(t instanceof HA)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof gm)return{bytesValue:ew(e.serializer,t.q)};if(t instanceof YA){var i=e.U,o=t.d_;if(!o.isEqual(i))throw e.o_("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:rw(t.d_||e.U,t.w_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.o_("Unsupported field value: "+rm(t))}(t,e)}function vk(t,e){var n={};return Rg(t)?e.path&&0<e.path.length&&e.Qe.push(e.path):Pg(t,(function(t,r){var i=dk(r,e.A_(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function yk(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Cm||t instanceof HA||t instanceof gm||t instanceof YA||t instanceof kA)}function gk(t,e,n){if(!yk(n)||!nm(n)){var r=rm(n);throw"an object"===r?e.o_(t+" a custom object"):e.o_(t+" "+r)}}function mk(t,e,n){if(e instanceof SA)return e.n_;if("string"==typeof e)return bk(t,e);throw wk("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}function bk(t,e,n){try{return function(e){if(0<=e.search(AA))throw new _g(wg.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(CA.bind.apply(CA,Ga([void 0],e.split("."))))}catch(t){throw new _g(wg.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e).n_}catch(e){throw wk(e instanceof Error?e.message:e.toString(),t,!1,void 0,n)}}function wk(t,e,n,r,i){var o=r&&!r.m(),a=void 0!==i,s="Function "+e+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new _g(wg.INVALID_ARGUMENT,(s+=". ")+t+u)}function _k(t,e){return t.some((function(t){return t.isEqual(e)}))}var Ek=(Ak.prototype.D_=function(t){return ja(this,void 0,void 0,(function(){var e,n=this;return Va(this,(function(r){switch(r.label){case 0:if(this.C_(),0<this.mutations.length)throw new _g(wg.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return ja(this,void 0,void 0,(function(){var n,r,i,o,a,s;return Va(this,(function(u){switch(u.label){case 0:return r=cw((n=t).serializer)+"/documents",i={documents:e.map((function(t){return ow(n.serializer,t)}))},[4,n.Ou("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach((function(t){var e,r,i=(e=n.serializer,"found"in(r=t)?function(t,e){Og(!!e.found),e.found.name,e.found.updateTime;var n=aw(t,e.found.name),r=nw(e.found.updateTime),i=new f_({mapValue:{fields:e.found.fields}});return new E_(n,r,i,{})}(e,r):"missing"in r?function(t,e){Og(!!e.missing),Og(!!e.readTime);var n=aw(t,e.missing),r=nw(e.readTime);return new I_(n,r)}(e,r):Ng());a.set(i.key.toString(),i)})),s=[],[2,(e.forEach((function(t){var e=a.get(t.toString());Og(!!e),s.push(e)})),s)]}}))}))}(this.zu,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof I_||t instanceof E_?n.N_(t):Ng()})),e)]}}))}))},Ak.prototype.set=function(t,e){this.write(e.T_(t,this.Ke(t))),this.S_.add(t.toString())},Ak.prototype.update=function(t,e){try{this.write(e.T_(t,this.F_(t)))}catch(t){this.v_=t}this.S_.add(t.toString())},Ak.prototype.delete=function(t){this.write([new l_(t,this.Ke(t))]),this.S_.add(t.toString())},Ak.prototype.commit=function(){return ja(this,void 0,void 0,(function(){var t,e=this;return Va(this,(function(n){switch(n.label){case 0:if(this.C_(),this.v_)throw this.v_;return t=this.p_,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=Vg.D(n);e.mutations.push(new h_(r,e.Ke(r)))})),[4,function(t,e){return ja(this,void 0,void 0,(function(){var n,r,i;return Va(this,(function(o){switch(o.label){case 0:return r=cw((n=t).serializer)+"/documents",i={writes:e.map((function(t){return fw(n.serializer,t)}))},[4,n.Mu("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.zu,this.mutations)];case 1:return n.sent(),this.b_=!0,[2]}}))}))},Ak.prototype.N_=function(t){var e;if(t instanceof E_)e=t.version;else{if(!(t instanceof I_))throw Ng();e=Am.min()}var n=this.p_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new _g(wg.ABORTED,"Document version changed between two reads.")}else this.p_.set(t.key.toString(),e)},Ak.prototype.Ke=function(t){var e=this.p_.get(t.toString());return!this.S_.has(t.toString())&&e?zw.updateTime(e):zw.Ge()},Ak.prototype.F_=function(t){var e=this.p_.get(t.toString());if(this.S_.has(t.toString())||!e)return zw.exists(!0);if(e.isEqual(Am.min()))throw new _g(wg.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return zw.updateTime(e)},Ak.prototype.write=function(t){this.C_(),this.mutations=this.mutations.concat(t)},Ak.prototype.C_=function(){},Ak),Ik=(Ck.prototype.run=function(){this.k_()},Ck.prototype.k_=function(){var t=this;this.gs.Rn((function(){return ja(t,void 0,void 0,(function(){var t,e,n=this;return Va(this,(function(r){return t=new Ek(this.zu),(e=this.M_(t))&&e.then((function(e){n.os.ds((function(){return t.commit().then((function(){n.hs.resolve(e)})).catch((function(t){n.O_(t)}))}))})).catch((function(t){n.O_(t)})),[2]}))}))}))},Ck.prototype.M_=function(t){try{var e=this.updateFunction(t);return!Rm(e)&&e.catch&&e.then?e:(this.hs.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.hs.reject(t),null}},Ck.prototype.O_=function(t){var e=this;0<this.x_&&this.L_(t)?(--this.x_,this.os.ds((function(){return e.k_(),Promise.resolve()}))):this.hs.reject(t)},Ck.prototype.L_=function(t){if("FirebaseError"!==t.name)return!1;var e=t.code;return"aborted"===e||"failed-precondition"===e||!Hm(e)},Ck),Tk=(Sk.prototype.start=function(t,e,n,r){var i=this;this.q_(),this.Sl=t;var o=new EE,a=!1;return this.credentials.Jc((function(t){return a?void i.os.Ds((function(){return function(t,e){return ja(this,void 0,void 0,(function(){var n,r;return Va(this,(function(i){switch(i.label){case 0:return(n=t).os.Fs(),Sg("RemoteStore","RemoteStore received new credentials"),r=rC(n),n.Xu.add(3),[4,YS(n)];case 1:return i.sent(),r&&n.nh.set("Unknown"),[4,n.Hu.Zl(e)];case 2:return i.sent(),n.Xu.delete(3),[4,QS(n)];case 3:return i.sent(),[2]}}))}))}(i.Sh,t)})):(a=!0,Sg("FirestoreClient","Initializing. user=",t.uid),i.U_(e,n,r,t,o).then(i.B_.resolve,i.B_.reject))})),this.os.ds((function(){return i.B_.promise})),o.promise},Sk.prototype.enableNetwork=function(){var t=this;return this.q_(),this.os.enqueue((function(){return t.persistence.sc(!0),(e=t.Sh).Xu.delete(0),QS(e);var e}))},Sk.prototype.U_=function(t,e,n,r,i){return ja(this,void 0,void 0,(function(){var o,a,s=this;return Va(this,(function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),o={os:this.os,Sl:this.Sl,clientId:this.clientId,credentials:this.credentials,Kl:r,Nh:100,persistenceSettings:n},[4,t.initialize(o)];case 1:return u.sent(),[4,e.initialize(t,o)];case 2:return u.sent(),this.persistence=t.persistence,this.Ch=t.Ch,this.Gu=t.Gu,this.Ql=t.Ql,this.zu=e.zu,this.Sh=e.Sh,this._i=e._i,this.Q_=e.Dh,this.Q_.qs=function(t,e){return ja(this,void 0,void 0,(function(){var n,r,i,o,a,s;return Va(this,(function(u){switch(u.label){case 0:return n=jC(t),(o=n.$h.get(e))?(r=o.targetId,n.Ch.Mi(r),i=o.view.ph(),[3,4]):[3,1];case 1:return[4,yS(n.Gu,F_(e))];case 2:return a=u.sent(),s=n.Ch.Mi(a.targetId),r=a.targetId,[4,EC(n,e,r,"current"===s)];case 3:i=u.sent(),n.Wh&&$S(n.Sh,a),u.label=4;case 4:return[2,i]}}))}))}.bind(null,this._i),this.Q_.Ws=function(t,e){return ja(this,void 0,void 0,(function(){var n,r,i;return Va(this,(function(o){switch(o.label){case 0:return r=(n=t).$h.get(e),1<(i=n.xh.get(r.targetId)).length?[2,(n.xh.set(r.targetId,i.filter((function(t){return!q_(t,e)}))),void n.$h.delete(e))]:n.Wh?(n.Ch.Li(r.targetId),n.Ch.Ni(r.targetId)?[3,2]:[4,gS(n.Gu,r.targetId,!1).then((function(){n.Ch.qi(r.targetId),JS(n.Sh,r.targetId),kC(n,r.targetId)})).catch(wS)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return kC(n,r.targetId),[4,gS(n.Gu,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}.bind(null,this._i),this.persistence.nc((function(){return ja(s,void 0,void 0,(function(){return Va(this,(function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}}))}))})),i.resolve(),[3,4];case 3:if(a=u.sent(),i.reject(a),!this.W_(a))throw a;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+a),this.U_(new _A,new IA,{Gl:!1},r,i))];case 4:return[2]}}))}))},Sk.prototype.W_=function(t){return"FirebaseError"===t.name?t.code===wg.FAILED_PRECONDITION||t.code===wg.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code},Sk.prototype.q_=function(){if(this.os.Vs)throw new _g(wg.FAILED_PRECONDITION,"The client has already been terminated.")},Sk.prototype.disableNetwork=function(){var t=this;return this.q_(),this.os.enqueue((function(){return t.persistence.sc(!1),function(t){return ja(this,void 0,void 0,(function(){var e;return Va(this,(function(n){switch(n.label){case 0:return(e=t).Xu.add(0),[4,YS(e)];case 1:return n.sent(),e.nh.set("Offline"),[2]}}))}))}(t.Sh)}))},Sk.prototype.terminate=function(){var t=this;this.os.Ss();var e=new EE;return this.os.ps((function(){return ja(t,void 0,void 0,(function(){var t,n;return Va(this,(function(r){switch(r.label){case 0:return r.trys.push([0,4,,5]),this.Ql&&this.Ql.stop(),[4,XS(this.Sh)];case 1:return r.sent(),[4,this.Ch.Si()];case 2:return r.sent(),[4,this.persistence.Si()];case 3:return r.sent(),this.credentials.Xc(),e.resolve(),[3,5];case 4:return t=r.sent(),n=QE(t,"Failed to shutdown persistence"),e.reject(n),[3,5];case 5:return[2]}}))}))})),e.promise},Sk.prototype.waitForPendingWrites=function(){var t=this;this.q_();var e=new EE;return this.os.ds((function(){return function(t,e){return ja(this,void 0,void 0,(function(){var n,r,i,o,a;return Va(this,(function(s){switch(s.label){case 0:rC((n=t).Sh)||Sg("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,(u=n.Gu).persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return u.vr.Bo(t)}))];case 2:return-1===(r=s.sent())?[2,void e.resolve()]:((i=n.qh.get(r)||[]).push(e),n.qh.set(r,i),[3,4]);case 3:return o=s.sent(),a=QE(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}var u}))}))}(t._i,e)})),e.promise},Sk.prototype.listen=function(t,e,n){var r=this;this.q_();var i=new TA(n),o=new tI(t,i,e);return this.os.ds((function(){return $E(r.Q_,o)})),function(){i.e_(),r.os.ds((function(){return JE(r.Q_,o)}))}},Sk.prototype.j_=function(t){return ja(this,void 0,void 0,(function(){var e,n=this;return Va(this,(function(r){switch(r.label){case 0:return this.q_(),[4,this.B_.promise];case 1:return r.sent(),e=new EE,[2,(this.os.ds((function(){return function(t,e,n){return ja(this,void 0,void 0,(function(){var r,i,o;return Va(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,(s=e,(u=t).persistence.runTransaction("read document","readonly",(function(t){return u.$c.Dr(t,s)})))];case 1:return(r=a.sent())instanceof E_?n.resolve(r):r instanceof I_?n.resolve(null):n.reject(new _g(wg.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return i=a.sent(),o=QE(i,"Failed to get document '"+e+" from cache"),n.reject(o),[3,3];case 3:return[2]}var s,u}))}))}(n.Gu,t,e)})),e.promise)]}}))}))},Sk.prototype.K_=function(t,e){return void 0===e&&(e={}),ja(this,void 0,void 0,(function(){var n,r=this;return Va(this,(function(i){switch(i.label){case 0:return this.q_(),[4,this.B_.promise];case 1:return i.sent(),n=new EE,[2,(this.os.ds((function(){return i=r.Q_,o=r.os,a=t,s=e,u=n,c=new TA({next:function(t){o.ds((function(){return JE(i,l)}));var e=t.docs.has(a);!e&&t.fromCache?u.reject(new _g(wg.UNAVAILABLE,"Failed to get document because the client is offline.")):e&&t.fromCache&&s&&"server"===s.source?u.reject(new _g(wg.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(t)},error:function(t){return u.reject(t)}}),l=new tI(O_(a.path),c,{includeMetadataChanges:!0,Js:!0}),$E(i,l);var i,o,a,s,u,c,l})),n.promise)]}}))}))},Sk.prototype.G_=function(t){return ja(this,void 0,void 0,(function(){var e,n=this;return Va(this,(function(r){switch(r.label){case 0:return this.q_(),[4,this.B_.promise];case 1:return r.sent(),e=new EE,[2,(this.os.ds((function(){return function(t,e,n){return ja(this,void 0,void 0,(function(){var r,i,o,a,s,u;return Va(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,mS(t,e,!0)];case 1:return r=c.sent(),i=new yC(e,r.kc),o=i.Th(r.documents),a=i.gr(o,!1),n.resolve(a.snapshot),[3,3];case 2:return s=c.sent(),u=QE(s,"Failed to execute query '"+e+" against cache"),n.reject(u),[3,3];case 3:return[2]}}))}))}(n.Gu,t,e)})),e.promise)]}}))}))},Sk.prototype.z_=function(t,e){return void 0===e&&(e={}),ja(this,void 0,void 0,(function(){var n,r=this;return Va(this,(function(i){switch(i.label){case 0:return this.q_(),[4,this.B_.promise];case 1:return i.sent(),n=new EE,[2,(this.os.ds((function(){return i=r.Q_,o=r.os,a=t,s=e,u=n,c=new TA({next:function(t){o.ds((function(){return JE(i,l)})),t.fromCache&&"server"===s.source?u.reject(new _g(wg.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(t)},error:function(t){return u.reject(t)}}),l=new tI(a,c,{includeMetadataChanges:!0,Js:!0}),$E(i,l);var i,o,a,s,u,c,l})),n.promise)]}}))}))},Sk.prototype.write=function(t){var e=this;this.q_();var n=new EE;return this.os.ds((function(){return function(t,e,n){return ja(this,void 0,void 0,(function(){var r,i,o,a;return Va(this,(function(s){switch(s.label){case 0:r=VC(t),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,(f=r.Gu,p=e,v=f,y=Cm.now(),g=p.reduce((function(t,e){return t.add(e.key)}),cb()),v.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return v.$c.$r(t,g).next((function(e){d=e;for(var n,r,i=[],o=0,a=p;o<a.length;o++){var s=a[o],u=(n=s,r=d.get(s.key),n instanceof o_?function(t){for(var e=null,r=0,i=n.fieldTransforms;r<i.length;r++){var o=i[r],a=t instanceof E_?t.field(o.field):void 0,s=Ew(o.transform,a||null);null!=s&&(e=null==e?(new p_).set(o.field,s):e.set(o.field,s))}return e?e.Je():null}(r):null);null!=u&&i.push(new t_(s.key,u,function t(e){var n=[];return Pg(e.fields||{},(function(e,r){var i=new jg([e]);if(Kb(r)){var o=t(r.mapValue).fields;if(0===o.length)n.push(i);else for(var a=0,s=o;a<s.length;a++){var u=s[a];n.push(i.child(u))}}else n.push(i)})),new jw(n)}(u.proto.mapValue),zw.exists(!0)))}return v.vr.xo(t,y,i,p)}))})).then((function(t){var e=t.hr(d);return{batchId:t.batchId,dr:e}})))];case 2:return i=s.sent(),r.Ch.Fi(i.batchId),u=r,c=i.batchId,l=n,h=(h=(h=u.Bh[u.currentUser.Zs()])||new Qm(fm)).rt(c,l),u.Bh[u.currentUser.Zs()]=h,[4,PC(r,i.dr)];case 3:return s.sent(),[4,uC(r.Sh)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=QE(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}var u,c,l,h,f,p,d,v,y,g}))}))}(e._i,t,n)})),n.promise},Sk.prototype.U=function(){return this.Sl.U},Sk.prototype.H_=function(t){var e=this;this.q_();var n=new TA(t);return this.os.ds((function(){return ja(e,void 0,void 0,(function(){return Va(this,(function(t){return[2,(e=this.Q_,r=n,e.Bs.add(r),void r.next())];var e,r}))}))})),function(){n.e_(),e.os.ds((function(){return ja(e,void 0,void 0,(function(){return Va(this,(function(t){return[2,void this.Q_.Bs.delete(n)]}))}))}))}},Object.defineProperty(Sk.prototype,"Y_",{get:function(){return this.os.Vs},enumerable:!1,configurable:!0}),Sk.prototype.transaction=function(t){var e=this;this.q_();var n=new EE;return this.os.ds((function(){return new Ik(e.os,e.zu,t,n).run(),Promise.resolve()})),n.promise},Sk);function Sk(t,e){this.credentials=t,this.os=e,this.clientId=lm.k(),this.B_=new EE}function Ck(t,e,n,r){this.os=t,this.zu=e,this.updateFunction=n,this.hs=r,this.x_=5,this.gs=new TE(this.os,"transaction_retry")}function Ak(t){this.zu=t,this.p_=new Map,this.mutations=[],this.b_=!1,this.v_=null,this.S_=new Set}function kk(t){return function(){if("object"==typeof t&&null!==t)for(var e=t,n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return 1}}()}var Nk,Ok,xk=(Yk.prototype.tf=function(t){switch(Rb(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Vb(t.integerValue||t.doubleValue);case 3:return this.ef(t.timestampValue);case 4:return this.nf(t);case 5:return t.stringValue;case 6:return this.Z_(qb(t.bytesValue));case 7:return this.sf(t.referenceValue);case 8:return this.if(t.geoPointValue);case 9:return this.rf(t.arrayValue);case 10:return this.af(t.mapValue);default:throw Ng()}},Yk.prototype.af=function(t){var e=this,n={};return Pg(t.fields||{},(function(t,r){n[t]=e.tf(r)})),n},Yk.prototype.if=function(t){return new HA(Vb(t.latitude),Vb(t.longitude))},Yk.prototype.rf=function(t){var e=this;return(t.values||[]).map((function(t){return e.tf(t)}))},Yk.prototype.nf=function(t){switch(this.J_){case"previous":var e=function t(e){var n=e.mapValue.fields.__previous_value__;return Ob(n)?t(n):n}(t);return null==e?null:this.tf(e);case"estimate":return this.ef(xb(t));default:return null}},Yk.prototype.ef=function(t){var e=jb(t),n=new Cm(e.seconds,e.nanos);return this.timestampsInSnapshots?n:n.toDate()},Yk.prototype.sf=function(t){var e=Fg.P(t);Og(ww(e));var n=new Tm(e.get(1),e.get(3)),r=new Vg(e.u(5));return n.isEqual(this.U)||Cg("Document "+r+" contains a document reference within a different database ("+n.projectId+"/"+n.database+") which is not supported. It will be treated as a reference in the current database ("+this.U.projectId+"/"+this.U.database+") instead."),this.X_(r)},Yk),Pk=jI.uo,Rk=(Qk.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},Qk),Dk=(Object.defineProperty(Kk.prototype,"Ef",{get:function(){return this.If||(this.If=new sk(this.d_,this.Tf.ignoreUndefinedProperties)),this.If},enumerable:!1,configurable:!0}),Kk.prototype.settings=function(t){Hg("Firestore.settings",arguments,1),Yg("Firestore.settings","object",1,t),t.merge&&delete(t=Object.assign(Object.assign({},this.Tf),t)).merge;var e=new Rk(t);if(this.ff&&!this.Tf.isEqual(e))throw new _g(wg.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");void 0!==(this.Tf=e).credentials&&(this.mf=function(t){if(!t)return new kS;switch(t.type){case"gapi":var e=t.client;return Og(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new xS(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new _g(wg.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},Kk.prototype.enableNetwork=function(){return this._f(),this.ff.enableNetwork()},Kk.prototype.disableNetwork=function(){return this._f(),this.ff.disableNetwork()},Kk.prototype.enablePersistence=function(t){var e,n;if(this.ff)throw new _g(wg.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var r=!1,i=!1;if(t&&(void 0!==t.experimentalTabSynchronization&&Cg("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),r=null!==(n=null!==(e=t.synchronizeTabs)&&void 0!==e?e:t.experimentalTabSynchronization)&&void 0!==n&&n,i=!!t.experimentalForceOwningTab&&t.experimentalForceOwningTab,r&&i))throw new _g(wg.INVALID_ARGUMENT,"The 'experimentalForceOwningTab' setting cannot be used with 'synchronizeTabs'.");return this.Af(this.cf,this.uf,{Gl:!0,cacheSizeBytes:this.Tf.cacheSizeBytes,synchronizeTabs:r,La:i})},Kk.prototype.clearPersistence=function(){return ja(this,void 0,void 0,(function(){var t,e=this;return Va(this,(function(n){if(void 0!==this.ff&&!this.ff.Y_)throw new _g(wg.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");return t=new EE,[2,(this.lf.ps((function(){return ja(e,void 0,void 0,(function(){var e;return Va(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.cf.clearPersistence(this.d_,this.wf)];case 1:return n.sent(),t.resolve(),[3,3];case 2:return e=n.sent(),t.reject(e),[3,3];case 3:return[2]}}))}))})),t.promise)]}))}))},Kk.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(Kk.prototype,"Rf",{get:function(){return this._f(),this.ff.Y_},enumerable:!1,configurable:!0}),Kk.prototype.waitForPendingWrites=function(){return this._f(),this.ff.waitForPendingWrites()},Kk.prototype.onSnapshotsInSync=function(t){if(this._f(),kk(t))return this.ff.H_(t);Yg("Firestore.onSnapshotsInSync","function",1,t);var e={next:t};return this.ff.H_(e)},Kk.prototype._f=function(){return this.ff||this.Af(new _A,new IA,{Gl:!1}),this.ff},Kk.prototype.Pf=function(){return new _m(this.d_,this.wf,this.Tf.host,this.Tf.ssl,this.Tf.experimentalForceLongPolling)},Kk.prototype.Af=function(t,e,n){var r=this.Pf();return this.ff=new Tk(this.mf,this.lf),this.ff.start(r,t,e,n)},Kk.df=function(t){if(e=t.options,!Object.prototype.hasOwnProperty.call(e,"projectId"))throw new _g(wg.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var e,n=t.options.projectId;if(!n||"string"!=typeof n)throw new _g(wg.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new Tm(n)},Object.defineProperty(Kk.prototype,"app",{get:function(){if(!this.hf)throw new _g(wg.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.hf},enumerable:!1,configurable:!0}),Kk.prototype.collection=function(t){return Hg("Firestore.collection",arguments,1),Yg("Firestore.collection","non-empty string",1,t),this._f(),new rN(Fg.P(t),this,null)},Kk.prototype.doc=function(t){return Hg("Firestore.doc",arguments,1),Yg("Firestore.doc","non-empty string",1,t),this._f(),Fk.gf(Fg.P(t),this,null)},Kk.prototype.collectionGroup=function(t){if(Hg("Firestore.collectionGroup",arguments,1),Yg("Firestore.collectionGroup","non-empty string",1,t),0<=t.indexOf("/"))throw new _g(wg.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this._f(),new eN((e=t,new S_(Fg.g(),e)),this,null);var e},Kk.prototype.runTransaction=function(t){var e=this;return Hg("Firestore.runTransaction",arguments,1),Yg("Firestore.runTransaction","function",1,t),this._f().transaction((function(n){return t(new Lk(e,n))}))},Kk.prototype.batch=function(){return this._f(),new Mk(this)},Object.defineProperty(Kk,"logLevel",{get:function(){switch(Tg()){case Gs.DEBUG:return"debug";case Gs.ERROR:return"error";case Gs.SILENT:return"silent";case Gs.WARN:return"warn";case Gs.INFO:return"info";case Gs.VERBOSE:return"verbose";default:return"error"}},enumerable:!1,configurable:!0}),Kk.setLogLevel=function(t){Hg("Firestore.setLogLevel",arguments,1),tm("setLogLevel",["debug","error","silent","warn","info","verbose"],1,t),Eg.setLogLevel(t)},Kk.prototype.yf=function(){return this.Tf.timestampsInSnapshots},Kk.prototype.Vf=function(){return this.Tf},Kk),Lk=(Hk.prototype.get=function(t){var e=this;Hg("Transaction.get",arguments,1);var n=lN("Transaction.get",t,this.pf);return this.bf.D_([n.w_]).then((function(t){if(!t||1!==t.length)return Ng();var r=t[0];if(r instanceof I_)return new jk(e.pf,n.w_,null,!1,!1,n.m_);if(r instanceof E_)return new jk(e.pf,n.w_,r,!1,!1,n.m_);throw Ng()}))},Hk.prototype.set=function(t,e,n){Qg("Transaction.set",arguments,2,3);var r=lN("Transaction.set",t,this.pf);n=sN("Transaction.set",n);var i=hN(r.m_,e,n),o=lk(this.pf.Ef,"Transaction.set",r.w_,i,null!==r.m_,n);return this.bf.set(r.w_,o),this},Hk.prototype.update=function(t,e,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return i="string"==typeof e||e instanceof CA?(Kg("Transaction.update",arguments,3),r=lN("Transaction.update",t,this.pf),fk(this.pf.Ef,"Transaction.update",r.w_,e,n,o)):(Hg("Transaction.update",arguments,2),r=lN("Transaction.update",t,this.pf),hk(this.pf.Ef,"Transaction.update",r.w_,e)),this.bf.update(r.w_,i),this},Hk.prototype.delete=function(t){Hg("Transaction.delete",arguments,1);var e=lN("Transaction.delete",t,this.pf);return this.bf.delete(e.w_),this},Hk),Mk=(Wk.prototype.set=function(t,e,n){Qg("WriteBatch.set",arguments,2,3),this.Df();var r=lN("WriteBatch.set",t,this.pf);n=sN("WriteBatch.set",n);var i=hN(r.m_,e,n),o=lk(this.pf.Ef,"WriteBatch.set",r.w_,i,null!==r.m_,n);return this.vf=this.vf.concat(o.T_(r.w_,zw.Ge())),this},Wk.prototype.update=function(t,e,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return this.Df(),i="string"==typeof e||e instanceof CA?(Kg("WriteBatch.update",arguments,3),r=lN("WriteBatch.update",t,this.pf),fk(this.pf.Ef,"WriteBatch.update",r.w_,e,n,o)):(Hg("WriteBatch.update",arguments,2),r=lN("WriteBatch.update",t,this.pf),hk(this.pf.Ef,"WriteBatch.update",r.w_,e)),this.vf=this.vf.concat(i.T_(r.w_,zw.exists(!0))),this},Wk.prototype.delete=function(t){Hg("WriteBatch.delete",arguments,1),this.Df();var e=lN("WriteBatch.delete",t,this.pf);return this.vf=this.vf.concat(new l_(e.w_,zw.Ge())),this},Wk.prototype.commit=function(){return this.Df(),this.Sf=!0,0<this.vf.length?this.pf._f().write(this.vf):Promise.resolve()},Wk.prototype.Df=function(){if(this.Sf)throw new _g(wg.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},Wk),Fk=(Fa(Gk,Ok=YA),Gk.gf=function(t,e,n){if(t.length%2!=0)throw new _g(wg.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.R()+" has "+t.length);return new Gk(new Vg(t),e,n)},Object.defineProperty(Gk.prototype,"id",{get:function(){return this.w_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(Gk.prototype,"parent",{get:function(){return new rN(this.w_.path.h(),this.firestore,this.m_)},enumerable:!1,configurable:!0}),Object.defineProperty(Gk.prototype,"path",{get:function(){return this.w_.path.R()},enumerable:!1,configurable:!0}),Gk.prototype.collection=function(t){if(Hg("DocumentReference.collection",arguments,1),Yg("DocumentReference.collection","non-empty string",1,t),!t)throw new _g(wg.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=Fg.P(t);return new rN(this.w_.path.child(e),this.firestore,null)},Gk.prototype.isEqual=function(t){if(!(t instanceof Gk))throw am("isEqual","DocumentReference",1,t);return this.firestore===t.firestore&&this.w_.isEqual(t.w_)&&this.m_===t.m_},Gk.prototype.set=function(t,e){Qg("DocumentReference.set",arguments,1,2),e=sN("DocumentReference.set",e);var n=hN(this.m_,t,e),r=lk(this.firestore.Ef,"DocumentReference.set",this.w_,n,null!==this.m_,e);return this.ff.write(r.T_(this.w_,zw.Ge()))},Gk.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return n="string"==typeof t||t instanceof CA?(Kg("DocumentReference.update",arguments,2),fk(this.firestore.Ef,"DocumentReference.update",this.w_,t,e,r)):(Hg("DocumentReference.update",arguments,1),hk(this.firestore.Ef,"DocumentReference.update",this.w_,t)),this.ff.write(n.T_(this.w_,zw.exists(!0)))},Gk.prototype.delete=function(){return Hg("DocumentReference.delete",arguments,0),this.ff.write([new l_(this.w_,zw.Ge())])},Gk.prototype.onSnapshot=function(){for(var t,e,n,r=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];Qg("DocumentReference.onSnapshot",arguments,1,4);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||kk(i[s])||(om("DocumentReference.onSnapshot",a=i[s],["includeMetadataChanges"]),Jg("DocumentReference.onSnapshot","boolean","includeMetadataChanges",a.includeMetadataChanges),s++);var u,c={includeMetadataChanges:a.includeMetadataChanges};kk(i[s])?(u=i[s],i[s]=null===(t=u.next)||void 0===t?void 0:t.bind(u),i[s+1]=null===(e=u.error)||void 0===e?void 0:e.bind(u),i[s+2]=null===(n=u.complete)||void 0===n?void 0:n.bind(u)):(Yg("DocumentReference.onSnapshot","function",s,i[s]),Xg("DocumentReference.onSnapshot","function",s+1,i[s+1]),Xg("DocumentReference.onSnapshot","function",s+2,i[s+2]));var l={next:function(t){i[s]&&i[s](r.Cf(t))},error:i[s+1],complete:i[s+2]};return this.ff.listen(O_(this.w_.path),c,l)},Gk.prototype.get=function(t){var e=this;Qg("DocumentReference.get",arguments,0,1),cN("DocumentReference.get",t);var n=this.firestore._f();return t&&"cache"===t.source?n.j_(this.w_).then((function(t){return new jk(e.firestore,e.w_,t,!0,t instanceof E_&&t.Ye,e.m_)})):n.K_(this.w_,t).then((function(t){return e.Cf(t)}))},Gk.prototype.withConverter=function(t){return new Gk(this.w_,this.firestore,t)},Gk.prototype.Cf=function(t){var e=t.docs.get(this.w_);return new jk(this.firestore,this.w_,e,t.fromCache,t.hasPendingWrites,this.m_)},Gk),Uk=(zk.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},zk),jk=(Bk.prototype.data=function(t){var e=this;if(Qg("DocumentSnapshot.data",arguments,0,1),t=uN("DocumentSnapshot.data",t),this.Nf){if(this.m_){var n=new Vk(this.pf,this.w_,this.Nf,this.Ff,this.$f,null);return this.m_.fromFirestore(n,t)}return new xk(this.pf.d_,this.pf.yf(),t.serverTimestamps||"none",(function(t){return new Fk(t,e.pf,null)}),(function(t){return new Im(t)})).tf(this.Nf.sn())}},Bk.prototype.get=function(t,e){var n=this;if(Qg("DocumentSnapshot.get",arguments,1,2),e=uN("DocumentSnapshot.get",e),this.Nf){var r=this.Nf.data().field(mk("DocumentSnapshot.get",t,this.w_));if(null!==r)return new xk(this.pf.d_,this.pf.yf(),e.serverTimestamps||"none",(function(t){return new Fk(t,n.pf,n.m_)}),(function(t){return new Im(t)})).tf(r)}},Object.defineProperty(Bk.prototype,"id",{get:function(){return this.w_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(Bk.prototype,"ref",{get:function(){return new Fk(this.w_,this.pf,this.m_)},enumerable:!1,configurable:!0}),Object.defineProperty(Bk.prototype,"exists",{get:function(){return null!==this.Nf},enumerable:!1,configurable:!0}),Object.defineProperty(Bk.prototype,"metadata",{get:function(){return new Uk(this.$f,this.Ff)},enumerable:!1,configurable:!0}),Bk.prototype.isEqual=function(t){if(!(t instanceof Bk))throw am("isEqual","DocumentSnapshot",1,t);return this.pf===t.pf&&this.Ff===t.Ff&&this.w_.isEqual(t.w_)&&(null===this.Nf?null===t.Nf:this.Nf.isEqual(t.Nf))&&this.m_===t.m_},Bk),Vk=(Fa(qk,Nk=jk),qk.prototype.data=function(t){return Nk.prototype.data.call(this,t)},qk);function qk(){return null!==Nk&&Nk.apply(this,arguments)||this}function Bk(t,e,n,r,i,o){this.pf=t,this.w_=e,this.Nf=n,this.Ff=r,this.$f=i,this.m_=o}function zk(t,e){this.hasPendingWrites=t,this.fromCache=e}function Gk(t,e,n){var r=this;return(r=Ok.call(this,e.d_,t,n)||this).w_=t,r.firestore=e,r.m_=n,r.ff=r.firestore._f(),r}function Wk(t){this.pf=t,this.vf=[],this.Sf=!1}function Hk(t,e){this.pf=t,this.bf=e}function Kk(t,e,n,r){var i=this;if(void 0===n&&(n=new _A),void 0===r&&(r=new IA),this.cf=n,this.uf=r,this.hf=null,this.lf=new WE,this.INTERNAL={delete:function(){return ja(i,void 0,void 0,(function(){return Va(this,(function(t){switch(t.label){case 0:return this._f(),[4,this.ff.terminate()];case 1:return t.sent(),[2]}}))}))}},"object"==typeof t.options){var o=t;this.hf=o,this.d_=Kk.df(o),this.wf=o.name,this.mf=new NS(e)}else{var a=t;if(!a.projectId)throw new _g(wg.INVALID_ARGUMENT,"Must provide projectId");this.d_=new Tm(a.projectId,a.database),this.wf="[DEFAULT]",this.mf=new kS}this.Tf=new Rk({})}function Qk(t){var e,n,r,i;if(void 0===t.host){if(void 0!==t.ssl)throw new _g(wg.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else $g("settings","non-empty string","host",t.host),this.host=t.host,Jg("settings","boolean","ssl",t.ssl),this.ssl=null===(e=t.ssl)||void 0===e||e;if(om("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling","ignoreUndefinedProperties"]),Jg("settings","object","credentials",t.credentials),this.credentials=t.credentials,Jg("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),Jg("settings","boolean","ignoreUndefinedProperties",t.ignoreUndefinedProperties),!0===t.timestampsInSnapshots?Cg("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===t.timestampsInSnapshots&&Cg("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(n=t.timestampsInSnapshots)||void 0===n||n,this.ignoreUndefinedProperties=null!==(r=t.ignoreUndefinedProperties)&&void 0!==r&&r,Jg("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=jI.lo;else{if(t.cacheSizeBytes!==Pk&&t.cacheSizeBytes<jI.ho)throw new _g(wg.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+jI.ho);this.cacheSizeBytes=t.cacheSizeBytes}Jg("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.experimentalForceLongPolling=null!==(i=t.experimentalForceLongPolling)&&void 0!==i&&i}function Yk(t,e,n,r,i){this.U=t,this.timestampsInSnapshots=e,this.J_=n,this.X_=r,this.Z_=i}function Xk(t,e,n){if("string"==typeof n){if(""===n)throw new _g(wg.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!L_(e)&&-1!==n.indexOf("/"))throw new _g(wg.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Fg.P(n));if(!Vg.F(r))throw new _g(wg.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Bb(t,new Vg(r))}if(n instanceof YA)return Bb(t,n.w_);throw new _g(wg.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+rm(n)+".")}function $k(t,e){if(!Array.isArray(t)||0===t.length)throw new _g(wg.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(10<t.length)throw new _g(wg.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.");if("in"===e||"array-contains-any"===e){if(0<=t.indexOf(null))throw new _g(wg.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'null' in the value array.");if(0<t.filter((function(t){return Number.isNaN(t)})).length)throw new _g(wg.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'NaN' in the value array.")}}function Jk(t,e,n){if(!n.isEqual(e))throw new _g(wg.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function Zk(t){if(P_(t)&&0===t.rn.length)throw new _g(wg.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var tN,eN=(aN.prototype.where=function(t,e,n){Hg("Query.where",arguments,3),im("Query.where",3,n);var r,i,o=tm("Query.where",["<","<=","==","!=",">=",">","array-contains","in","array-contains-any","not-in"],2,e),a=mk("Query.where",t),s=function(t,e,n,r,i,o,a){var s;if(i.p()){if("array-contains"===o||"array-contains-any"===o)throw new _g(wg.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){$k(a,o);for(var u=[],c=0,l=a;c<l.length;c++){var h=l[c];u.push(Xk(r,t,h))}s={arrayValue:{values:u}}}else s=Xk(r,t,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||$k(a,o),s=pk(n,"Query.where",a,"in"===o||"not-in"===o);var f=K_.create(i,o,s);return function(t,e){if(e.un()){var n=D_(t);if(null!==n&&!n.isEqual(e.field))throw new _g(wg.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=R_(t);null!==r&&Jk(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(0<=e.indexOf(i.op))return i.op}return null}(t,function(){switch(e.op){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}());if(null!==i)throw i===e.op?new _g(wg.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new _g(wg.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,f),f}(this.xf,0,this.firestore.Ef,this.firestore.d_,a,o,n);return new aN((i=(r=this.xf).filters.concat([s]),new S_(r.path,r.collectionGroup,r.rn.slice(),i,r.limit,r.on,r.startAt,r.endAt)),this.firestore,this.m_)},aN.prototype.orderBy=function(t,e){var n;if(Qg("Query.orderBy",arguments,1,2),Xg("Query.orderBy","non-empty string",2,e),void 0===e||"asc"===e)n="asc";else{if("desc"!==e)throw new _g(wg.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+e+"', expected 'asc' or 'desc'.");n="desc"}var r,i,o=mk("Query.orderBy",t),a=function(t,e,n){if(null!==t.startAt)throw new _g(wg.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new _g(wg.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r,i,o,a=new _E(e,n);return i=a,null!==R_(r=t)||null!==(o=D_(r))&&Jk(0,o,i.field),a}(this.xf,o,n);return new aN((i=(r=this.xf).rn.concat([a]),new S_(r.path,r.collectionGroup,i,r.filters.slice(),r.limit,r.on,r.startAt,r.endAt)),this.firestore,this.m_)},aN.prototype.limit=function(t){return Hg("Query.limit",arguments,1),Yg("Query.limit","number",1,t),sm("Query.limit",1,t),new aN(U_(this.xf,t,"F"),this.firestore,this.m_)},aN.prototype.limitToLast=function(t){return Hg("Query.limitToLast",arguments,1),Yg("Query.limitToLast","number",1,t),sm("Query.limitToLast",1,t),new aN(U_(this.xf,t,"L"),this.firestore,this.m_)},aN.prototype.startAt=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];Kg("Query.startAt",arguments,1);var r=this.kf("Query.startAt",t,e,!0);return new aN(j_(this.xf,r),this.firestore,this.m_)},aN.prototype.startAfter=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];Kg("Query.startAfter",arguments,1);var r=this.kf("Query.startAfter",t,e,!1);return new aN(j_(this.xf,r),this.firestore,this.m_)},aN.prototype.endBefore=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];Kg("Query.endBefore",arguments,1);var r=this.kf("Query.endBefore",t,e,!0);return new aN(V_(this.xf,r),this.firestore,this.m_)},aN.prototype.endAt=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];Kg("Query.endAt",arguments,1);var r=this.kf("Query.endAt",t,e,!1);return new aN(V_(this.xf,r),this.firestore,this.m_)},aN.prototype.isEqual=function(t){if(!(t instanceof aN))throw am("isEqual","Query",1,t);return this.firestore===t.firestore&&q_(this.xf,t.xf)&&this.m_===t.m_},aN.prototype.withConverter=function(t){return new aN(this.xf,this.firestore,t)},aN.prototype.kf=function(t,e,n,r){if(im(t,1,e),e instanceof jk)return Hg(t,Ga([e],n),1),function(e,n,r,i){if(!r)throw new _g(wg.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");for(var o=[],a=0,s=M_(e);a<s.length;a++){var u=s[a];if(u.field.p())o.push(Bb(n,r.key));else{var c=r.field(u.field);if(Ob(c))throw new _g(wg.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.R();throw new _g(wg.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new pE(o,i)}(this.xf,this.firestore.d_,e.Nf,r);var i=[e].concat(n);return function(t,e,n,r,i,o){var a=t.rn;if(i.length>a.length)throw new _g(wg.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.p()){if("string"!=typeof c)throw new _g(wg.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!L_(t)&&-1!==c.indexOf("/"))throw new _g(wg.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Fg.P(c));if(!Vg.F(l))throw new _g(wg.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Vg(l);s.push(Bb(e,h))}else{var f=pk(n,r,c);s.push(f)}}return new pE(s,o)}(this.xf,this.firestore.d_,this.firestore.Ef,t,i,r)},aN.prototype.onSnapshot=function(){for(var t,e,n,r=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];Qg("Query.onSnapshot",arguments,1,4);var a,s={},u=0;"object"!=typeof i[u]||kk(i[u])||(om("Query.onSnapshot",s=i[u],["includeMetadataChanges"]),Jg("Query.onSnapshot","boolean","includeMetadataChanges",s.includeMetadataChanges),u++),kk(i[u])?(a=i[u],i[u]=null===(t=a.next)||void 0===t?void 0:t.bind(a),i[u+1]=null===(e=a.error)||void 0===e?void 0:e.bind(a),i[u+2]=null===(n=a.complete)||void 0===n?void 0:n.bind(a)):(Yg("Query.onSnapshot","function",u,i[u]),Xg("Query.onSnapshot","function",u+1,i[u+1]),Xg("Query.onSnapshot","function",u+2,i[u+2]));var c={next:function(t){i[u]&&i[u](new nN(r.firestore,r.xf,t,r.m_))},error:i[u+1],complete:i[u+2]};return Zk(this.xf),this.firestore._f().listen(this.xf,s,c)},aN.prototype.get=function(t){var e=this;Qg("Query.get",arguments,0,1),cN("Query.get",t),Zk(this.xf);var n=this.firestore._f();return(t&&"cache"===t.source?n.G_(this.xf):n.z_(this.xf,t)).then((function(t){return new nN(e.firestore,e.xf,t,e.m_)}))},aN),nN=(Object.defineProperty(oN.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(oN.prototype,"empty",{get:function(){return this.Of.docs.m()},enumerable:!1,configurable:!0}),Object.defineProperty(oN.prototype,"size",{get:function(){return this.Of.docs.size},enumerable:!1,configurable:!0}),oN.prototype.forEach=function(t,e){var n=this;Qg("QuerySnapshot.forEach",arguments,1,2),Yg("QuerySnapshot.forEach","function",1,t),this.Of.docs.forEach((function(r){t.call(e,n.qf(r,n.metadata.fromCache,n.Of.Qt.has(r.key)))}))},Object.defineProperty(oN.prototype,"query",{get:function(){return new eN(this.Mf,this.pf,this.m_)},enumerable:!1,configurable:!0}),oN.prototype.docChanges=function(t){t&&(om("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),Jg("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this.Of.jt)throw new _g(wg.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.Lf&&this.Bf===e||(this.Lf=function(t,e,n){if(t.Ut.m()){var r=0;return t.docChanges.map((function(e){var i=n(e.doc,t.fromCache,t.Qt.has(e.doc.key));return e.doc,{type:"added",doc:i,oldIndex:-1,newIndex:r++}}))}var i=t.Ut;return t.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var r=n(e.doc,t.fromCache,t.Qt.has(e.doc.key)),o=-1,a=-1;return 0!==e.type&&(o=i.indexOf(e.doc.key),i=i.delete(e.doc.key)),1!==e.type&&(a=(i=i.add(e.doc)).indexOf(e.doc.key)),{type:function(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ng()}}(e.type),doc:r,oldIndex:o,newIndex:a}}))}(this.Of,e,this.qf.bind(this)),this.Bf=e),this.Lf},oN.prototype.isEqual=function(t){if(!(t instanceof oN))throw am("isEqual","QuerySnapshot",1,t);return this.pf===t.pf&&q_(this.Mf,t.Mf)&&this.Of.isEqual(t.Of)&&this.m_===t.m_},oN.prototype.qf=function(t,e,n){return new Vk(this.pf,t.key,t,e,n,this.m_)},oN),rN=(Fa(iN,tN=eN),Object.defineProperty(iN.prototype,"id",{get:function(){return this.xf.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(iN.prototype,"parent",{get:function(){var t=this.xf.path.h();return t.m()?null:new Fk(new Vg(t),this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(iN.prototype,"path",{get:function(){return this.xf.path.R()},enumerable:!1,configurable:!0}),iN.prototype.doc=function(t){Qg("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=lm.k()),Yg("CollectionReference.doc","non-empty string",1,t);var e=Fg.P(t);return Fk.gf(this.xf.path.child(e),this.firestore,this.m_)},iN.prototype.add=function(t){Hg("CollectionReference.add",arguments,1);var e=this.m_?this.m_.toFirestore(t):t;Yg("CollectionReference.add","object",1,e);var n=this.doc();return new Fk(n.w_,this.firestore,null).set(e).then((function(){return n}))},iN.prototype.withConverter=function(t){return new iN(this.Uf,this.firestore,t)},iN);function iN(t,e,n){var r=this;if(((r=tN.call(this,O_(t),e,n)||this).Uf=t).length%2!=1)throw new _g(wg.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t.R()+" has "+t.length);return r}function oN(t,e,n,r){this.pf=t,this.Mf=e,this.Of=n,this.m_=r,this.Lf=null,this.Bf=null,this.metadata=new Uk(n.hasPendingWrites,n.fromCache)}function aN(t,e,n){this.xf=t,this.firestore=e,this.m_=n}function sN(t,e){if(void 0===e)return{merge:!1};if(om(t,e,["merge","mergeFields"]),Jg(t,"boolean","merge",e.merge),void 0!==(n=e.mergeFields)&&function(t,e,n,r){if(!(n instanceof Array))throw new _g(wg.INVALID_ARGUMENT,"Function "+t+"() requires its "+e+" option to be an array, but it was: "+rm(n));for(var i=0;i<n.length;++i)if(!r(n[i]))throw new _g(wg.INVALID_ARGUMENT,"Function "+t+"() requires all "+e+" elements to be a string or a FieldPath, but the value at index "+i+" was: "+rm(n[i]))}(t,"mergeFields",n,(function(t){return"string"==typeof t||t instanceof CA})),void 0!==e.mergeFields&&void 0!==e.merge)throw new _g(wg.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');var n;return e}function uN(t,e){return void 0===e?{}:(om(t,e,["serverTimestamps"]),Zg(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function cN(t,e){Xg(t,"object",1,e),e&&(om(t,e,["source"]),Zg(t,0,"source",e.source,["default","server","cache"]))}function lN(t,e,n){if(e instanceof YA){if(e.firestore!==n)throw new _g(wg.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw am(t,"DocumentReference",1,e)}function hN(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var fN,pN,dN=(Fa(yN,fN=KA),yN.serverTimestamp=function(){Wg("FieldValue.serverTimestamp",arguments);var t=new BA("serverTimestamp");return t.s_="FieldValue.serverTimestamp",new yN(t)},yN.delete=function(){Wg("FieldValue.delete",arguments);var t=new NA("deleteField");return t.s_="FieldValue.delete",new yN(t)},yN.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];Kg("FieldValue.arrayUnion",arguments,1);var n=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Kg("arrayUnion()",arguments,1),new zA("arrayUnion",t)}.apply(void 0,t);return n.s_="FieldValue.arrayUnion",new yN(n)},yN.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];Kg("FieldValue.arrayRemove",arguments,1);var n=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Kg("arrayRemove()",arguments,1),new GA("arrayRemove",t)}.apply(void 0,t);return n.s_="FieldValue.arrayRemove",new yN(n)},yN.increment=function(t){Yg("FieldValue.increment","number",1,t),Hg("FieldValue.increment",arguments,1);var e=new WA("increment",t);return e.s_="FieldValue.increment",new yN(e)},yN.prototype.isEqual=function(t){return this.f_.isEqual(t.f_)},yN),vN={Firestore:Dk,GeoPoint:HA,Timestamp:Cm,Blob:Im,Transaction:Lk,WriteBatch:Mk,DocumentReference:Fk,DocumentSnapshot:jk,Query:eN,QueryDocumentSnapshot:Vk,QuerySnapshot:nN,CollectionReference:rN,FieldPath:CA,FieldValue:dN,setLogLevel:Dk.setLogLevel,CACHE_SIZE_UNLIMITED:Pk};function yN(){return null!==fN&&fN.apply(this,arguments)||this}(pN=yu).INTERNAL.registerComponent(new Ls("firestore",(function(t){return e=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),r=new IA,i=new EA(r),new Dk(e,n,i,r);var e,n,r,i}),"PUBLIC").setServiceProps(Object.assign({},vN))),pN.registerVersion("@firebase/firestore","1.17.2");var gN,mN={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},bN=(Fa(wN,gN=Error),wN);function wN(t,e,n){var r=gN.call(this,e)||this;return Object.setPrototypeOf(r,wN.prototype),r.code=t,r.details=n,r}var _N=(EN.prototype.getAuthToken=function(){return ja(this,void 0,void 0,(function(){var t;return Va(this,(function(e){switch(e.label){case 0:if(!this.auth)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(t=e.sent())?[2,t.accessToken]:[2,void 0];case 3:return e.sent(),[2,void 0];case 4:return[2]}}))}))},EN.prototype.getInstanceIdToken=function(){return ja(this,void 0,void 0,(function(){return Va(this,(function(t){if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];try{return[2,this.messaging.getToken()]}catch(t){return[2,void 0]}return[2]}))}))},EN.prototype.getContext=function(){return ja(this,void 0,void 0,(function(){var t,e;return Va(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return t=n.sent(),[4,this.getInstanceIdToken()];case 2:return e=n.sent(),[2,{authToken:t,instanceIdToken:e}]}}))}))},EN);function EN(t,e){var n=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=e.getImmediate({optional:!0}),this.auth||t.get().then((function(t){return n.auth=t}),(function(){})),this.messaging||e.get().then((function(t){return n.messaging=t}),(function(){}))}function IN(t,e){var n,r={};for(n in t)t.hasOwnProperty(n)&&(r[n]=e(t[n]));return r}var TN=(SN.prototype.encode=function(t){var e=this;if(null==t)return null;if(t instanceof Number&&(t=t.valueOf()),"number"==typeof t&&isFinite(t))return t;if(!0===t||!1===t)return t;if("[object String]"===Object.prototype.toString.call(t))return t;if(Array.isArray(t))return t.map((function(t){return e.encode(t)}));if("function"==typeof t||"object"==typeof t)return IN(t,(function(t){return e.encode(t)}));throw new Error("Data cannot be encoded in JSON: "+t)},SN.prototype.decode=function(t){var e=this;if(null==t)return t;if(t["@type"])switch(t["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(t.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+t);return n;default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map((function(t){return e.decode(t)})):"function"==typeof t||"object"==typeof t?IN(t,(function(t){return e.decode(t)})):t},SN);function SN(){}var CN,AN,kN,NN=(Object.defineProperty(ON.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),ON.prototype._url=function(t){var e=this.app_.options.projectId;return null===this.emulatorOrigin?null!==this.customDomain?this.customDomain+"/"+t:"https://"+this.region+"-"+e+".cloudfunctions.net/"+t:this.emulatorOrigin+"/"+e+"/"+this.region+"/"+t},ON.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},ON.prototype.httpsCallable=function(t,e){var n=this;return function(r){return n.call(t,r,e||{})}},ON.prototype.postJSON=function(t,e,n){return ja(this,void 0,void 0,(function(){var r,i;return Va(this,(function(o){switch(o.label){case 0:n["Content-Type"]="application/json",o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.fetchImpl(t,{method:"POST",body:JSON.stringify(e),headers:n})];case 2:return r=o.sent(),[3,4];case 3:return o.sent(),[2,{status:0,json:null}];case 4:i=null,o.label=5;case 5:return o.trys.push([5,7,,8]),[4,r.json()];case 6:return i=o.sent(),[3,8];case 7:return o.sent(),[3,8];case 8:return[2,{status:r.status,json:i}]}}))}))},ON.prototype.call=function(t,e,n){return ja(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,h,f,p;return Va(this,(function(d){switch(d.label){case 0:return r=this._url(t),e=this.serializer.encode(e),i={data:e},o={},[4,this.contextProvider.getContext()];case 1:return(a=d.sent()).authToken&&(o.Authorization="Bearer "+a.authToken),a.instanceIdToken&&(o["Firebase-Instance-ID-Token"]=a.instanceIdToken),s=n.timeout||7e4,v=s,g=new Promise((function(t,e){y=setTimeout((function(){e(new bN("deadline-exceeded","deadline-exceeded"))}),v)})),c=(u={timer:y,promise:g}).timer,l=u.promise,[4,Promise.race([xN(c,this.postJSON(r,i,o)),l,xN(c,this.cancelAllRequests)])];case 2:if(!(h=d.sent()))throw new bN("cancelled","Firebase Functions instance was deleted.");if(f=function(t,e,n){var r=function(t){if(200<=t&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(t),i=r,o=void 0;try{var a=e&&e.error;if(a){var s=a.status;if("string"==typeof s){if(!mN[s])return new bN("internal","internal");r=mN[s],i=s}var u=a.message;"string"==typeof u&&(i=u),void 0!==(o=a.details)&&(o=n.decode(o))}}catch(t){}return"ok"===r?null:new bN(r,i,o)}(h.status,h.json,this.serializer))throw f;if(!h.json)throw new bN("internal","Response is not valid JSON object.");if(void 0===(p=h.json.data)&&(p=h.json.result),void 0===p)throw new bN("internal","Response is missing data field.");return[2,{data:this.serializer.decode(p)}]}var v,y,g}))}))},ON);function ON(t,e,n,r,i){var o=this;void 0===r&&(r="us-central1"),this.app_=t,this.fetchImpl=i,this.serializer=new TN,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(o.deleteService())}},this.contextProvider=new _N(e,n),this.cancelAllRequests=new Promise((function(t){o.deleteService=function(){return t()}}));try{var a=new URL(r);this.customDomain=a.origin,this.region="us-central1"}catch(t){this.customDomain=null,this.region=r}}function xN(t,e){return ja(this,void 0,void 0,(function(){var n;return Va(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),clearTimeout(t),[2,n]}}))}))}function PN(t){return new Promise((function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function RN(t,e,n){var r,i=new Promise((function(i,o){PN(r=t[e].apply(t,n)).then(i,o)}));return i.request=r,i}function DN(t,e,n){n.forEach((function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})}))}function LN(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return RN(this[e],r,arguments)})}))}function MN(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return this[e][r].apply(this[e],arguments)})}))}function FN(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return t=this[e],(n=RN(t,r,arguments)).then((function(t){if(t)return new jN(t,n.request)}));var t,n})}))}function UN(t){this._index=t}function jN(t,e){this._cursor=t,this._request=e}function VN(t){this._store=t}function qN(t){this._tx=t,this.complete=new Promise((function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}}))}function BN(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new qN(n)}function zN(t){this._db=t}function GN(t,e,n){var r=RN(indexedDB,"open",[t,e]),i=r.request;return i&&(i.onupgradeneeded=function(t){n&&n(new BN(i.result,t.oldVersion,i.transaction))}),r.then((function(t){return new zN(t)}))}function WN(t){return RN(indexedDB,"deleteDatabase",[t])}CN=yu,AN=fetch.bind(self),kN={Functions:NN},CN.INTERNAL.registerComponent(new Ls("functions",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("messaging");return new NN(n,r,i,e,AN)}),"PUBLIC").setServiceProps(kN).setMultipleInstances(!0)),yu.registerVersion("@firebase/functions","0.5.1"),DN(UN,"_index",["name","keyPath","multiEntry","unique"]),LN(UN,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),FN(UN,"_index",IDBIndex,["openCursor","openKeyCursor"]),DN(jN,"_cursor",["direction","key","primaryKey","value"]),LN(jN,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(t){t in IDBCursor.prototype&&(jN.prototype[t]=function(){var e=this,n=arguments;return Promise.resolve().then((function(){return e._cursor[t].apply(e._cursor,n),PN(e._request).then((function(t){if(t)return new jN(t,e._request)}))}))})})),VN.prototype.createIndex=function(){return new UN(this._store.createIndex.apply(this._store,arguments))},VN.prototype.index=function(){return new UN(this._store.index.apply(this._store,arguments))},DN(VN,"_store",["name","keyPath","indexNames","autoIncrement"]),LN(VN,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),FN(VN,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),MN(VN,"_store",IDBObjectStore,["deleteIndex"]),qN.prototype.objectStore=function(){return new VN(this._tx.objectStore.apply(this._tx,arguments))},DN(qN,"_tx",["objectStoreNames","mode"]),MN(qN,"_tx",IDBTransaction,["abort"]),BN.prototype.createObjectStore=function(){return new VN(this._db.createObjectStore.apply(this._db,arguments))},DN(BN,"_db",["name","version","objectStoreNames"]),MN(BN,"_db",IDBDatabase,["deleteObjectStore","close"]),zN.prototype.transaction=function(){return new qN(this._db.transaction.apply(this._db,arguments))},DN(zN,"_db",["name","version","objectStoreNames"]),MN(zN,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(t){[VN,UN].forEach((function(e){t in e.prototype&&(e.prototype[t.replace("open","iterate")]=function(){var e,n=(e=arguments,Array.prototype.slice.call(e)),r=n[n.length-1],i=this._store||this._index,o=i[t].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[UN,VN].forEach((function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,r=[];return new Promise((function(i){n.iterateCursor(t,(function(t){t?(r.push(t.value),void 0===e||r.length!=e?t.continue():i(r)):i(r)}))}))})}));var HN,KN="w:0.4.17",QN=((HN={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',HN["not-registered"]="Firebase Installation is not registered.",HN["installation-not-found"]="Firebase Installation not found.",HN["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',HN["app-offline"]="Could not process request. Application offline.",HN["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",HN),YN=new ps("installations","Installations",QN);function XN(t){return t instanceof hs&&t.code.includes("request-failed")}function $N(t){return"https://firebaseinstallations.googleapis.com/v1/projects/"+t.projectId+"/installations"}function JN(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}function ZN(t,e){return ja(this,void 0,void 0,(function(){var n,r;return Va(this,(function(i){switch(i.label){case 0:return[4,e.json()];case 1:return n=i.sent(),r=n.error,[2,YN.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function tO(t){var e=t.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function eO(t,e){var n=e.refreshToken,r=tO(t);return r.append("Authorization","FIS_v2 "+n),r}function nO(t){return ja(this,void 0,void 0,(function(){var e;return Va(this,(function(n){switch(n.label){case 0:return[4,t()];case 1:return 500<=(e=n.sent()).status&&e.status<600?[2,t()]:[2,e]}}))}))}function rO(t){return new Promise((function(e){setTimeout(e,t)}))}var iO=/^[cdef][\w-]{21}$/;function oO(){try{var t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var e=function(t){return btoa(String.fromCharCode.apply(String,za(t))).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22);return iO.test(e)?e:""}catch(t){return""}}function aO(t){return t.appName+"!"+t.appId}var sO=new Map;function uO(t,e){var n=aO(t);cO(n,e),function(t,e){var n=hO();n&&n.postMessage({key:t,fid:e}),fO()}(n,e)}function cO(t,e){var n,r,i=sO.get(t);if(i)try{for(var o=qa(i),a=o.next();!a.done;a=o.next())(0,a.value)(e)}catch(t){n={error:t}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var lO=null;function hO(){return!lO&&"BroadcastChannel"in self&&((lO=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(t){cO(t.data.key,t.data.fid)}),lO}function fO(){0===sO.size&&lO&&(lO.close(),lO=null)}var pO,dO,vO="firebase-installations-store",yO=null;function gO(){return yO=yO||GN("firebase-installations-database",1,(function(t){0===t.oldVersion&&t.createObjectStore(vO)}))}function mO(t,e){return ja(this,void 0,void 0,(function(){var n,r,i,o,a;return Va(this,(function(s){switch(s.label){case 0:return n=aO(t),[4,gO()];case 1:return r=s.sent(),i=r.transaction(vO,"readwrite"),[4,(o=i.objectStore(vO)).get(n)];case 2:return a=s.sent(),[4,o.put(e,n)];case 3:return s.sent(),[4,i.complete];case 4:return s.sent(),a&&a.fid===e.fid||uO(t,e.fid),[2,e]}}))}))}function bO(t){return ja(this,void 0,void 0,(function(){var e,n,r;return Va(this,(function(i){switch(i.label){case 0:return e=aO(t),[4,gO()];case 1:return n=i.sent(),[4,(r=n.transaction(vO,"readwrite")).objectStore(vO).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function wO(t,e){return ja(this,void 0,void 0,(function(){var n,r,i,o,a,s;return Va(this,(function(u){switch(u.label){case 0:return n=aO(t),[4,gO()];case 1:return r=u.sent(),i=r.transaction(vO,"readwrite"),[4,(o=i.objectStore(vO)).get(n)];case 2:return a=u.sent(),void 0!==(s=e(a))?[3,4]:[4,o.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(s,n)];case 5:u.sent(),u.label=6;case 6:return[4,i.complete];case 7:return u.sent(),!s||a&&a.fid===s.fid||uO(t,s.fid),[2,s]}}))}))}function _O(t){return ja(this,void 0,void 0,(function(){var e,n,r;return Va(this,(function(i){switch(i.label){case 0:return[4,wO(t,(function(n){var r=IO(n||{fid:oO(),registrationStatus:0}),i=function(t,e){if(0!==e.registrationStatus)return 1===e.registrationStatus?{installationEntry:e,registrationPromise:function(t){return ja(this,void 0,void 0,(function(){var e,n,r,i;return Va(this,(function(o){switch(o.label){case 0:return[4,EO(t)];case 1:e=o.sent(),o.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,rO(100)];case 3:return o.sent(),[4,EO(t)];case 4:return e=o.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,_O(t)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,e]}}))}))}(t)}:{installationEntry:e};if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(YN.create("app-offline"))};var n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function(t,e){return ja(this,void 0,void 0,(function(){var n,r;return Va(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,function(t,e){var n=e.fid;return ja(this,void 0,void 0,(function(){var e,r,i,o,a,s;return Va(this,(function(u){switch(u.label){case 0:return e=$N(t),r=tO(t),i={fid:n,authVersion:"FIS_v2",appId:t.appId,sdkVersion:KN},o={method:"POST",headers:r,body:JSON.stringify(i)},[4,nO((function(){return fetch(e,o)}))];case 1:return(a=u.sent()).ok?[4,a.json()]:[3,3];case 2:return[2,{fid:(s=u.sent()).fid||n,registrationStatus:2,refreshToken:s.refreshToken,authToken:JN(s.authToken)}];case 3:return[4,ZN("Create Installation",a)];case 4:throw u.sent()}}))}))}(t,e)];case 1:return n=i.sent(),[2,mO(t,n)];case 2:return XN(r=i.sent())&&409===r.serverCode?[4,bO(t)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,mO(t,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(t,n);return{installationEntry:n,registrationPromise:r}}(t,r);return e=i.registrationPromise,i.installationEntry}))];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}}))}))}function EO(t){return wO(t,(function(t){if(!t)throw YN.create("installation-not-found");return IO(t)}))}function IO(t){return 1===(e=t).registrationStatus&&e.registrationTime+1e4<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e}function TO(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return ja(this,void 0,void 0,(function(){var t,i,o,a,s,u;return Va(this,(function(c){switch(c.label){case 0:return l=n,h=e.fid,t=$N(l)+"/"+h+"/authTokens:generate",i=eO(n,e),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),a={installation:{sdkVersion:KN}},s={method:"POST",headers:i,body:JSON.stringify(a)},[4,nO((function(){return fetch(t,s)}))];case 1:return(u=c.sent()).ok?[4,u.json()]:[3,3];case 2:return[2,JN(c.sent())];case 3:return[4,ZN("Generate Auth Token",u)];case 4:throw c.sent()}var l,h}))}))}function SO(t,e){return void 0===e&&(e=!1),ja(this,void 0,void 0,(function(){var n,r,i;return Va(this,(function(o){switch(o.label){case 0:return[4,wO(t.appConfig,(function(r){if(!AO(r))throw YN.create("not-registered");var i,o,a,s=r.authToken;if(e||2!==(a=s).requestStatus||function(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(a)){if(1===s.requestStatus)return n=function(t,e){return ja(this,void 0,void 0,(function(){var n,r;return Va(this,(function(i){switch(i.label){case 0:return[4,CO(t.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,rO(100)];case 3:return i.sent(),[4,CO(t.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,SO(t,e)]:[2,r]}}))}))}(t,e),r;if(!navigator.onLine)throw YN.create("app-offline");var u=(i=r,o={requestStatus:1,requestTime:Date.now()},Ua(Ua({},i),{authToken:o}));return n=function(t,e){return ja(this,void 0,void 0,(function(){var n,r,i;return Va(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,TO(t,e)];case 1:return n=o.sent(),i=Ua(Ua({},e),{authToken:n}),[4,mO(t.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!XN(r=o.sent())||401!==r.serverCode&&404!==r.serverCode?[3,5]:[4,bO(t.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=Ua(Ua({},e),{authToken:{requestStatus:0}}),[4,mO(t.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(t,u),u}return r}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function CO(t){return wO(t,(function(t){if(!AO(t))throw YN.create("not-registered");var e;return 1===(e=t.authToken).requestStatus&&e.requestTime+1e4<Date.now()?Ua(Ua({},t),{authToken:{requestStatus:0}}):t}))}function AO(t){return void 0!==t&&2===t.registrationStatus}function kO(t,e){return ja(this,void 0,void 0,(function(){var n,r,i,o;return Va(this,(function(a){switch(a.label){case 0:return s=t,u=e.fid,n=$N(s)+"/"+u,r=eO(t,e),i={method:"DELETE",headers:r},[4,nO((function(){return fetch(n,i)}))];case 1:return(o=a.sent()).ok?[3,3]:[4,ZN("Delete Installation",o)];case 2:throw a.sent();case 3:return[2]}var s,u}))}))}function NO(t){return YN.create("missing-app-config-values",{valueName:t})}(pO=yu).INTERNAL.registerComponent(new Ls("installations",(function(t){var e=t.getProvider("app").getImmediate(),n={appConfig:function(t){var e,n;if(!t||!t.options)throw NO("App Configuration");if(!t.name)throw NO("App Name");try{for(var r=qa(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!t.options[o])throw NO(o)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:t.getProvider("platform-logger")};return{app:e,getId:function(){return function(t){return ja(this,void 0,void 0,(function(){var e,n,r;return Va(this,(function(i){switch(i.label){case 0:return[4,_O(t.appConfig)];case 1:return e=i.sent(),n=e.installationEntry,(r=e.registrationPromise)?r.catch(console.error):SO(t).catch(console.error),[2,n.fid]}}))}))}(n)},getToken:function(t){return function(t,e){return void 0===e&&(e=!1),ja(this,void 0,void 0,(function(){return Va(this,(function(n){switch(n.label){case 0:return[4,function(t){return ja(this,void 0,void 0,(function(){var e;return Va(this,(function(n){switch(n.label){case 0:return[4,_O(t)];case 1:return(e=n.sent().registrationPromise)?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}(t.appConfig)];case 1:return n.sent(),[4,SO(t,e)];case 2:return[2,n.sent().token]}}))}))}(n,t)},delete:function(){return function(t){return ja(this,void 0,void 0,(function(){var e,n;return Va(this,(function(r){switch(r.label){case 0:return[4,wO(e=t.appConfig,(function(t){if(!t||0!==t.registrationStatus)return t}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw YN.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw YN.create("app-offline");case 3:return[4,kO(e,n)];case 4:return r.sent(),[4,bO(e)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(n)},onIdChange:function(t){return function(t,e){var n=t.appConfig;return function(t,e){hO();var n=aO(t),r=sO.get(n);r||(r=new Set,sO.set(n,r)),r.add(e)}(n,e),function(){var t,r,i;t=e,r=aO(n),(i=sO.get(r))&&(i.delete(t),0===i.size&&sO.delete(r),fO())}}(n,t)}}}),"PUBLIC")),pO.registerVersion("@firebase/installations","0.4.17");var OO,xO,PO=((dO={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',dO["only-available-in-window"]="This method is available in a Window context.",dO["only-available-in-sw"]="This method is available in a service worker context.",dO["permission-default"]="The notification permission was not granted and dismissed instead.",dO["permission-blocked"]="The notification permission was not granted and blocked instead.",dO["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",dO["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",dO["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",dO["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",dO["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",dO["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",dO["token-update-no-token"]="FCM returned no token when updating the user to push.",dO["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",dO["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",dO["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",dO["invalid-vapid-key"]="The public VAPID key must be a string.",dO["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",dO),RO=new ps("messaging","Messaging",PO),DO="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",LO="FCM_MSG",MO="google.c.a.c_id";function FO(t){var e=new Uint8Array(t);return btoa(String.fromCharCode.apply(String,za(e))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}(xO=OO=OO||{}).PUSH_RECEIVED="push-received",xO.NOTIFICATION_CLICKED="notification-clicked";var UO="fcm_token_details_db",jO="fcm_token_object_Store";function VO(t){return ja(this,void 0,void 0,(function(){var e,n=this;return Va(this,(function(r){switch(r.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(!r.sent().map((function(t){return t.name})).includes(UO))return[2,null];r.label=2;case 2:return e=null,[4,GN(UO,5,(function(r){return ja(n,void 0,void 0,(function(){var n,i,o,a;return Va(this,(function(s){switch(s.label){case 0:return r.oldVersion<2?[2]:r.objectStoreNames.contains(jO)?[4,(n=r.transaction.objectStore(jO)).index("fcmSenderId").get(t)]:[2];case 1:return i=s.sent(),[4,n.clear()];case 2:if(s.sent(),!i)return[2];if(2===r.oldVersion){if(!(o=i).auth||!o.p256dh||!o.endpoint)return[2];e={token:o.fcmToken,createTime:null!==(a=o.createTime)&&void 0!==a?a:Date.now(),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:"string"==typeof o.vapidKey?o.vapidKey:FO(o.vapidKey)}}}else(3===r.oldVersion||4===r.oldVersion)&&(e={token:(o=i).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:FO(o.auth),p256dh:FO(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:FO(o.vapidKey)}});return[2]}}))}))}))];case 3:return r.sent().close(),[4,WN(UO)];case 4:return r.sent(),[4,WN("fcm_vapid_details_db")];case 5:return r.sent(),[4,WN("undefined")];case 6:return r.sent(),[2,function(t){if(!t||!t.subscriptionOptions)return!1;var e=t.subscriptionOptions;return"number"==typeof t.createTime&&0<t.createTime&&"string"==typeof t.token&&0<t.token.length&&"string"==typeof e.auth&&0<e.auth.length&&"string"==typeof e.p256dh&&0<e.p256dh.length&&"string"==typeof e.endpoint&&0<e.endpoint.length&&"string"==typeof e.swScope&&0<e.swScope.length&&"string"==typeof e.vapidKey&&0<e.vapidKey.length}(e)?e:null]}}))}))}var qO="firebase-messaging-store",BO=null;function zO(){return BO=BO||GN("firebase-messaging-database",1,(function(t){0===t.oldVersion&&t.createObjectStore(qO)}))}function GO(t){return ja(this,void 0,void 0,(function(){var e,n,r;return Va(this,(function(i){switch(i.label){case 0:return e=HO(t),[4,zO()];case 1:return[4,i.sent().transaction(qO).objectStore(qO).get(e)];case 2:return(n=i.sent())?[2,n]:[3,3];case 3:return[4,VO(t.appConfig.senderId)];case 4:return(r=i.sent())?[4,WO(t,r)]:[3,6];case 5:return i.sent(),[2,r];case 6:return[2]}}))}))}function WO(t,e){return ja(this,void 0,void 0,(function(){var n,r,i;return Va(this,(function(o){switch(o.label){case 0:return n=HO(t),[4,zO()];case 1:return r=o.sent(),[4,(i=r.transaction(qO,"readwrite")).objectStore(qO).put(e,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,e]}}))}))}function HO(t){return t.appConfig.appId}function KO(t,e){return ja(this,void 0,void 0,(function(){var n,r,i,o,a;return Va(this,(function(s){switch(s.label){case 0:return[4,YO(t)];case 1:n=s.sent(),r={method:"DELETE",headers:n},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(QO(t.appConfig)+"/"+e,r)];case 3:return[4,s.sent().json()];case 4:if((i=s.sent()).error)throw o=i.error.message,RO.create("token-unsubscribe-failed",{errorInfo:o});return[3,6];case 5:throw a=s.sent(),RO.create("token-unsubscribe-failed",{errorInfo:a});case 6:return[2]}}))}))}function QO(t){return"https://fcmregistrations.googleapis.com/v1/projects/"+t.projectId+"/registrations"}function YO(t){var e=t.appConfig,n=t.installations;return ja(this,void 0,void 0,(function(){var t;return Va(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return t=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+t})]}}))}))}function XO(t){var e=t.p256dh,n=t.auth,r=t.endpoint,i=t.vapidKey,o={web:{endpoint:r,auth:n,p256dh:e}};return i!==DO&&(o.web.applicationPubKey=i),o}function $O(t,e,n){return ja(this,void 0,void 0,(function(){var r,i,o,a;return Va(this,(function(s){switch(s.label){case 0:if("granted"!==Notification.permission)throw RO.create("permission-blocked");return[4,function(t,e){return ja(this,void 0,void 0,(function(){var n;return Va(this,(function(r){switch(r.label){case 0:return[4,t.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:function(t){for(var e=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(e),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}(e)})]}}))}))}(e,n)];case 1:return r=s.sent(),[4,GO(t)];case 2:return i=s.sent(),o={vapidKey:n,swScope:e.scope,endpoint:r.endpoint,auth:FO(r.getKey("auth")),p256dh:FO(r.getKey("p256dh"))},i?[3,3]:[2,ZO(t,o)];case 3:if(u=i.subscriptionOptions,l=(c=o).vapidKey===u.vapidKey,h=c.endpoint===u.endpoint,f=c.auth===u.auth,p=c.p256dh===u.p256dh,l&&h&&f&&p)return[3,8];s.label=4;case 4:return s.trys.push([4,6,,7]),[4,KO(t,i.token)];case 5:return s.sent(),[3,7];case 6:return a=s.sent(),console.warn(a),[3,7];case 7:return[2,ZO(t,o)];case 8:return Date.now()>=i.createTime+6048e5?[2,function(t,e,n){return ja(this,void 0,void 0,(function(){var r,i,o;return Va(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,function(t,e){return ja(this,void 0,void 0,(function(){var n,r,i,o,a,s;return Va(this,(function(u){switch(u.label){case 0:return[4,YO(t)];case 1:n=u.sent(),r=XO(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(QO(t.appConfig)+"/"+e.token,i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw a=u.sent(),RO.create("token-update-failed",{errorInfo:a});case 6:if(o.error)throw s=o.error.message,RO.create("token-update-failed",{errorInfo:s});if(!o.token)throw RO.create("token-update-no-token");return[2,o.token]}}))}))}(e,t)];case 1:return r=a.sent(),i=Ua(Ua({},t),{token:r,createTime:Date.now()}),[4,WO(e,i)];case 2:return a.sent(),[2,r];case 3:return o=a.sent(),[4,JO(e,n)];case 4:throw a.sent(),o;case 5:return[2]}}))}))}({token:i.token,createTime:Date.now(),subscriptionOptions:o},t,e)]:[2,i.token];case 9:return[2]}var u,c,l,h,f,p}))}))}function JO(t,e){return ja(this,void 0,void 0,(function(){var n,r;return Va(this,(function(i){switch(i.label){case 0:return[4,GO(t)];case 1:return(n=i.sent())?[4,KO(t,n.token)]:[3,4];case 2:return i.sent(),[4,function(t){return ja(this,void 0,void 0,(function(){var e,n,r;return Va(this,(function(i){switch(i.label){case 0:return e=HO(t),[4,zO()];case 1:return n=i.sent(),[4,(r=n.transaction(qO,"readwrite")).objectStore(qO).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}(t)];case 3:i.sent(),i.label=4;case 4:return[4,e.pushManager.getSubscription()];case 5:return(r=i.sent())?[2,r.unsubscribe()]:[2,!0]}}))}))}function ZO(t,e){return ja(this,void 0,void 0,(function(){var n,r;return Va(this,(function(i){switch(i.label){case 0:return[4,function(t,e){return ja(this,void 0,void 0,(function(){var n,r,i,o,a,s;return Va(this,(function(u){switch(u.label){case 0:return[4,YO(t)];case 1:n=u.sent(),r=XO(e),i={method:"POST",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(QO(t.appConfig),i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw a=u.sent(),RO.create("token-subscribe-failed",{errorInfo:a});case 6:if(o.error)throw s=o.error.message,RO.create("token-subscribe-failed",{errorInfo:s});if(!o.token)throw RO.create("token-subscribe-no-token");return[2,o.token]}}))}))}(t,e)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:e},[4,WO(t,r)];case 2:return i.sent(),[2,r.token]}}))}))}function tx(t){return"object"==typeof t&&t&&MO in t}var ex=(Object.defineProperty(nx.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),nx.prototype.setBackgroundMessageHandler=function(t){if(this.isOnBackgroundMessageUsed=!1,!t||"function"!=typeof t)throw RO.create("invalid-bg-handler");this.bgMessageHandler=t},nx.prototype.onBackgroundMessage=function(t){var e=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=t,function(){e.bgMessageHandler=null}},nx.prototype.getToken=function(){var t,e;return ja(this,void 0,void 0,(function(){var n;return Va(this,(function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,GO(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(e=null===(t=null==n?void 0:n.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==e?e:DO,r.label=2;case 2:return[2,$O(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},nx.prototype.deleteToken=function(){return JO(this.firebaseDependencies,self.registration)},nx.prototype.requestPermission=function(){throw RO.create("only-available-in-window")},nx.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw RO.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw RO.create("invalid-vapid-key");this.vapidKey=t},nx.prototype.useServiceWorker=function(){throw RO.create("only-available-in-window")},nx.prototype.onMessage=function(){throw RO.create("only-available-in-window")},nx.prototype.onTokenRefresh=function(){throw RO.create("only-available-in-window")},nx.prototype.onPush=function(t){return ja(this,void 0,void 0,(function(){var e,n,r,i;return Va(this,(function(o){switch(o.label){case 0:return(e=function(t){var e=t.data;if(!e)return null;try{return e.json()}catch(t){return null}}(t))?[4,rx()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return(n=o.sent()).some((function(t){return"visible"===t.visibilityState&&!t.url.startsWith("chrome-extension://")}))?[2,function(t,e){var n,r;e.isFirebaseMessaging=!0,e.messageType=OO.PUSH_RECEIVED;try{for(var i=qa(t),o=i.next();!o.done;o=i.next())o.value.postMessage(e)}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}(n,e)]:(r=!1,e.notification?[4,function(t){var e,n=t.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(e=t.title)&&void 0!==e?e:"",t)}(((u=Ua({},(a=e).notification)).data=((s={})[LO]=a,s),u))]:[3,3]);case 2:o.sent(),r=!0,o.label=3;case 3:return!0===r&&!1===this.isOnBackgroundMessageUsed||this.bgMessageHandler&&(i=function(t){var e={from:t.from,collapseKey:t.collapse_key};return function(t,e){if(e.notification){t.notification={};var n=e.notification.title;n&&(t.notification.title=n);var r=e.notification.body;r&&(t.notification.body=r);var i=e.notification.image;i&&(t.notification.image=i)}}(e,t),function(t,e){e.data&&(t.data=e.data)}(e,t),function(t,e){if(e.fcmOptions){t.fcmOptions={};var n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);var r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}}(e,t),e}(e),"function"==typeof this.bgMessageHandler?this.bgMessageHandler(i):this.bgMessageHandler.next(i)),[2]}var a,s,u}))}))},nx.prototype.onSubChange=function(t){var e,n;return ja(this,void 0,void 0,(function(){var r;return Va(this,(function(i){switch(i.label){case 0:return t.newSubscription?[3,2]:[4,JO(this.firebaseDependencies,self.registration)];case 1:return i.sent(),[2];case 2:return[4,GO(this.firebaseDependencies)];case 3:return r=i.sent(),[4,JO(this.firebaseDependencies,self.registration)];case 4:return i.sent(),[4,$O(this.firebaseDependencies,self.registration,null!==(n=null===(e=null==r?void 0:r.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==n?n:DO)];case 5:return i.sent(),[2]}}))}))},nx.prototype.onNotificationClick=function(t){var e,n;return ja(this,void 0,void 0,(function(){var r,i,o,a,s;return Va(this,(function(u){switch(u.label){case 0:return(r=null===(n=null===(e=t.notification)||void 0===e?void 0:e.data)||void 0===n?void 0:n[LO])?t.action?[2]:(t.stopImmediatePropagation(),t.notification.close(),(i=function(t){var e,n,r,i=null!==(n=null===(e=t.fcmOptions)||void 0===e?void 0:e.link)&&void 0!==n?n:null===(r=t.notification)||void 0===r?void 0:r.click_action;return i||(tx(t.data)?self.location.origin:null)}(r))?(o=new URL(i,self.location.href),a=new URL(self.location.origin),o.host!==a.host?[2]:[4,function(t){return ja(this,void 0,void 0,(function(){var e,n,r,i,o,a,s;return Va(this,(function(u){switch(u.label){case 0:return[4,rx()];case 1:e=u.sent();try{for(n=qa(e),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),t.host===o.host)return[2,i]}catch(u){a={error:u}}finally{try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(a)throw a.error}}return[2,null]}}))}))}(o)]):[2]):[2];case 1:return(s=u.sent())?[3,4]:[4,self.clients.openWindow(i)];case 2:return s=u.sent(),[4,new Promise((function(t){setTimeout(t,3e3)}))];case 3:return u.sent(),[3,6];case 4:return[4,s.focus()];case 5:s=u.sent(),u.label=6;case 6:return s?(r.messageType=OO.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,s.postMessage(r)]):[2]}}))}))},nx);function nx(t){var e=this;this.firebaseDependencies=t,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(t){t.waitUntil(e.onPush(t))})),self.addEventListener("pushsubscriptionchange",(function(t){t.waitUntil(e.onSubChange(t))})),self.addEventListener("notificationclick",(function(t){t.waitUntil(e.onNotificationClick(t))}))}function rx(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}var ix=(Object.defineProperty(ox.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),ox.prototype.messageEventListener=function(t){return ja(this,void 0,void 0,(function(){var e,n;return Va(this,(function(r){switch(r.label){case 0:return(e=t.data).isFirebaseMessaging?(this.onMessageCallback&&e.messageType===OO.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback((delete(i=Object.assign({},e)).messageType,delete i.isFirebaseMessaging,i)):this.onMessageCallback.next(Object.assign({},e))),tx(n=e.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(e.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}var i}))}))},ox.prototype.getVapidKey=function(){return this.vapidKey},ox.prototype.getSwReg=function(){return this.swRegistration},ox.prototype.getToken=function(t){return ja(this,void 0,void 0,(function(){return Va(this,(function(e){switch(e.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:e.sent(),e.label=2;case 2:if("granted"!==Notification.permission)throw RO.create("permission-blocked");return[4,this.updateVapidKey(null==t?void 0:t.vapidKey)];case 3:return e.sent(),[4,this.updateSwReg(null==t?void 0:t.serviceWorkerRegistration)];case 4:return e.sent(),[2,$O(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}}))}))},ox.prototype.updateVapidKey=function(t){return ja(this,void 0,void 0,(function(){return Va(this,(function(e){return t?this.vapidKey=t:this.vapidKey||(this.vapidKey=DO),[2]}))}))},ox.prototype.updateSwReg=function(t){return ja(this,void 0,void 0,(function(){return Va(this,(function(e){switch(e.label){case 0:return t||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:if(!t&&this.swRegistration)return[2];if(!(t instanceof ServiceWorkerRegistration))throw RO.create("invalid-sw-registration");return this.swRegistration=t,[2]}}))}))},ox.prototype.registerDefaultSw=function(){return ja(this,void 0,void 0,(function(){var t,e;return Va(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),t=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return t.swRegistration=n.sent(),this.swRegistration.update().catch((function(){})),[3,3];case 2:throw e=n.sent(),RO.create("failed-service-worker-registration",{browserErrorMessage:e.message});case 3:return[2]}}))}))},ox.prototype.deleteToken=function(){return ja(this,void 0,void 0,(function(){return Va(this,(function(t){switch(t.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:return[2,JO(this.firebaseDependencies,this.swRegistration)]}}))}))},ox.prototype.requestPermission=function(){return ja(this,void 0,void 0,(function(){var t;return Va(this,(function(e){switch(e.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(t=e.sent()))return[2];throw"denied"===t?RO.create("permission-blocked"):RO.create("permission-default")}}))}))},ox.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw RO.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw RO.create("invalid-vapid-key");this.vapidKey=t},ox.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw RO.create("invalid-sw-registration");if(this.swRegistration)throw RO.create("use-sw-after-get-token");this.swRegistration=t},ox.prototype.onMessage=function(t){var e=this;return this.onMessageCallback=t,function(){e.onMessageCallback=null}},ox.prototype.setBackgroundMessageHandler=function(){throw RO.create("only-available-in-sw")},ox.prototype.onBackgroundMessage=function(){throw RO.create("only-available-in-sw")},ox.prototype.onTokenRefresh=function(){return function(){}},ox.prototype.logEvent=function(t,e){return ja(this,void 0,void 0,(function(){var n;return Va(this,(function(r){switch(r.label){case 0:return n=function(t){switch(t){case OO.NOTIFICATION_CLICKED:return"notification_open";case OO.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:e[MO],message_name:e["google.c.a.c_l"],message_time:e["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},ox);function ox(t){var e=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(t){return e.messageEventListener(t)}))}function ax(t){return RO.create("missing-app-config-values",{valueName:t})}var sx={isSupported:ux};function ux(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}yu.INTERNAL.registerComponent(new Ls("messaging",(function(t){var e=t.getProvider("app").getImmediate(),n={app:e,appConfig:function(t){var e,n;if(!t||!t.options)throw ax("App Configuration Object");if(!t.name)throw ax("App Name");var r=t.options;try{for(var i=qa(["projectId","apiKey","appId","messagingSenderId"]),o=i.next();!o.done;o=i.next()){var a=o.value;if(!r[a])throw ax(a)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return{appName:t.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(e),installations:t.getProvider("installations").getImmediate(),analyticsProvider:t.getProvider("analytics-internal")};if(!ux())throw RO.create("unsupported-browser");return new(self&&"ServiceWorkerGlobalScope"in self?ex:ix)(n)}),"PUBLIC").setServiceProps(sx));var cx="firebasestorage.googleapis.com",lx=(hx.prototype.codeProp=function(){return this.code},hx.prototype.codeEquals=function(t){return Ox(t)===this.codeProp()},hx.prototype.serverResponseProp=function(){return this.serverResponse_},hx.prototype.setServerResponseProp=function(t){this.serverResponse_=t},Object.defineProperty(hx.prototype,"name",{get:function(){return this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(hx.prototype,"code",{get:function(){return this.code_},enumerable:!1,configurable:!0}),Object.defineProperty(hx.prototype,"message",{get:function(){return this.serverResponse_?this.message_+"\n"+this.serverResponse_:this.message_},enumerable:!1,configurable:!0}),Object.defineProperty(hx.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!1,configurable:!0}),hx);function hx(t,e){this.code_=Ox(t),this.message_="Firebase Storage: "+e,this.serverResponse_=null,this.name_="FirebaseError"}var fx="unknown",px="object-not-found",dx="quota-exceeded",vx="unauthenticated",yx="unauthorized",gx="retry-limit-exceeded",mx="canceled",bx="invalid-url",wx="invalid-default-bucket",_x="cannot-slice-blob",Ex="server-file-wrong-size",Ix="no-download-url",Tx="invalid-argument",Sx="invalid-argument-count",Cx="app-deleted",Ax="invalid-root-operation",kx="invalid-format",Nx="internal-error";function Ox(t){return"storage/"+t}function xx(){return new lx(fx,"An unknown error occurred, please check the error payload for server response.")}function Px(){return new lx(mx,"User canceled the upload/download.")}function Rx(){return new lx(_x,"Cannot slice blob for upload. Please retry the upload.")}function Dx(t,e,n){return new lx(Tx,"Invalid argument in `"+e+"` at index "+t+": "+n)}function Lx(){return new lx(Cx,"The Firebase app was deleted.")}function Mx(t,e){return new lx(kx,"String does not match format '"+t+"': "+e)}function Fx(t){throw new lx(Nx,"Internal error: "+t)}var Ux={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};function jx(t){switch(t){case Ux.RAW:case Ux.BASE64:case Ux.BASE64URL:case Ux.DATA_URL:return;default:throw"Expected one of the event types: ["+Ux.RAW+", "+Ux.BASE64+", "+Ux.BASE64URL+", "+Ux.DATA_URL+"]."}}var Vx=function(t,e){this.data=t,this.contentType=e||null};function qx(t,e){switch(t){case Ux.RAW:return new Vx(Bx(e));case Ux.BASE64:case Ux.BASE64URL:return new Vx(zx(t,e));case Ux.DATA_URL:return new Vx((n=new Hx(e)).base64?zx(Ux.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(t){throw Mx(Ux.DATA_URL,"Malformed data URL.")}return Bx(e)}(n.rest),new Hx(e).contentType)}var n;throw xx()}function Bx(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?n<t.length-1&&56320==(64512&t.charCodeAt(n+1))?(r=65536|(1023&r)<<10|1023&t.charCodeAt(++n),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function zx(t,e){switch(t){case Ux.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw Mx(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case Ux.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw Mx(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(e)}catch(e){throw Mx(t,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var Gx,Wx,Hx=function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw Mx(Ux.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r,i=e[1]||null;null!=i&&(this.base64=(r=";base64",(n=i).length>=r.length&&n.substring(n.length-r.length)===r),this.contentType=this.base64?i.substring(0,i.length-";base64".length):i),this.rest=t.substring(t.indexOf(",")+1)},Kx={STATE_CHANGED:"state_changed"},Qx="running",Yx="pausing",Xx="paused",$x="success",Jx="canceling",Zx="canceled",tP="error",eP={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function nP(t){switch(t){case Qx:case Yx:case Jx:return eP.RUNNING;case Xx:return eP.PAUSED;case $x:return eP.SUCCESS;case Zx:return eP.CANCELED;case tP:default:return eP.ERROR}}function rP(t){return null!=t}function iP(t){return void 0!==t}function oP(t){return"function"==typeof t}function aP(t){return"object"==typeof t}function sP(t){return"string"==typeof t||t instanceof String}function uP(t){return"number"==typeof t||t instanceof Number}function cP(t){return lP()&&t instanceof Blob}function lP(){return"undefined"!=typeof Blob}(Wx=Gx=Gx||{})[Wx.NO_ERROR=0]="NO_ERROR",Wx[Wx.NETWORK_ERROR=1]="NETWORK_ERROR",Wx[Wx.ABORT=2]="ABORT";var hP=(fP.prototype.send=function(t,e,n,r){if(this.sent_)throw Fx("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),rP(r))for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return rP(n)?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},fP.prototype.getErrorCode=function(){if(!this.sent_)throw Fx("cannot .getErrorCode() before sending");return this.errorCode_},fP.prototype.getStatus=function(){if(!this.sent_)throw Fx("cannot .getStatus() before sending");try{return this.xhr_.status}catch(i){return-1}},fP.prototype.getResponseText=function(){if(!this.sent_)throw Fx("cannot .getResponseText() before sending");return this.xhr_.responseText},fP.prototype.abort=function(){this.xhr_.abort()},fP.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},fP.prototype.addUploadProgressListener=function(t){rP(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",t)},fP.prototype.removeUploadProgressListener=function(t){rP(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",t)},fP);function fP(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Gx.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=Gx.ABORT,e(t)})),t.xhr_.addEventListener("error",(function(){t.errorCode_=Gx.NETWORK_ERROR,e(t)})),t.xhr_.addEventListener("load",(function(){e(t)}))}))}var pP=(dP.prototype.createXhrIo=function(){return new hP},dP);function dP(){}function vP(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(lP())return new Blob(t);throw Error("This browser doesn't seem to support creating Blobs")}var yP=(gP.prototype.size=function(){return this.size_},gP.prototype.type=function(){return this.type_},gP.prototype.slice=function(t,e){if(cP(this.data_)){var n=(i=t,o=e,(r=this.data_).webkitSlice?r.webkitSlice(i,o):r.mozSlice?r.mozSlice(i,o):r.slice?r.slice(i,o):null);return null===n?null:new gP(n)}var r,i,o;return new gP(new Uint8Array(this.data_.buffer,t,e-t),!0)},gP.getBlob=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(lP()){var n=t.map((function(t){return t instanceof gP?t.data_:t}));return new gP(vP.apply(null,n))}var r=t.map((function(t){return sP(t)?qx(Ux.RAW,t).data:t.data_})),i=0;r.forEach((function(t){i+=t.byteLength}));var o=new Uint8Array(i),a=0;return r.forEach((function(t){for(var e=0;e<t.length;e++)o[a++]=t[e]})),new gP(o,!0)},gP.prototype.uploadData=function(){return this.data_},gP);function gP(t,e){var n=0,r="";cP(t)?(n=(this.data_=t).size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}var mP=(Object.defineProperty(bP.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(bP.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),bP.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},bP.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},bP.makeFromBucketSpec=function(t){var e;try{e=bP.makeFromUrl(t)}catch(e){return new bP(t,"")}if(""===e.path)return e;throw new lx(wx,"Invalid default bucket '"+t+"'.")},bP.makeFromUrl=function(t){var e=null,n="([A-Za-z0-9.\\-_]+)",r=new RegExp("^gs://"+n+"(/(.*))?$","i");function i(t){t.path_=decodeURIComponent(t.path)}for(var o=cx.replace(/[.]/g,"\\."),a=[{regex:r,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+o+"/v[A-Za-z0-9_]+/b/"+n+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:i},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/"+n+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:i}],s=0;s<a.length;s++){var u=a[s],c=u.regex.exec(t);if(c){e=new bP(c[u.indices.bucket],c[u.indices.path]||""),u.postModify(e);break}}if(null==e)throw new lx(bx,"Invalid URL '"+t+"'.");return e},bP);function bP(t,e){this.bucket=t,this.path_=e}function wP(t){var e,n;try{e=JSON.parse(t)}catch(t){return null}return aP(n=e)&&!Array.isArray(n)?e:null}function _P(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function EP(t){return"https://"+cx+"/v0"+t}function IP(t){var e,n=encodeURIComponent,r="?";for(e in t)t.hasOwnProperty(e)&&(r=r+(n(e)+"=")+n(t[e])+"&");return r.slice(0,-1)}function TP(t,e){return e}var SP=function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||TP},CP=null;function AP(t,e,n){var r=wP(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,e[a.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=t.bucket,r=t.fullPath,i=new mP(n,r);return e.makeStorageReference(i)}})}(r,t),r}(t,r,n)}function kP(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}function NP(t){if(!aP(t)||!t)throw"Expected Metadata object.";for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];if("customMetadata"===e){if(!aP(n))throw"Expected object for 'customMetadata' mapping."}else if(aP(r=n)&&null!==r)throw"Mapping for '"+e+"' cannot be an object."}var r}var OP="maxResults",xP="pageToken",PP="prefixes";function RP(t){if(!aP(t)||!t)throw"Expected ListOptions object.";for(var e in t)if(e===OP){if(!uP(n=t[OP])||!Number.isInteger(n)||t[OP]<=0)throw"Expected maxResults to be a positive number.";if(1e3<t[OP])throw"Expected maxResults to be less than or equal to 1000."}else{if(e!==xP)throw"Unknown option: "+e;if(t[xP]&&!sP(t[xP]))throw"Expected pageToken to be string."}var n}var DP=function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function LP(t){if(!t)throw xx()}function MP(t,e){return function(n,r){var i=AP(t,r,e);return LP(null!==i),i}}function FP(t,e){return function(n,r){var i=function(t,e,n){var r=wP(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[PP])for(var i=0,o=n[PP];i<o.length;i++){var a=o[i].replace(/\/$/,""),s=t.makeStorageReference(new mP(e,a));r.prefixes.push(s)}if(n.items)for(var u=0,c=n.items;u<c.length;u++){var l=c[u];s=t.makeStorageReference(new mP(e,l.name)),r.items.push(s)}return r}(t,e,r)}(t,e,r);return LP(null!==i),i}}function UP(t,e){return function(n,r){var i=AP(t,r,e);return LP(null!==i),function(t,e){var n=wP(e);if(null===n)return null;if(!sP(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map((function(e){var n=t.bucket,r=t.fullPath;return EP("/b/"+i(n)+"/o/"+i(r))+IP({alt:"media",token:e})}))[0]}(i,r)}}function jP(t){return function(e,n){var r,i,o=401===e.getStatus()?new lx(vx,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?(i=t.bucket,new lx(dx,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===e.getStatus()?(r=t.path,new lx(yx,"User does not have permission to access '"+r+"'.")):n;return o.setServerResponseProp(n.serverResponseProp()),o}}function VP(t){var e=jP(t);return function(n,r){var i,o=e(n,r);return 404===n.getStatus()&&(i=t.path,o=new lx(px,"Object '"+i+"' does not exist.")),o.setServerResponseProp(r.serverResponseProp()),o}}function qP(t,e,n){var r=EP(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new DP(r,"GET",MP(t,n),i);return o.errorHandler=VP(e),o}function BP(t,e,n){var r,i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=(r=e)&&r.type()||"application/octet-stream"),i}var zP=function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null};function GP(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(t){LP(!1)}return LP(!!n&&-1!==(e||["active"]).indexOf(n)),n}var WP=function(t,e,n){var r;oP(t)||rP(e)||rP(n)?(this.next=t,this.error=e||null,this.complete=n||null):(r=t,this.next=r.next||null,this.error=r.error||null,this.complete=r.complete||null)},HP=function(t,e,n,r,i,o){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=r,this.task=i,this.ref=o};function KP(t,e,n){for(var r,i,o,a,s,u,c=e.length,l=e.length,h=0;h<e.length;h++)if(e[h].optional){c=h;break}if(!(c<=n.length&&n.length<=l))throw r=c,i=l,o=t,a=n.length,u=r===i?1===(s=r)?"argument":"arguments":(s="between "+r+" and "+i,"arguments"),new lx(Sx,"Invalid argument count in `"+o+"`: Expected "+s+" "+u+", received "+a+".");for(h=0;h<n.length;h++)try{e[h].validator(n[h])}catch(e){throw e instanceof Error?Dx(h,t,e.message):Dx(h,t,e)}}var QP=function(t,e){var n=this;this.validator=function(e){n.optional&&!iP(e)||t(e)},this.optional=!!e};function YP(t,e){function n(t){if(!sP(t))throw"Expected string."}var r,i,o=t?(r=n,i=t,function(t){r(t),i(t)}):n;return new QP(o,e)}function XP(){return new QP((function(t){if(!(t instanceof Uint8Array||t instanceof ArrayBuffer||lP()&&t instanceof Blob))throw"Expected Blob or File."}))}function $P(t){return new QP(NP,t)}function JP(){return new QP((function(t){if(!(uP(t)&&0<=t))throw"Expected a number 0 or greater."}))}function ZP(t,e){return new QP((function(e){if(!(null===e||rP(e)&&e instanceof Object))throw"Expected an Object.";null!=t&&t(e)}),e)}function tR(t){return new QP((function(t){if(null!==t&&!oP(t))throw"Expected a Function."}),t)}function eR(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}var nR=(rR.prototype.makeProgressCallback_=function(){var t=this,e=this.transferred_;return function(n){return t.updateProgress_(e+n)}},rR.prototype.shouldDoResumable_=function(t){return 262144<t.size()},rR.prototype.start_=function(){this.state_===Qx&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},rR.prototype.resolveToken_=function(t){var e=this;this.service_.getAuthToken().then((function(n){switch(e.state_){case Qx:t(n);break;case Jx:e.transition_(Zx);break;case Yx:e.transition_(Xx)}}))},rR.prototype.createResumable_=function(){var t=this;this.resolveToken_((function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a=BP(e,r,i),s={name:a.fullPath},u=EP(o),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=kP(a,n),h=t.maxUploadRetryTime,f=new DP(u,"POST",(function(t){var e;GP(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(t){LP(!1)}return LP(sP(e)),e}),h);return f.urlParams=s,f.headers=c,f.body=l,f.errorHandler=jP(e),f}(t.service_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.service_.makeRequest(n,e);(t.request_=r).getPromise().then((function(e){t.request_=null,t.uploadUrl_=e,t.needToFetchStatus_=!1,t.completeTransitions_()}),t.errorHandler_)}))},rR.prototype.fetchStatus_=function(){var t=this,e=this.uploadUrl_;this.resolveToken_((function(n){var r=function(t,e,n,r){var i=t.maxUploadRetryTime,o=new DP(n,"POST",(function(t){var e=GP(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(t){LP(!1)}n||LP(!1);var i=Number(n);return LP(!isNaN(i)),new zP(i,r.size(),"final"===e)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=jP(e),o}(t.service_,t.location_,e,t.blob_),i=t.service_.makeRequest(r,n);(t.request_=i).getPromise().then((function(e){t.request_=null,t.updateProgress_(e.current),t.needToFetchStatus_=!1,e.finalized&&(t.needToFetchMetadata_=!0),t.completeTransitions_()}),t.errorHandler_)}))},rR.prototype.continueUpload_=function(){var t=this,e=262144*this.chunkMultiplier_,n=new zP(this.transferred_,this.blob_.size()),r=this.uploadUrl_;this.resolveToken_((function(i){var o;try{o=function(t,e,n,r,i,o,a,s){var u=new zP(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new lx(Ex,"Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;0<i&&(l=Math.min(l,i));var h=u.current,f=h+l,p={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},d=r.slice(h,f);if(null===d)throw Rx();var v=e.maxUploadRetryTime,y=new DP(n,"POST",(function(t,n){var i=GP(t,["active","final"]),a=u.current+l,s=r.size(),c="final"===i?MP(e,o)(t,n):null;return new zP(a,s,"final"===i,c)}),v);return y.headers=p,y.body=d.uploadData(),y.progressCallback=s||null,y.errorHandler=jP(t),y}(t.location_,t.service_,r,t.blob_,e,t.mappings_,n,t.makeProgressCallback_())}catch(i){return t.error_=i,void t.transition_(tP)}var a=t.service_.makeRequest(o,i);(t.request_=a).getPromise().then((function(e){t.increaseMultiplier_(),t.request_=null,t.updateProgress_(e.current),e.finalized?(t.metadata_=e.metadata,t.transition_($x)):t.completeTransitions_()}),t.errorHandler_)}))},rR.prototype.increaseMultiplier_=function(){262144*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},rR.prototype.fetchMetadata_=function(){var t=this;this.resolveToken_((function(e){var n=qP(t.service_,t.location_,t.mappings_),r=t.service_.makeRequest(n,e);(t.request_=r).getPromise().then((function(e){t.request_=null,t.metadata_=e,t.transition_($x)}),t.metadataErrorHandler_)}))},rR.prototype.oneShotUpload_=function(){var t=this;this.resolveToken_((function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();a["Content-Type"]="multipart/related; boundary="+s;var u=BP(e,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+kP(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",h=yP.getBlob(c,r,l);if(null===h)throw Rx();var f={name:u.fullPath},p=EP(o),d=t.maxUploadRetryTime,v=new DP(p,"POST",MP(t,n),d);return v.urlParams=f,v.headers=a,v.body=h.uploadData(),v.errorHandler=jP(e),v}(t.service_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.service_.makeRequest(n,e);(t.request_=r).getPromise().then((function(e){t.request_=null,t.metadata_=e,t.updateProgress_(t.blob_.size()),t.transition_($x)}),t.errorHandler_)}))},rR.prototype.updateProgress_=function(t){var e=this.transferred_;this.transferred_=t,this.transferred_!==e&&this.notifyObservers_()},rR.prototype.transition_=function(t){if(this.state_!==t)switch(t){case Jx:case Yx:this.state_=t,null!==this.request_&&this.request_.cancel();break;case Qx:var e=this.state_===Xx;this.state_=t,e&&(this.notifyObservers_(),this.start_());break;case Xx:this.state_=t,this.notifyObservers_();break;case Zx:this.error_=Px(),this.state_=t,this.notifyObservers_();break;case tP:case $x:this.state_=t,this.notifyObservers_()}},rR.prototype.completeTransitions_=function(){switch(this.state_){case Yx:this.transition_(Xx);break;case Jx:this.transition_(Zx);break;case Qx:this.start_()}},Object.defineProperty(rR.prototype,"snapshot",{get:function(){var t=nP(this.state_);return new HP(this.transferred_,this.blob_.size(),t,this.metadata_,this,this.ref_)},enumerable:!1,configurable:!0}),rR.prototype.on=function(t,e,n,r){var i="Expected a function or an Object with one of `next`, `error`, `complete` properties.",o=tR(!0).validator,a=ZP(null,!0).validator;function s(t){try{return void o(t)}catch(t){}try{if(a(t),!(iP(t.next)||iP(t.error)||iP(t.complete)))throw"";return}catch(t){throw i}}KP("on",[YP((function(){if(t!==Kx.STATE_CHANGED)throw"Expected one of the event types: ["+Kx.STATE_CHANGED+"]."})),ZP(s,!0),tR(!0),tR(!0)],arguments);var u=this;function c(t){return function(e,n,i){null!==t&&KP("on",t,arguments);var o=new WP(e,n,r);return u.addObserver_(o),function(){u.removeObserver_(o)}}}var l=[ZP((function(t){if(null===t)throw i;s(t)})),tR(!0),tR(!0)];return iP(e)||iP(n)||iP(r)?c(null)(e,n,r):c(l)},rR.prototype.then=function(t,e){return this.promise_.then(t,e)},rR.prototype.catch=function(t){return this.then(null,t)},rR.prototype.addObserver_=function(t){this.observers_.push(t),this.notifyObserver_(t)},rR.prototype.removeObserver_=function(t){var e=this.observers_.indexOf(t);-1!==e&&this.observers_.splice(e,1)},rR.prototype.notifyObservers_=function(){var t=this;this.finishPromise_(),this.observers_.slice().forEach((function(e){t.notifyObserver_(e)}))},rR.prototype.finishPromise_=function(){if(null!==this.resolve_){var t=!0;switch(nP(this.state_)){case eP.SUCCESS:eR(this.resolve_.bind(null,this.snapshot))();break;case eP.CANCELED:case eP.ERROR:eR(this.reject_.bind(null,this.error_))();break;default:t=!1}t&&(this.resolve_=null,this.reject_=null)}},rR.prototype.notifyObserver_=function(t){switch(nP(this.state_)){case eP.RUNNING:case eP.PAUSED:t.next&&eR(t.next.bind(t,this.snapshot))();break;case eP.SUCCESS:t.complete&&eR(t.complete.bind(t))();break;case eP.CANCELED:case eP.ERROR:t.error&&eR(t.error.bind(t,this.error_))();break;default:t.error&&eR(t.error.bind(t,this.error_))()}},rR.prototype.resume=function(){KP("resume",[],arguments);var t=this.state_===Xx||this.state_===Yx;return t&&this.transition_(Qx),t},rR.prototype.pause=function(){KP("pause",[],arguments);var t=this.state_===Qx;return t&&this.transition_(Yx),t},rR.prototype.cancel=function(){KP("cancel",[],arguments);var t=this.state_===Qx||this.state_===Yx;return t&&this.transition_(Jx),t},rR);function rR(t,e,n,r,i,o){var a=this;void 0===o&&(o=null),this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=t,this.service_=e,this.location_=n,this.blob_=i,this.metadata_=o,this.mappings_=r,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_=Qx,this.errorHandler_=function(t){a.request_=null,a.chunkMultiplier_=1,t.codeEquals(mx)?(a.needToFetchStatus_=!0,a.completeTransitions_()):(a.error_=t,a.transition_(tP))},this.metadataErrorHandler_=function(t){a.request_=null,t.codeEquals(mx)?a.completeTransitions_():(a.error_=t,a.transition_(tP))},this.promise_=new Promise((function(t,e){a.resolve_=t,a.reject_=e,a.start_()})),this.promise_.then(null,(function(){}))}var iR=(oR.prototype.toString=function(){return KP("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},oR.prototype.newRef=function(t,e){return new oR(t,e)},oR.prototype.mappings=function(){if(CP)return CP;var t=[];t.push(new SP("bucket")),t.push(new SP("generation")),t.push(new SP("metageneration")),t.push(new SP("name","fullPath",!0));var e=new SP("name");e.xform=function(t,e){return!sP(n=e)||n.length<2?n:_P(n);var n},t.push(e);var n=new SP("size");return n.xform=function(t,e){return rP(e)?Number(e):e},t.push(n),t.push(new SP("timeCreated")),t.push(new SP("updated")),t.push(new SP("md5Hash",null,!0)),t.push(new SP("cacheControl",null,!0)),t.push(new SP("contentDisposition",null,!0)),t.push(new SP("contentEncoding",null,!0)),t.push(new SP("contentLanguage",null,!0)),t.push(new SP("contentType",null,!0)),t.push(new SP("metadata","customMetadata",!0)),CP=t},oR.prototype.child=function(t){KP("child",[YP()],arguments);var e,n,r=(e=this.location.path,n=t.split("/").filter((function(t){return 0<t.length})).join("/"),0===e.length?n:e+"/"+n),i=new mP(this.location.bucket,r);return this.newRef(this.service,i)},Object.defineProperty(oR.prototype,"parent",{get:function(){var t=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this.location.path);if(null===t)return null;var e=new mP(this.location.bucket,t);return this.newRef(this.service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(oR.prototype,"root",{get:function(){var t=new mP(this.location.bucket,"");return this.newRef(this.service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(oR.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(oR.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!1,configurable:!0}),Object.defineProperty(oR.prototype,"name",{get:function(){return _P(this.location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(oR.prototype,"storage",{get:function(){return this.service},enumerable:!1,configurable:!0}),oR.prototype.put=function(t,e){return void 0===e&&(e=null),KP("put",[XP(),$P(!0)],arguments),this.throwIfRoot_("put"),new nR(this,this.service,this.location,this.mappings(),new yP(t),e)},oR.prototype.putString=function(t,e,n){void 0===e&&(e=Ux.RAW),KP("putString",[YP(),YP(jx,!0),$P(!0)],arguments),this.throwIfRoot_("putString");var r=qx(e,t),i=Object.assign({},n);return!rP(i.contentType)&&rP(r.contentType)&&(i.contentType=r.contentType),new nR(this,this.service,this.location,this.mappings(),new yP(r.data,!0),i)},oR.prototype.delete=function(){var t=this;return KP("delete",[],arguments),this.throwIfRoot_("delete"),this.service.getAuthToken().then((function(e){var n,r,i,o,a,s=(n=t.service,i=EP((r=t.location).fullServerUrl()),o=n.maxOperationRetryTime,(a=new DP(i,"DELETE",(function(t,e){}),o)).successCodes=[200,204],a.errorHandler=VP(r),a);return t.service.makeRequest(s,e).getPromise()}))},oR.prototype.listAll=function(){KP("listAll",[],arguments);var t={prefixes:[],items:[]};return this.listAllHelper(t).then((function(){return t}))},oR.prototype.listAllHelper=function(t,e){return ja(this,void 0,void 0,(function(){var n,r,i,o;return Va(this,(function(a){switch(a.label){case 0:return n={pageToken:e},[4,this.list(n)];case 1:return r=a.sent(),(i=t.prefixes).push.apply(i,r.prefixes),(o=t.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,this.listAllHelper(t,r.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))},oR.prototype.list=function(t){KP("list",[new QP(RP,!0)],arguments);var e=this;return this.service.getAuthToken().then((function(n){var r=t||{},i=function(t,e,n,r,i){var o={};e.isRoot?o.prefix="":o.prefix=e.path+"/",0<"/".length&&(o.delimiter="/"),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=EP(e.bucketOnlyServerUrl()),s=t.maxOperationRetryTime,u=new DP(a,"GET",FP(t,e.bucket),s);return u.urlParams=o,u.errorHandler=jP(e),u}(e.service,e.location,0,r.pageToken,r.maxResults);return e.service.makeRequest(i,n).getPromise()}))},oR.prototype.getMetadata=function(){var t=this;return KP("getMetadata",[],arguments),this.throwIfRoot_("getMetadata"),this.service.getAuthToken().then((function(e){var n=qP(t.service,t.location,t.mappings());return t.service.makeRequest(n,e).getPromise()}))},oR.prototype.updateMetadata=function(t){var e=this;return KP("updateMetadata",[$P()],arguments),this.throwIfRoot_("updateMetadata"),this.service.getAuthToken().then((function(n){var r,i,o,a,s,u,c,l,h=(r=e.service,i=e.location,o=t,a=e.mappings(),s=EP(i.fullServerUrl()),u=kP(o,a),c=r.maxOperationRetryTime,(l=new DP(s,"PATCH",MP(r,a),c)).headers={"Content-Type":"application/json; charset=utf-8"},l.body=u,l.errorHandler=VP(i),l);return e.service.makeRequest(h,n).getPromise()}))},oR.prototype.getDownloadURL=function(){var t=this;return KP("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL"),this.service.getAuthToken().then((function(e){var n,r,i,o,a,s,u=(n=t.service,r=t.location,i=t.mappings(),o=EP(r.fullServerUrl()),a=n.maxOperationRetryTime,(s=new DP(o,"GET",UP(n,i),a)).errorHandler=VP(r),s);return t.service.makeRequest(u,e).getPromise().then((function(t){if(null===t)throw new lx(Ix,"The given file does not have any download URLs.");return t}))}))},oR.prototype.throwIfRoot_=function(t){if(""===this.location.path)throw new lx(Ax,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")},oR);function oR(t,e){this.service=t,this.location=e instanceof mP?e:mP.makeFromUrl(e)}var aR=(sR.prototype.getPromise=function(){return this.promise_},sR.prototype.cancel=function(t){},sR);function sR(t){this.promise_=Promise.reject(t)}var uR=(cR.prototype.start_=function(){var t,e,n,r,i,o,a,s,u,c=this;function l(t,e){var n,r=c.resolve_,i=c.reject_,o=e.xhr;if(e.wasSuccessCode)try{var a=c.callback_(o,o.getResponseText());iP(a)?r(a):r()}catch(t){i(t)}else null!==o?((n=xx()).setServerResponseProp(o.getResponseText()),c.errorCallback_?i(c.errorCallback_(o,n)):i(n)):e.canceled?i(n=(c.appDelete_?Lx:Px)()):i(n=new lx(gx,"Max retry time for operation exceeded, please try again."))}function h(){return 2===a}function f(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];s||(s=!0,e.apply(null,t))}function p(e){i=setTimeout((function(){i=null,t(d,h())}),e)}function d(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];s||(t||h()||o?f.call.apply(f,Ga([null,t],e)):(r<64&&(r*=2),p(1===a?(a=2,0):1e3*(r+Math.random()))))}function v(t){u||(u=!0,s||(null!==i?(t||(a=2),clearTimeout(i),p(0)):t||(a=1)))}this.canceled_?l(0,new lR(!1,null,!0)):this.backoffId_=(t=function(t,e){var n;function r(t){var e=t.loaded,n=t.lengthComputable?t.total:-1;null!==c.progressCallback_&&c.progressCallback_(e,n)}e?t(!1,new lR(!1,null,!0)):(n=c.pool_.createXhrIo(),c.pendingXhr_=n,null!==c.progressCallback_&&n.addUploadProgressListener(r),n.send(c.url_,c.method_,c.body_,c.headers_).then((function(e){null!==c.progressCallback_&&e.removeUploadProgressListener(r),c.pendingXhr_=null;var n,i,o=e.getErrorCode()===Gx.NO_ERROR,a=e.getStatus();o&&!c.isRetryStatusCode_(a)?(n=-1!==c.successCodes_.indexOf(a),t(!0,new lR(n,e))):(i=e.getErrorCode()===Gx.ABORT,t(!1,new lR(!1,null,i)))})))},e=l,n=this.timeout_,i=null,u=s=o=!(r=1),p(a=0),setTimeout((function(){v(o=!0)}),n),v)},cR.prototype.getPromise=function(){return this.promise_},cR.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},cR.prototype.isRetryStatusCode_=function(t){var e=500<=t&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},cR);function cR(t,e,n,r,i,o,a,s,u,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(t,e){h.resolve_=t,h.reject_=e,h.start_()}))}var lR=function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n},hR=(fR.extractBucket_=function(t){var e=null==t?void 0:t.storageBucket;return null==e?null:mP.makeFromBucketSpec(e)},fR.prototype.getAuthToken=function(){return ja(this,void 0,void 0,(function(){var t,e;return Va(this,(function(n){switch(n.label){case 0:return(t=this.authProvider_.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}}))}))},fR.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requests_.forEach((function(t){return t.cancel()})),this.requests_.clear()},fR.prototype.makeStorageReference=function(t){return new iR(this,t)},fR.prototype.makeRequest=function(t,e){var n=this;if(this.deleted_)return new aR(Lx());var r=function(t,e,n,r){var i,o,a,s,u,c=IP(t.urlParams),l=t.url+c,h=Object.assign({},t.headers);return(i=e)&&(h["X-Firebase-GMPID"]=i),o=h,null!==(a=n)&&0<a.length&&(o.Authorization="Firebase "+a),s=h,u=void 0!==yu?yu.SDK_VERSION:"AppManager",s["X-Firebase-Storage-Version"]="webjs/"+u,new uR(l,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}(t,this.appId_,e,this.pool_);return this.requests_.add(r),r.getPromise().then((function(){return n.requests_.delete(r)}),(function(){return n.requests_.delete(r)})),r},fR.prototype.ref=function(t){if(KP("ref",[YP((function(t){if("string"!=typeof t)throw"Path is not a string.";if(/^[A-Za-z]+:\/\//.test(t))throw"Expected child path but got a URL, use refFromURL instead."}),!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var e=new iR(this,this.bucket_);return null!=t?e.child(t):e},fR.prototype.refFromURL=function(t){return KP("refFromURL",[YP((function(t){if("string"!=typeof t)throw"Path is not a string.";if(!/^[A-Za-z]+:\/\//.test(t))throw"Expected full URL but got a child path, use ref instead.";try{mP.makeFromUrl(t)}catch(t){throw"Expected valid full URL but got an invalid one."}}),!1)],arguments),new iR(this,t)},Object.defineProperty(fR.prototype,"maxUploadRetryTime",{get:function(){return this.maxUploadRetryTime_},enumerable:!1,configurable:!0}),fR.prototype.setMaxUploadRetryTime=function(t){KP("setMaxUploadRetryTime",[JP()],arguments),this.maxUploadRetryTime_=t},Object.defineProperty(fR.prototype,"maxOperationRetryTime",{get:function(){return this.maxOperationRetryTime_},enumerable:!1,configurable:!0}),fR.prototype.setMaxOperationRetryTime=function(t){KP("setMaxOperationRetryTime",[JP()],arguments),this.maxOperationRetryTime_=t},Object.defineProperty(fR.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),Object.defineProperty(fR.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!1,configurable:!0}),fR);function fR(t,e,n,r){var i;this.bucket_=null,this.appId_=null,this.deleted_=!1,this.app_=t,this.authProvider_=e,this.maxOperationRetryTime_=12e4,this.maxUploadRetryTime_=6e5,this.requests_=new Set,this.pool_=n,this.bucket_=null!=r?mP.makeFromBucketSpec(r):fR.extractBucket_(null===(i=this.app_)||void 0===i?void 0:i.options),this.internals_=new vR(this)}var pR,dR,vR=(yR.prototype.delete=function(){return this.service_.deleteApp(),Promise.resolve()},yR);function yR(t){this.service_=t}dR={TaskState:eP,TaskEvent:Kx,StringFormat:Ux,Storage:hR,Reference:iR},(pR=yu).INTERNAL.registerComponent(new Ls("storage",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return new hR(n,r,new pP,e)}),"PUBLIC").setServiceProps(dR).setMultipleInstances(!0)),pR.registerVersion("@firebase/storage","0.3.43");var gR,mR,bR,wR="FB-PERF-TRACE-MEASURE",_R="@firebase/performance/config",ER="@firebase/performance/configexpire",IR="Performance",TR=((gR={})["trace started"]="Trace {$traceName} was started before.",gR["trace stopped"]="Trace {$traceName} is not running.",gR["no window"]="Window is not available.",gR["no app id"]="App id is not available.",gR["no project id"]="Project id is not available.",gR["no api key"]="Api key is not available.",gR["invalid cc log"]="Attempted to queue invalid cc event",gR["FB not default"]="Performance can only start when Firebase app instance is the default one.",gR["RC response not ok"]="RC response is not ok",gR["invalid attribute name"]="Attribute name {$attributeName} is invalid.",gR["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",gR["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",gR["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",gR),SR=new ps("performance",IR,TR),CR=new Js(IR);CR.logLevel=Gs.INFO;var AR,kR=(NR.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},NR.prototype.mark=function(t){this.performance&&this.performance.mark&&this.performance.mark(t)},NR.prototype.measure=function(t,e,n){this.performance&&this.performance.measure&&this.performance.measure(t,e,n)},NR.prototype.getEntriesByType=function(t){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(t):[]},NR.prototype.getEntriesByName=function(t){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(t):[]},NR.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},NR.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!ss()||(CR.info("IndexedDB is not supported by current browswer"),!1):(CR.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},NR.prototype.setupObserver=function(t,e){this.PerformanceObserver&&new this.PerformanceObserver((function(t){for(var n=0,r=t.getEntries();n<r.length;n++){var i=r[n];e(i)}})).observe({entryTypes:[t]})},NR.getInstance=function(){return void 0===mR&&(mR=new NR(bR)),mR},NR);function NR(t){if(!(this.window=t))throw SR.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}function OR(t,e){var n=t.length-e.length;if(n<0||1<n)throw SR.create("invalid String merger input");for(var r=[],i=0;i<t.length;i++)r.push(t.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}var xR,PR,RR,DR=(LR.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw SR.create("no app id");return t},LR.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw SR.create("no project id");return t},LR.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw SR.create("no api key");return t},LR.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},LR.getInstance=function(){return void 0===AR&&(AR=new LR),AR},LR);function LR(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=OR("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=OR("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}(RR=PR=PR||{})[RR.UNKNOWN=0]="UNKNOWN",RR[RR.VISIBLE=1]="VISIBLE",RR[RR.HIDDEN=2]="HIDDEN";var MR=["firebase_","google_","ga_"],FR=new RegExp("^[a-zA-Z]\\w*$");function UR(){switch(kR.getInstance().document.visibilityState){case"visible":return PR.VISIBLE;case"hidden":return PR.HIDDEN;default:return PR.UNKNOWN}}var jR=!0;function VR(t){var e,n=function(){var t=kR.getInstance().localStorage;if(t){var e=t.getItem(ER);if(e&&function(t){return Number(t)>Date.now()}(e)){var n=t.getItem(_R);if(n)try{return JSON.parse(n)}catch(t){return}}}}();return n?(BR(n),Promise.resolve()):(e=t,function(){var t=DR.getInstance().installationsService.getToken();return t.then((function(t){})),t}().then((function(t){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+DR.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+DR.getInstance().getApiKey(),r=new Request(n,{method:"POST",headers:{Authorization:"FIREBASE_INSTALLATIONS_AUTH "+t},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:DR.getInstance().getAppId(),app_version:"0.4.1",sdk_version:"0.0.1"})});return fetch(r).then((function(t){if(t.ok)return t.json();throw SR.create("RC response not ok")}))})).catch((function(){CR.info(qR)})).then(BR).then((function(t){var e=kR.getInstance().localStorage;t&&e&&(e.setItem(_R,JSON.stringify(t)),e.setItem(ER,String(Date.now()+60*DR.getInstance().configTimeToLive*60*1e3)))}),(function(){})))}var qR="Could not fetch config, will use default configs";function BR(t){if(!t)return t;var e=DR.getInstance(),n=t.entries||{};return e.loggingEnabled=void 0!==n.fpr_enabled?"true"===String(n.fpr_enabled):jR,n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(e.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=zR(e.tracesSamplingRate),e.logNetworkAfterSampling=zR(e.networkRequestsSamplingRate),t}function zR(t){return Math.random()<=t}var GR,WR=1;function HR(){return WR=2,GR=GR||function(){var t=kR.getInstance().document;return new Promise((function(e){var n;t&&"complete"!==t.readyState?(n=function(){"complete"===t.readyState&&(t.removeEventListener("readystatechange",n),e())},t.addEventListener("readystatechange",n)):e()}))}().then((function(){return(t=DR.getInstance().installationsService.getId()).then((function(t){xR=t})),t;var t})).then(VR).then(KR,KR)}function KR(){WR=3}var QR,YR=3,XR=[],$R=!1;function JR(t,e){(QR=QR||function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];!function(t){if(!t.eventTime||!t.message)throw SR.create("invalid cc log");XR=Ga(XR,[t])}({message:t.apply(void 0,e),eventTime:Date.now()})}}(eD))(t,e)}function ZR(t){var e=DR.getInstance();!e.instrumentationEnabled&&t.isAuto||(e.dataCollectionEnabled||t.isAuto)&&kR.getInstance().requiredApisAvailable()&&(t.isAuto&&UR()!==PR.VISIBLE||e.loggingEnabled&&e.logTraceAfterSampling&&(3===WR?tD(t):HR().then((function(){return tD(t)}),(function(){return tD(t)}))))}function tD(t){xR&&setTimeout((function(){return JR(t,1)}),0)}function eD(t,e){return 0===e?(r={url:(n=t).url,http_method:n.httpMethod||0,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},i={application_info:nD(),network_request_metric:r},JSON.stringify(i)):function(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};0!==Object.keys(t.counters).length&&(e.counters=t.counters);var n=t.getAttributes();0!==Object.keys(n).length&&(e.custom_attributes=n);var r={application_info:nD(),trace_metric:e};return JSON.stringify(r)}(t);var n,r,i}function nD(){return{google_app_id:DR.getInstance().getAppId(),app_instance_id:xR,web_app_info:{sdk_version:"0.4.1",page_url:kR.getInstance().getUrl(),service_worker_status:"serviceWorker"in(t=kR.getInstance().navigator)?t.serviceWorker.controller?2:3:1,visibility_state:UR(),effective_connection_type:function(){var t=kR.getInstance().navigator.connection;switch(t&&t.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}()},application_process_state:0};var t}var rD=["_fp","_fcp","_fid"],iD=(oD.prototype.start=function(){if(1!==this.state)throw SR.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},oD.prototype.stop=function(){if(2!==this.state)throw SR.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),ZR(this)},oD.prototype.record=function(t,e,n){if(this.durationUs=Math.floor(1e3*e),this.startTimeUs=Math.floor(1e3*t),n&&n.attributes&&(this.customAttributes=Ua({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}ZR(this)},oD.prototype.incrementMetric=function(t,e){void 0===e&&(e=1),void 0===this.counters[t]?this.putMetric(t,e):this.putMetric(t,this.counters[t]+e)},oD.prototype.putMetric=function(t,e){if(i=t,o=this.name,0===i.length||100<i.length||!(o&&o.startsWith("_wt_")&&-1<rD.indexOf(i))&&i.startsWith("_"))throw SR.create("invalid custom metric name",{customMetricName:t});var n,r,i,o;this.counters[t]=(n=e,(r=Math.floor(n))<n&&CR.info("Metric value should be an Integer, setting the value as : "+r+"."),r)},oD.prototype.getMetric=function(t){return this.counters[t]||0},oD.prototype.putAttribute=function(t,e){var n,r,i=!(0===(n=t).length||40<n.length)&&!MR.some((function(t){return n.startsWith(t)}))&&!!n.match(FR),o=0!==(r=e).length&&r.length<=100;if(i&&o)this.customAttributes[t]=e;else{if(!i)throw SR.create("invalid attribute name",{attributeName:t});if(!o)throw SR.create("invalid attribute value",{attributeValue:e})}},oD.prototype.getAttribute=function(t){return this.customAttributes[t]},oD.prototype.removeAttribute=function(t){void 0!==this.customAttributes[t]&&delete this.customAttributes[t]},oD.prototype.getAttributes=function(){return Ua({},this.customAttributes)},oD.prototype.setStartTime=function(t){this.startTimeUs=t},oD.prototype.setDuration=function(t){this.durationUs=t},oD.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),e=t&&t[0];e&&(this.durationUs=Math.floor(1e3*e.duration),this.startTimeUs=Math.floor(1e3*(e.startTime+this.api.getTimeOrigin())))},oD.createOobTrace=function(t,e,n){var r,i,o,a,s=kR.getInstance().getUrl();s&&(r=new oD("_wt_"+s,!0),i=Math.floor(1e3*kR.getInstance().getTimeOrigin()),r.setStartTime(i),t&&t[0]&&(r.setDuration(Math.floor(1e3*t[0].duration)),r.putMetric("domInteractive",Math.floor(1e3*t[0].domInteractive)),r.putMetric("domContentLoadedEventEnd",Math.floor(1e3*t[0].domContentLoadedEventEnd)),r.putMetric("loadEventEnd",Math.floor(1e3*t[0].loadEventEnd))),e&&((o=e.find((function(t){return"first-paint"===t.name})))&&o.startTime&&r.putMetric("_fp",Math.floor(1e3*o.startTime)),(a=e.find((function(t){return"first-contentful-paint"===t.name})))&&a.startTime&&r.putMetric("_fcp",Math.floor(1e3*a.startTime)),n&&r.putMetric("_fid",Math.floor(1e3*n))),ZR(r))},oD.createUserTimingTrace=function(t){ZR(new oD(t,!1,t))},oD);function oD(t,e,n){void 0===e&&(e=!1),this.name=t,this.isAuto=e,this.state=1,this.customAttributes={},this.counters={},this.api=kR.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||wR+"-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}function aD(t){var e,n,r,i,o,a,s,u,c,l,h=t;h&&void 0!==h.responseStart&&(e=kR.getInstance().getTimeOrigin(),n=Math.floor(1e3*(h.startTime+e)),r=h.responseStart?Math.floor(1e3*(h.responseStart-h.startTime)):void 0,i=Math.floor(1e3*(h.responseEnd-h.startTime)),o={url:h.name&&h.name.split("?")[0],responsePayloadBytes:h.transferSize,startTimeUs:n,timeToResponseInitiatedUs:r,timeToResponseCompletedUs:i},a=o,(l=DR.getInstance()).instrumentationEnabled&&(s=a.url,u=l.logEndPointUrl.split("?")[0],c=l.flTransportEndpointUrl.split("?")[0],s!==u&&s!==c&&l.loggingEnabled&&l.logNetworkAfterSampling&&setTimeout((function(){return JR(a,0)}),0)))}function sD(){xR&&(setTimeout((function(){var t,e=kR.getInstance(),n=e.getEntriesByType("navigation"),r=e.getEntriesByType("paint");e.onFirstInputDelay?(t=setTimeout((function(){iD.createOobTrace(n,r),t=void 0}),5e3),e.onFirstInputDelay((function(e){t&&(clearTimeout(t),iD.createOobTrace(n,r,e))}))):iD.createOobTrace(n,r)}),0),setTimeout((function(){for(var t=kR.getInstance(),e=0,n=t.getEntriesByType("resource");e<n.length;e++)aD(n[e]);t.setupObserver("resource",aD)}),0),setTimeout((function(){for(var t=kR.getInstance(),e=0,n=t.getEntriesByType("measure");e<n.length;e++)uD(n[e]);t.setupObserver("measure",uD)}),0))}function uD(t){var e=t.name;e.substring(0,wR.length)!==wR&&iD.createUserTimingTrace(e)}var cD,lD=(hD.prototype.trace=function(t){return new iD(t)},Object.defineProperty(hD.prototype,"instrumentationEnabled",{get:function(){return DR.getInstance().instrumentationEnabled},set:function(t){DR.getInstance().instrumentationEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(hD.prototype,"dataCollectionEnabled",{get:function(){return DR.getInstance().dataCollectionEnabled},set:function(t){DR.getInstance().dataCollectionEnabled=t},enumerable:!1,configurable:!0}),hD);function hD(t){this.app=t,kR.getInstance().requiredApisAvailable()&&us().then((function(t){t&&($R||(function t(e){setTimeout((function(){if(0!==YR)return XR.length?void function(){var e=Ga(XR);XR=[];var n=e.map((function(t){return{source_extension_json_proto3:t.message,event_time_ms:String(t.eventTime)}}));(function(e,n){return function(t){var e=DR.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}(e).then((function(t){return t.ok||CR.info("Call to Firebase backend failed."),t.json()})).then((function(e){var r=Number(e.nextRequestWaitMillis),i=1e4;isNaN(r)||(i=Math.max(r,i));var o=e.logResponseDetails;Array.isArray(o)&&0<o.length&&"RETRY_REQUEST_LATER"===o[0].responseAction&&(XR=Ga(n,XR),CR.info("Retry transport request later.")),YR=3,t(i)}))})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:DR.getInstance().logSource,log_event:n},e).catch((function(){XR=Ga(e,XR),YR--,CR.info("Tries left: "+YR+"."),t(1e4)}))}():t(1e4)}),e)}(5500),$R=!0),HR().then(sD,sD))})).catch((function(t){CR.info("Environment doesn't support IndexedDB: "+t)}))}(cD=yu).INTERNAL.registerComponent(new Ls("performance",(function(t){return function(t,e){if("[DEFAULT]"!==t.name)throw SR.create("FB not default");if("undefined"==typeof window)throw SR.create("no window");return bR=window,DR.getInstance().firebaseAppInstance=t,DR.getInstance().installationsService=e,new lD(t)}(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())}),"PUBLIC")),cD.registerVersion("@firebase/performance","0.4.1");var fD,pD,dD,vD,yD="https://www.googletagmanager.com/gtag/js";(pD=fD=fD||{}).EVENT="event",pD.SET="set",pD.CONFIG="config",(vD=dD=dD||{}).ADD_SHIPPING_INFO="add_shipping_info",vD.ADD_PAYMENT_INFO="add_payment_info",vD.ADD_TO_CART="add_to_cart",vD.ADD_TO_WISHLIST="add_to_wishlist",vD.BEGIN_CHECKOUT="begin_checkout",vD.CHECKOUT_PROGRESS="checkout_progress",vD.EXCEPTION="exception",vD.GENERATE_LEAD="generate_lead",vD.LOGIN="login",vD.PAGE_VIEW="page_view",vD.PURCHASE="purchase",vD.REFUND="refund",vD.REMOVE_FROM_CART="remove_from_cart",vD.SCREEN_VIEW="screen_view",vD.SEARCH="search",vD.SELECT_CONTENT="select_content",vD.SELECT_ITEM="select_item",vD.SELECT_PROMOTION="select_promotion",vD.SET_CHECKOUT_OPTION="set_checkout_option",vD.SHARE="share",vD.SIGN_UP="sign_up",vD.TIMING_COMPLETE="timing_complete",vD.VIEW_CART="view_cart",vD.VIEW_ITEM="view_item",vD.VIEW_ITEM_LIST="view_item_list",vD.VIEW_PROMOTION="view_promotion",vD.VIEW_SEARCH_RESULTS="view_search_results";var gD,mD=new Js("@firebase/analytics"),bD=((gD={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",gD["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",gD["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",gD["indexedDB-unsupported"]="IndexedDB is not supported by current browswer",gD["invalid-indexedDB-context"]="Environment doesn't support IndexedDB: {$errorInfo}. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments",gD["cookies-not-enabled"]="Cookies are not enabled in this browser environment. Analytics requires cookies to be enabled.",gD["invalid-analytics-context"]="Firebase Analytics is not supported in browser extensions.",gD["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",gD["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",gD["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',gD["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',gD["indexedDB-unsupported"]="IndexedDB is not supported by current browswer",gD["invalid-indexedDB-context"]="Environment doesn't support IndexedDB: {$errorInfo}. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments",gD["cookies-not-enabled"]="Cookies are not enabled in this browser environment. Analytics requires cookies to be enabled.",gD),wD=new ps("analytics","Analytics",bD);function _D(t,e){void 0===t&&(t={}),void 0===e&&(e=1e3),this.throttleMetadata=t,this.intervalMillis=e}var ED=new(_D.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},_D.prototype.setThrottleMetadata=function(t,e){this.throttleMetadata[t]=e},_D.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},_D);function ID(t){var e;return ja(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return Va(this,(function(c){switch(c.label){case 0:return n=t.appId,r=t.apiKey,i={method:"GET",headers:new Headers({Accept:"application/json","x-goog-api-key":r})},o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(o,i)];case 1:if(200===(a=c.sent()).status||304===a.status)return[3,6];s="",c.label=2;case 2:return c.trys.push([2,4,,5]),[4,a.json()];case 3:return u=c.sent(),null!==(e=u.error)&&void 0!==e&&e.message&&(s=u.error.message),[3,5];case 4:return c.sent(),[3,5];case 5:throw wD.create("config-fetch-failed",{httpStatus:a.status,responseMessage:s});case 6:return[2,a.json()]}}))}))}function TD(t,e,n){return void 0===e&&(e=ED),ja(this,void 0,void 0,(function(){var r,i,o,a,s,u,c=this;return Va(this,(function(l){if(r=t.options,i=r.appId,o=r.apiKey,a=r.measurementId,!i)throw wD.create("no-app-id");if(o)return s=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new SD,setTimeout((function(){return ja(c,void 0,void 0,(function(){return Va(this,(function(t){return u.abort(),[2]}))}))}),void 0!==n?n:6e4),[2,function t(e,n,r,i){var o=n.throttleEndTimeMillis,a=n.backoffCount;return void 0===i&&(i=ED),ja(this,void 0,void 0,(function(){var n,s,u,c,l,h,f;return Va(this,(function(p){switch(p.label){case 0:n=e.appId,s=e.measurementId,p.label=1;case 1:return p.trys.push([1,3,,4]),[4,(d=r,v=o,new Promise((function(t,e){var n=Math.max(v-Date.now(),0),r=setTimeout(t,n);d.addEventListener((function(){clearTimeout(r),e(wD.create("fetch-throttle",{throttleEndTimeMillis:v}))}))})))];case 2:return p.sent(),[3,4];case 3:if(u=p.sent(),s)return mD.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+u.message+"]"),[2,{appId:n,measurementId:s}];throw u;case 4:return p.trys.push([4,6,,7]),[4,ID(e)];case 5:return c=p.sent(),i.deleteThrottleMetadata(n),[2,c];case 6:if(function(t){if(t instanceof hs){var e=Number(t.httpStatus);return 429===e||500===e||503===e||504===e}}(l=p.sent()))return h=503===Number(l.httpStatus)?Ds(a,i.intervalMillis,30):Ds(a,i.intervalMillis),f={throttleEndTimeMillis:Date.now()+h,backoffCount:a+1},i.setThrottleMetadata(n,f),mD.debug("Calling attemptFetch again in "+h+" millis"),[2,t(e,f,r,i)];if(i.deleteThrottleMetadata(n),s)return mD.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+l.message+"]"),[2,{appId:n,measurementId:s}];throw l;case 7:return[2]}var d,v}))}))}({appId:i,apiKey:o,measurementId:a},s,u,e)];if(a)return[2,{measurementId:a,appId:i}];throw wD.create("no-api-key")}))}))}var SD=(CD.prototype.addEventListener=function(t){this.listeners.push(t)},CD.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},CD);function CD(){this.listeners=[]}var AD,kD,ND={},OD=[],xD={},PD="dataLayer",RD="gtag",DD=!1;function LD(t,e){if(is())throw wD.create("invalid-analytics-context");if(!cs())throw wD.create("cookies-not-enabled");if(!ss())throw wD.create("indexedDB-unsupported");us().catch((function(t){var e=wD.create("invalid-indexedDB-context",{errorInfo:t});mD.warn(e.message)}));var n,r,i,o,a,s,u,c,l,h,f,p=t.options.appId;if(!p)throw wD.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw wD.create("no-api-key");mD.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+t.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=ND[p])throw wD.create("already-exists",{id:p});return DD||(function(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(yD))return r}}()||(h=PD,(f=document.createElement("script")).src=yD+"?l="+h,f.async=!0,document.head.appendChild(f)),c=PD,l=[],Array.isArray(window[c])?l=window[c]:window[c]=l,r=ND,i=OD,o=xD,a=PD,s=RD,u=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];window[a].push(arguments)},window[s]&&"function"==typeof window[s]&&(u=window[s]),window[s]=function(t,e,n,r){return function(i,o,a){return ja(this,void 0,void 0,(function(){var s;return Va(this,(function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),i!==fD.EVENT?[3,2]:[4,function(t,e,n,r,i){return ja(this,void 0,void 0,(function(){var o,a,s,u,c,l,h,f;return Va(this,(function(p){switch(p.label){case 0:return p.trys.push([0,4,,5]),o=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(s=p.sent(),u=function(t){var n=s.find((function(e){return e.measurementId===t})),r=n&&e[n.appId];if(!r)return o=[],"break";o.push(r)},c=0,l=a;c<l.length&&(h=l[c],"break"!==u(h));c++);p.label=2;case 2:return 0===o.length&&(o=Object.values(e)),[4,Promise.all(o)];case 3:return p.sent(),t(fD.EVENT,r,i||{}),[3,5];case 4:return f=p.sent(),mD.error(f),[3,5];case 5:return[2]}}))}))}(t,e,n,o,a)];case 1:return u.sent(),[3,5];case 2:return i!==fD.CONFIG?[3,4]:[4,function(t,e,n,r,i,o){return ja(this,void 0,void 0,(function(){var a,s,u,c;return Va(this,(function(l){switch(l.label){case 0:a=r[i],l.label=1;case 1:return l.trys.push([1,7,,8]),a?[4,e[a]]:[3,3];case 2:return l.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return s=l.sent(),(u=s.find((function(t){return t.measurementId===i})))?[4,e[u.appId]]:[3,6];case 5:l.sent(),l.label=6;case 6:return[3,8];case 7:return c=l.sent(),mD.error(c),[3,8];case 8:return t(fD.CONFIG,i,o),[2]}}))}))}(t,e,n,r,o,a)];case 3:return u.sent(),[3,5];case 4:t(fD.SET,o),u.label=5;case 5:return[3,7];case 6:return s=u.sent(),mD.error(s),[3,7];case 7:return[2]}}))}))}}(u,r,i,o),n={gtagCore:u,wrappedGtag:window[s]},kD=n.wrappedGtag,AD=n.gtagCore,DD=!0),ND[p]=function(t,e,n,r,i){return ja(this,void 0,void 0,(function(){var o,a,s,u,c;return Va(this,(function(l){switch(l.label){case 0:return(o=TD(t)).then((function(e){n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&mD.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+") does not match the measurement ID fetched from the server ("+e.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(t){return mD.error(t)})),e.push(o),[4,Promise.all([o,r.getId()])];case 1:return a=l.sent(),s=a[0],u=a[1],i("js",new Date),i(fD.CONFIG,s.measurementId,((c={}).firebase_id=u,c.origin="firebase",c.update=!0,c)),[2,s.measurementId]}}))}))}(t,OD,xD,e,AD),{app:t,logEvent:function(t,e,n){(function(t,e,n,r,i){return ja(this,void 0,void 0,(function(){var o,a;return Va(this,(function(s){switch(s.label){case 0:return i&&i.global?(t(fD.EVENT,n,r),[2]):[3,1];case 1:return[4,e];case 2:o=s.sent(),a=Ua(Ua({},r),{send_to:o}),t(fD.EVENT,n,a),s.label=3;case 3:return[2]}}))}))})(kD,ND[p],t,e,n).catch((function(t){return mD.error(t)}))},setCurrentScreen:function(t,e){(function(t,e,n,r){return ja(this,void 0,void 0,(function(){var i;return Va(this,(function(o){switch(o.label){case 0:return r&&r.global?(t(fD.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(fD.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}}))}))})(kD,ND[p],t,e).catch((function(t){return mD.error(t)}))},setUserId:function(t,e){(function(t,e,n,r){return ja(this,void 0,void 0,(function(){var i;return Va(this,(function(o){switch(o.label){case 0:return r&&r.global?(t(fD.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(fD.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}}))}))})(kD,ND[p],t,e).catch((function(t){return mD.error(t)}))},setUserProperties:function(t,e){(function(t,e,n,r){return ja(this,void 0,void 0,(function(){var i,o,a,s,u;return Va(this,(function(c){switch(c.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,a=Object.keys(n);o<a.length;o++)s=a[o],i["user_properties."+s]=n[s];return t(fD.SET,i),[2,Promise.resolve()];case 1:return[4,e];case 2:u=c.sent(),t(fD.CONFIG,u,{update:!0,user_properties:n}),c.label=3;case 3:return[2]}}))}))})(kD,ND[p],t,e).catch((function(t){return mD.error(t)}))},setAnalyticsCollectionEnabled:function(t){(function(t,e){return ja(this,void 0,void 0,(function(){var n;return Va(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),window["ga-disable-"+n]=!e,[2]}}))}))})(ND[p],t).catch((function(t){return mD.error(t)}))},INTERNAL:{delete:function(){return delete ND[p],Promise.resolve()}}}}var MD,FD="analytics";(MD=yu).INTERNAL.registerComponent(new Ls(FD,(function(t){return LD(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:function(t){if(DD)throw wD.create("already-initialized");t.dataLayerName&&(PD=t.dataLayerName),t.gtagName&&(RD=t.gtagName)},EventName:dD,isSupported:function(){return ja(this,void 0,void 0,(function(){return Va(this,(function(t){switch(t.label){case 0:if(is())return[2,!1];if(!cs())return[2,!1];if(!ss())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,us()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,!1];case 4:return[2]}}))}))}})),MD.INTERNAL.registerComponent(new Ls("analytics-internal",(function(t){try{return{logEvent:t.getProvider(FD).getImmediate().logEvent}}catch(t){throw wD.create("interop-component-reg-failed",{reason:t})}}),"PRIVATE")),MD.registerVersion("@firebase/analytics","0.5.0");var UD,jD=(VD.prototype.isCachedDataFresh=function(t,e){if(!e)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-e,r=n<=t;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+t+". Is cache hit: "+r+"."),r},VD.prototype.fetch=function(t){return ja(this,void 0,void 0,(function(){var e,n,r,i,o;return Va(this,(function(a){switch(a.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return e=a.sent(),n=e[0],(r=e[1])&&this.isCachedDataFresh(t.cacheMaxAgeMillis,n)?[2,r]:(t.eTag=r&&r.eTag,[4,this.client.fetch(t)]);case 2:return i=a.sent(),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===i.status&&o.push(this.storage.setLastSuccessfulFetchResponse(i)),[4,Promise.all(o)];case 3:return a.sent(),[2,i]}}))}))},VD);function VD(t,e,n,r){this.client=t,this.storage=e,this.storageCache=n,this.logger=r}var qD=((UD={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",UD["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",UD["registration-api-key"]="Undefined API key. Check Firebase app initialization.",UD["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",UD["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",UD["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",UD["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",UD["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",UD["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",UD["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',UD["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',UD["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",UD["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",UD),BD=new ps("remoteconfig","Remote Config",qD),zD=(GD.prototype.fetch=function(t){return ja(this,void 0,void 0,(function(){var e,n,r,i,o,a,s,u,c,l,h,f,p,d,v,y,g,m,b;return Va(this,(function(w){switch(w.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:e=w.sent(),n=e[0],r=e[1],i=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",o=i+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},s={sdk_version:this.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:this.appId,language_code:(void 0===_&&(_=navigator),_.languages&&_.languages[0]||_.language)},u={method:"POST",headers:a,body:JSON.stringify(s)},c=fetch(o,u),l=new Promise((function(e,n){t.signal.addEventListener((function(){var t=new Error("The operation was aborted.");t.name="AbortError",n(t)}))})),w.label=2;case 2:return w.trys.push([2,5,,6]),[4,Promise.race([c,l])];case 3:return w.sent(),[4,c];case 4:return h=w.sent(),[3,6];case 5:throw f=w.sent(),p="fetch-client-network","AbortError"===f.name&&(p="fetch-timeout"),BD.create(p,{originalErrorMessage:f.message});case 6:if(d=h.status,v=h.headers.get("ETag")||void 0,200!==h.status)return[3,11];m=void 0,w.label=7;case 7:return w.trys.push([7,9,,10]),[4,h.json()];case 8:return m=w.sent(),[3,10];case 9:throw b=w.sent(),BD.create("fetch-client-parse",{originalErrorMessage:b.message});case 10:y=m.entries,g=m.state,w.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===g?d=500:"NO_CHANGE"===g?d=304:"NO_TEMPLATE"!==g&&"EMPTY_CONFIG"!==g||(y={}),304!==d&&200!==d)throw BD.create("fetch-status",{httpStatus:d});return[2,{status:d,eTag:v,config:y}]}var _}))}))},GD);function GD(t,e,n,r,i,o){this.firebaseInstallations=t,this.sdkVersion=e,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}var WD=(HD.prototype.addEventListener=function(t){this.listeners.push(t)},HD.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},HD);function HD(){this.listeners=[]}var KD=["1","true","t","yes","y","on"],QD=(YD.prototype.asString=function(){return this._value},YD.prototype.asBoolean=function(){return"static"!==this._source&&0<=KD.indexOf(this._value.toLowerCase())},YD.prototype.asNumber=function(){if("static"===this._source)return 0;var t=Number(this._value);return isNaN(t)&&(t=0),t},YD.prototype.getSource=function(){return this._source},YD);function YD(t,e){void 0===e&&(e=""),this._source=t,this._value=e}var XD=($D.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=Gs.DEBUG;break;case"silent":this._logger.logLevel=Gs.SILENT;break;default:this._logger.logLevel=Gs.ERROR}},Object.defineProperty($D.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty($D.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),$D.prototype.activate=function(){return ja(this,void 0,void 0,(function(){var t,e,n;return Va(this,(function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return t=r.sent(),e=t[0],n=t[1],e&&e.config&&e.eTag&&e.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(e.config),this._storage.setActiveConfigEtag(e.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}}))}))},$D.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){t._isInitializationComplete=!0}))),this._initializePromise},$D.prototype.fetch=function(){return ja(this,void 0,void 0,(function(){var t,e,n,r=this;return Va(this,(function(i){switch(i.label){case 0:t=new WD,setTimeout((function(){return ja(r,void 0,void 0,(function(){return Va(this,(function(e){return t.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return i.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return i.sent(),[3,6];case 4:return e=i.sent(),n=(o=e)instanceof hs&&-1!==o.code.indexOf("fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw i.sent(),e;case 6:return[2]}var o}))}))},$D.prototype.fetchAndActivate=function(){return ja(this,void 0,void 0,(function(){return Va(this,(function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}}))}))},$D.prototype.getAll=function(){var t=this;return function(t,e){return void 0===t&&(t={}),void 0===e&&(e={}),Object.keys(Ua(Ua({},t),e))}(this._storageCache.getActiveConfig(),this.defaultConfig).reduce((function(e,n){return e[n]=t.getValue(n),e}),{})},$D.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},$D.prototype.getNumber=function(t){return this.getValue(t).asNumber()},$D.prototype.getString=function(t){return this.getValue(t).asString()},$D.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var e=this._storageCache.getActiveConfig();return e&&void 0!==e[t]?new QD("remote",e[t]):this.defaultConfig&&void 0!==this.defaultConfig[t]?new QD("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new QD("static"))},$D);function $D(t,e,n,r,i){this.app=t,this._client=e,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}function JD(t,e){var n=t.target.error||void 0;return BD.create(e,{originalErrorMessage:n&&n.message})}var ZD="app_namespace_store",tL=(eL.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},eL.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},eL.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},eL.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},eL.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},eL.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},eL.prototype.getActiveConfig=function(){return this.get("active_config")},eL.prototype.setActiveConfig=function(t){return this.set("active_config",t)},eL.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},eL.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},eL.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},eL.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},eL.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},eL.prototype.get=function(t){return ja(this,void 0,void 0,(function(){var e,n=this;return Va(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise((function(r,i){var o=e.transaction([ZD],"readonly").objectStore(ZD),a=n.createCompositeKey(t);try{var s=o.get(a);s.onerror=function(t){i(JD(t,"storage-get"))},s.onsuccess=function(t){var e=t.target.result;r(e?e.value:void 0)}}catch(o){i(BD.create("storage-get",{originalErrorMessage:o&&o.message}))}}))]}}))}))},eL.prototype.set=function(t,e){return ja(this,void 0,void 0,(function(){var n,r=this;return Va(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise((function(i,o){var a=n.transaction([ZD],"readwrite").objectStore(ZD),s=r.createCompositeKey(t);try{var u=a.put({compositeKey:s,value:e});u.onerror=function(t){o(JD(t,"storage-set"))},u.onsuccess=function(){i()}}catch(i){o(BD.create("storage-set",{originalErrorMessage:i&&i.message}))}}))]}}))}))},eL.prototype.delete=function(t){return ja(this,void 0,void 0,(function(){var e,n=this;return Va(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise((function(r,i){var o=e.transaction([ZD],"readwrite").objectStore(ZD),a=n.createCompositeKey(t);try{var s=o.delete(a);s.onerror=function(t){i(JD(t,"storage-delete"))},s.onsuccess=function(){r()}}catch(r){i(BD.create("storage-delete",{originalErrorMessage:r&&r.message}))}}))]}}))}))},eL.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},eL);function eL(t,e,n,r){void 0===r&&(r=new Promise((function(t,e){var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(t){e(JD(t,"storage-open"))},n.onsuccess=function(e){t(e.target.result)},n.onupgradeneeded=function(t){var e=t.target.result;0===t.oldVersion&&e.createObjectStore(ZD,{keyPath:"compositeKey"})}}))),this.appId=t,this.appName=e,this.namespace=n,this.openDbPromise=r}var nL=(rL.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},rL.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},rL.prototype.getActiveConfig=function(){return this.activeConfig},rL.prototype.loadFromStorage=function(){return ja(this,void 0,void 0,(function(){var t,e,n,r,i,o;return Va(this,(function(a){switch(a.label){case 0:return t=this.storage.getLastFetchStatus(),e=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,t];case 1:return(r=a.sent())&&(this.lastFetchStatus=r),[4,e];case 2:return(i=a.sent())&&(this.lastSuccessfulFetchTimestampMillis=i),[4,n];case 3:return(o=a.sent())&&(this.activeConfig=o),[2]}}))}))},rL.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},rL.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},rL.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},rL);function rL(t){this.storage=t}var iL=(oL.prototype.fetch=function(t){return ja(this,void 0,void 0,(function(){var e;return Va(this,(function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return e=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,e)]}}))}))},oL.prototype.attemptFetch=function(t,e){var n=e.throttleEndTimeMillis,r=e.backoffCount;return ja(this,void 0,void 0,(function(){var e,i,o;return Va(this,(function(a){switch(a.label){case 0:return[4,(s=t.signal,u=n,new Promise((function(t,e){var n=Math.max(u-Date.now(),0),r=setTimeout(t,n);s.addEventListener((function(){clearTimeout(r),e(BD.create("fetch-throttle",{throttleEndTimeMillis:u}))}))})))];case 1:a.sent(),a.label=2;case 2:return a.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return e=a.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return a.sent(),[2,e];case 5:if(!function(t){if(t instanceof hs){var e=Number(t.httpStatus);return 429===e||500===e||503===e||504===e}}(i=a.sent()))throw i;return o={throttleEndTimeMillis:Date.now()+Ds(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(o)];case 6:return a.sent(),[2,this.attemptFetch(t,o)];case 7:return[2]}var s,u}))}))},oL);function oL(t,e){this.client=t,this.storage=e}var aL,sL="@firebase/remote-config";return(aL=yu).INTERNAL.registerComponent(new Ls("remoteConfig",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("installations").getImmediate();if("undefined"==typeof window)throw BD.create("registration-window");var i=n.options,o=i.projectId,a=i.apiKey,s=i.appId;if(!o)throw BD.create("registration-project-id");if(!a)throw BD.create("registration-api-key");if(!s)throw BD.create("registration-app-id");e=e||"firebase";var u=new tL(s,n.name,e),c=new nL(u),l=new Js(sL);l.logLevel=Gs.ERROR;var h=new zD(r,aL.SDK_VERSION,e,o,a,s),f=new iL(h,u),p=new jD(f,u,c,l),d=new XD(n,p,c,u,l);return d.ensureInitialized(),d}),"PUBLIC").setMultipleInstances(!0)),aL.registerVersion(sL,"0.1.28"),console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the CDN builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nhttps://www.gstatic.com/firebasejs/5.0.0/firebase-<PACKAGE>.js\n"),yu.registerVersion("firebase","7.22.1","cdn"),yu}()}).call(this,n(14),n(25))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}t.exports=n},function(t,e,n){t.exports=n(39)()},function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return a})),n.d(e,"__decorate",(function(){return s})),n.d(e,"__param",(function(){return u})),n.d(e,"__metadata",(function(){return c})),n.d(e,"__awaiter",(function(){return l})),n.d(e,"__generator",(function(){return h})),n.d(e,"__createBinding",(function(){return f})),n.d(e,"__exportStar",(function(){return p})),n.d(e,"__values",(function(){return d})),n.d(e,"__read",(function(){return v})),n.d(e,"__spread",(function(){return y})),n.d(e,"__spreadArrays",(function(){return g})),n.d(e,"__await",(function(){return m})),n.d(e,"__asyncGenerator",(function(){return b})),n.d(e,"__asyncDelegator",(function(){return w})),n.d(e,"__asyncValues",(function(){return _})),n.d(e,"__makeTemplateObject",(function(){return E})),n.d(e,"__importStar",(function(){return I})),n.d(e,"__importDefault",(function(){return T})),n.d(e,"__classPrivateFieldGet",(function(){return S})),n.d(e,"__classPrivateFieldSet",(function(){return C}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function s(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function u(t,e){return function(n,r){e(n,r,t)}}function c(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function h(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function f(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}function p(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||(e[n]=t[n])}function d(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function y(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(v(arguments[e]));return t}function g(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function m(t){return this instanceof m?(this.v=t,this):new m(t)}function b(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||s(t,e)}))})}function s(t,e){try{(n=i[t](e)).value instanceof m?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function u(t){s("next",t)}function c(t){s("throw",t)}function l(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:m(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function _(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=d(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){(function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)})(r,i,(e=t[n](e)).done,e.value)}))}}}function E(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function I(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function T(t){return t&&t.__esModule?t:{default:t}}function S(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function C(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},,function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r=n(16),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(t,e){if(!t)throw a(e)},a=function(t){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},s=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296===(64512&i)&&r+1<t.length&&56320===(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=o>>2,h=(3&o)<<4|s>>4,f=(15&s)<<2|c>>6,p=63&c;u||(p=64,a||(f=64)),r.push(n[l],n[h],n[f],n[p])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(s(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(1023&a))}else{o=t[n++];var s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var h=s<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},c=function(t){try{return u.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function l(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=l(t[n],e[n]));return t}var h=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"===typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function f(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function p(){try{return"[object process]"===Object.prototype.toString.call(t.process)}catch(e){return!1}}var d=function(t){function e(n,r){var i=t.call(this,r)||this;return i.code=n,i.name="FirebaseError",Object.setPrototypeOf(i,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,v.prototype.create),i}return r.__extends(e,t),e}(Error),v=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?y(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new d(i,s),c=0,l=Object.keys(r);c<l.length;c++){var h=l[c];"_"!==h.slice(-1)&&(h in u&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),u[h]=r[h])}return u},t}();function y(t,e){return t.replace(g,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var g=/\{\$([^}]+)}/g;function m(t){return JSON.parse(t)}var b=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=m(c(o[0])||""),n=m(c(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:e,claims:n,data:r,signature:i}};var w=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"===typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295;h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"===typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}();var _=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!==typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"===typeof t[i])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=E),void 0===r.error&&(r.error=E),void 0===r.complete&&(r.complete=E);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function E(){}function I(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=t+" failed: ";return i+=r+" argument "}e.CONSTANTS=i,e.Deferred=h,e.ErrorFactory=v,e.FirebaseError=d,e.MAX_VALUE_MILLIS=144e5,e.RANDOM_FACTOR=.5,e.Sha1=w,e.areCookiesEnabled=function(){return!(!navigator||!navigator.cookieEnabled)},e.assert=o,e.assertionError=a,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){t.apply(void 0,n)})).catch((function(t){e&&e(t)}))}},e.base64=u,e.base64Decode=c,e.base64Encode=function(t){var e=s(t);return u.encodeByteArray(e,!0)},e.calculateBackoffMillis=function(t,e,n){void 0===e&&(e=1e3),void 0===n&&(n=2);var r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new _(t,e);return n.subscribe.bind(n)},e.decode=b,e.deepCopy=function(t){return l(void 0,t)},e.deepExtend=l,e.errorPrefix=I,e.getUA=f,e.isAdmin=function(t){var e=b(t).claims;return"object"===typeof e&&!0===e.admin},e.isBrowser=function(){return"object"===typeof self&&self.self===self},e.isBrowserExtension=function(){var t="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof t&&void 0!==t.id},e.isElectron=function(){return f().indexOf("Electron/")>=0},e.isEmpty=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},e.isIE=function(){var t=f();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0},e.isIndexedDBAvailable=function(){return"indexedDB"in self&&null!=indexedDB},e.isMobileCordova=function(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())},e.isNode=p,e.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},e.isReactNative=function(){return"object"===typeof navigator&&"ReactNative"===navigator.product},e.isSafari=function(){return!p()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")},e.isUWP=function(){return f().indexOf("MSAppHost/")>=0},e.isValidFormat=function(t){var e=b(t).claims;return!!e&&"object"===typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e=b(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"===typeof e&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),i=e.hasOwnProperty("exp")?e.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},e.issuedAtTime=function(t){var e=b(t).claims;return"object"===typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=m,e.map=function(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r},e.querystring=function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach((function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}})),e},e.safeGet=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,o(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},e.stringify=function(t){return JSON.stringify(t)},e.validateArgCount=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(I(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(I(t,e,r)+"must be a valid context object.")},e.validateIndexedDBOpenable=function(){return new Promise((function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||window.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(o){e(o)}}))},e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!==typeof n)throw new Error(I(t,e,r)+"must be a valid firebase namespace.")}}).call(this,n(14))},function(t,e,n){"use strict";(function(t){var r=n(0),i=n.n(r),o=n(3),a=n(15),s=n.n(a),u="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof t?t:{};function c(t){var e=[];return{on:function(t){e.push(t)},off:function(t){e=e.filter((function(e){return e!==t}))},get:function(){return t},set:function(n,r){t=n,e.forEach((function(e){return e(t,r)}))}}}var l=i.a.createContext||function(t,e){var n,i,a="__create-react-context-"+function(){var t="__global_unique_id__";return u[t]=(u[t]||0)+1}()+"__",l=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).emitter=c(e.props.value),e}Object(o.a)(n,t);var r=n.prototype;return r.getChildContext=function(){var t;return(t={})[a]=this.emitter,t},r.componentWillReceiveProps=function(t){if(this.props.value!==t.value){var n,r=this.props.value,i=t.value;((o=r)===(a=i)?0!==o||1/o===1/a:o!==o&&a!==a)?n=0:(n="function"===typeof e?e(r,i):1073741823,0!==(n|=0)&&this.emitter.set(t.value,n))}var o,a},r.render=function(){return this.props.children},n}(r.Component);l.childContextTypes=((n={})[a]=s.a.object.isRequired,n);var h=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).state={value:t.getValue()},t.onUpdate=function(e,n){0!==((0|t.observedBits)&n)&&t.setState({value:t.getValue()})},t}Object(o.a)(n,e);var r=n.prototype;return r.componentWillReceiveProps=function(t){var e=t.observedBits;this.observedBits=void 0===e||null===e?1073741823:e},r.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var t=this.props.observedBits;this.observedBits=void 0===t||null===t?1073741823:t},r.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},r.getValue=function(){return this.context[a]?this.context[a].get():t},r.render=function(){return(t=this.props.children,Array.isArray(t)?t[0]:t)(this.state.value);var t},n}(r.Component);return h.contextTypes=((i={})[a]=s.a.object,i),{Provider:l,Consumer:h}};e.a=l}).call(this,n(14))},function(t,e,n){var r=n(41);t.exports=p,t.exports.parse=o,t.exports.compile=function(t,e){return s(o(t,e),e)},t.exports.tokensToFunction=s,t.exports.tokensToRegExp=f;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(t,e){for(var n,r=[],o=0,a=0,s="",l=e&&e.delimiter||"/";null!=(n=i.exec(t));){var h=n[0],f=n[1],p=n.index;if(s+=t.slice(a,p),a=p+h.length,f)s+=f[1];else{var d=t[a],v=n[2],y=n[3],g=n[4],m=n[5],b=n[6],w=n[7];s&&(r.push(s),s="");var _=null!=v&&null!=d&&d!==v,E="+"===b||"*"===b,I="?"===b||"*"===b,T=n[2]||l,S=g||m;r.push({name:y||o++,prefix:v||"",delimiter:T,optional:I,repeat:E,partial:_,asterisk:!!w,pattern:S?c(S):w?".*":"[^"+u(T)+"]+?"})}}return a<t.length&&(s+=t.substr(a)),s&&r.push(s),r}function a(t){return encodeURI(t).replace(/[\/?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}))}function s(t,e){for(var n=new Array(t.length),i=0;i<t.length;i++)"object"===typeof t[i]&&(n[i]=new RegExp("^(?:"+t[i].pattern+")$",h(e)));return function(e,i){for(var o="",s=e||{},u=(i||{}).pretty?a:encodeURIComponent,c=0;c<t.length;c++){var l=t[c];if("string"!==typeof l){var h,f=s[l.name];if(null==f){if(l.optional){l.partial&&(o+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(f)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(0===f.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var p=0;p<f.length;p++){if(h=u(f[p]),!n[c].test(h))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(h)+"`");o+=(0===p?l.prefix:l.delimiter)+h}}else{if(h=l.asterisk?encodeURI(f).replace(/[?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})):u(f),!n[c].test(h))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+h+'"');o+=l.prefix+h}}else o+=l}return o}}function u(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function l(t,e){return t.keys=e,t}function h(t){return t&&t.sensitive?"":"i"}function f(t,e,n){r(e)||(n=e||n,e=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",s=0;s<t.length;s++){var c=t[s];if("string"===typeof c)a+=u(c);else{var f=u(c.prefix),p="(?:"+c.pattern+")";e.push(c),c.repeat&&(p+="(?:"+f+p+")*"),a+=p=c.optional?c.partial?f+"("+p+")?":"(?:"+f+"("+p+"))?":f+"("+p+")"}}var d=u(n.delimiter||"/"),v=a.slice(-d.length)===d;return i||(a=(v?a.slice(0,-d.length):a)+"(?:"+d+"(?=$))?"),a+=o?"$":i&&v?"":"(?="+d+"|$)",l(new RegExp("^"+a,h(n)),e)}function p(t,e,n){return r(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?function(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(t,e)}(t,e):r(t)?function(t,e,n){for(var r=[],i=0;i<t.length;i++)r.push(p(t[i],e,n).source);return l(new RegExp("(?:"+r.join("|")+")",h(n)),e)}(t,e,n):function(t,e,n){return f(o(t,n),e,n)}(t,e,n)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(10);function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}},function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(t,e)||function(t,e){if(t){if("string"===typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(t,e){for(var n,s,u=a(t),c=1;c<arguments.length;c++){for(var l in n=Object(arguments[c]))i.call(n,l)&&(u[l]=n[l]);if(r){s=r(n);for(var h=0;h<s.length;h++)o.call(n,s[h])&&(u[s[h]]=n[s[h]])}}return u}},function(t,e,n){"use strict";t.exports=n(42)},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"===typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,c=[],l=!1,h=-1;function f(){l&&u&&(l=!1,u.length?c=u.concat(c):h=-1,c.length&&p())}function p(){if(!l){var t=s(f);l=!0;for(var e=c.length;e;){for(u=c,c=[];++h<e;)u&&u[h].run();h=-1,e=c.length}u=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function v(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new d(t,e)),1!==c.length||l||s(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i,o=n(16),a=n(18),s=n(27),u=n(28),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new a.ErrorFactory("app","Firebase",c),h=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),f=new u.Logger("@firebase/app"),p=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=a.deepCopy(t),this.container=new s.ComponentContainer(e.name),this._addComponent(new s.Component("app",(function(){return u}),"PUBLIC"));try{for(var c=o.__values(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next()){var h=l.value;this._addComponent(h)}}catch(f){r={error:f}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){f.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();p.prototype.name&&p.prototype.options||p.prototype.delete||console.log("dc");var d=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!==typeof i||null===i){i={name:i}}var o=i;void 0===o.name&&(o.name="[DEFAULT]");var s=o.name;if("string"!==typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if(a.contains(e,s))throw l.create("duplicate-app",{appName:s});var u=new t(n,o,r);return e[s]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=h[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&a&&u.push("and"),a&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void f.warn(u.join(" "))}c(new s.Component(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:u.setLogLevel,onLog:function(t,e){if(null!==t&&"function"!==typeof t)throw l.create("invalid-log-argument",{appName:name});u.setUserLogHandler(t,e)},apps:null,SDK_VERSION:"7.20.0",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){if("serverAuth"===e)return null;return e}}};function i(t){if(t=t||"[DEFAULT]",!a.contains(e,t))throw l.create("no-app",{appName:t});return e[t]}function c(s){var u,c,h=s.name;if(n.has(h))return f.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===s.type?r[h]:null;if(n.set(h,s),"PUBLIC"===s.type){var p=function(t){if(void 0===t&&(t=i()),"function"!==typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==s.serviceProps&&a.deepExtend(p,s.serviceProps),r[h]=p,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,h);return n.apply(this,s.multipleInstances?t:[])}}try{for(var d=o.__values(Object.keys(e)),v=d.next();!v.done;v=d.next()){var y=v.value;e[y]._addComponent(s)}}catch(g){u={error:g}}finally{try{v&&!v.done&&(c=d.return)&&c.call(d)}finally{if(u)throw u.error}}return"PUBLIC"===s.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(p);return e.INTERNAL=o.__assign(o.__assign({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){a.deepExtend(e,t)},createSubscribe:a.createSubscribe,ErrorFactory:a.ErrorFactory,deepExtend:a.deepExtend}),e}(),v=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null===e||void 0===e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(a.isBrowser()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var g=d.initializeApp;d.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return a.isNode()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),g.apply(void 0,t)};var m=d;!function(t,e){t.INTERNAL.registerComponent(new s.Component("platform-logger",(function(t){return new v(t)}),"PRIVATE")),t.registerVersion("@firebase/app","0.6.11",e),t.registerVersion("fire-js","")}(m),e.default=m,e.firebase=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(16),i=n(18),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.Deferred;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=r.__assign({identifier:"[DEFAULT]",optional:!1},t),n=e.identifier,i=e.optional,o=this.normalizeInstanceIdentifier(n);try{var a=this.getOrInitializeService(o);if(!a){if(i)return null;throw Error("Service "+this.name+" is not available")}return a}catch(s){if(i)return null;throw s}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService("[DEFAULT]")}catch(h){}try{for(var i=r.__values(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=r.__read(o.value,2),s=a[0],u=a[1],c=this.normalizeInstanceIdentifier(s);try{var l=this.getOrInitializeService(c);u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(r.__spread(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}();var s=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();e.Component=o,e.ComponentContainer=s,e.Provider=a},function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.r(e),n.d(e,"LogLevel",(function(){return o})),n.d(e,"Logger",(function(){return h})),n.d(e,"setLogLevel",(function(){return f})),n.d(e,"setUserLogHandler",(function(){return p}));var o,a=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(o||(o={}));var s={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),a=c[e];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[a].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,a.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"===typeof t?s[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!==typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function f(t){a.forEach((function(e){e.setLogLevel(t)}))}function p(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=s[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var s=i.map((function(t){if(null==t)return null;if("string"===typeof t)return t;if("number"===typeof t||"boolean"===typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!==r&&void 0!==r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=a;r<i.length;r++){n(i[r])}}},function(t,e,n){"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}}(),t.exports=n(33)},function(t,e,n){"use strict";var r=n(24),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(t){return r.isMemo(t)?a:s[t.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,d=Object.prototype;t.exports=function t(e,n,r){if("string"!==typeof n){if(d){var i=p(n);i&&i!==d&&t(e,i,r)}var a=l(n);h&&(a=a.concat(h(n)));for(var s=u(e),v=u(n),y=0;y<a.length;++y){var g=a[y];if(!o[g]&&(!r||!r[g])&&(!v||!v[g])&&(!s||!s[g])){var m=f(n,g);try{c(e,g,m)}catch(b){}}}}return e}},,function(t,e,n){"use strict";var r=n(23),i="function"===typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,u=i?Symbol.for("react.strict_mode"):60108,c=i?Symbol.for("react.profiler"):60114,l=i?Symbol.for("react.provider"):60109,h=i?Symbol.for("react.context"):60110,f=i?Symbol.for("react.forward_ref"):60112,p=i?Symbol.for("react.suspense"):60113,d=i?Symbol.for("react.memo"):60115,v=i?Symbol.for("react.lazy"):60116,y="function"===typeof Symbol&&Symbol.iterator;function g(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function w(t,e,n){this.props=t,this.context=e,this.refs=b,this.updater=n||m}function _(){}function E(t,e,n){this.props=t,this.context=e,this.refs=b,this.updater=n||m}w.prototype.isReactComponent={},w.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error(g(85));this.updater.enqueueSetState(this,t,e,"setState")},w.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},_.prototype=w.prototype;var I=E.prototype=new _;I.constructor=E,r(I,w.prototype),I.isPureReactComponent=!0;var T={current:null},S=Object.prototype.hasOwnProperty,C={key:!0,ref:!0,__self:!0,__source:!0};function A(t,e,n){var r,i={},a=null,s=null;if(null!=e)for(r in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(a=""+e.key),e)S.call(e,r)&&!C.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];i.children=c}if(t&&t.defaultProps)for(r in u=t.defaultProps)void 0===i[r]&&(i[r]=u[r]);return{$$typeof:o,type:t,key:a,ref:s,props:i,_owner:T.current}}function k(t){return"object"===typeof t&&null!==t&&t.$$typeof===o}var N=/\/+/g,O=[];function x(t,e,n,r){if(O.length){var i=O.pop();return i.result=t,i.keyPrefix=e,i.func=n,i.context=r,i.count=0,i}return{result:t,keyPrefix:e,func:n,context:r,count:0}}function P(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>O.length&&O.push(t)}function R(t,e,n){return null==t?0:function t(e,n,r,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case o:case a:u=!0}}if(u)return r(i,e,""===n?"."+D(e,0):n),1;if(u=0,n=""===n?".":n+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=n+D(s=e[c],c);u+=t(s,l,r,i)}else if(null===e||"object"!==typeof e?l=null:l="function"===typeof(l=y&&e[y]||e["@@iterator"])?l:null,"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=t(s=s.value,l=n+D(s,c++),r,i);else if("object"===s)throw r=""+e,Error(g(31,"[object Object]"===r?"object with keys {"+Object.keys(e).join(", ")+"}":r,""));return u}(t,"",e,n)}function D(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,(function(t){return e[t]}))}(t.key):e.toString(36)}function L(t,e){t.func.call(t.context,e,t.count++)}function M(t,e,n){var r=t.result,i=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?F(t,r,n,(function(t){return t})):null!=t&&(k(t)&&(t=function(t,e){return{$$typeof:o,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(t,i+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(N,"$&/")+"/")+n)),r.push(t))}function F(t,e,n,r,i){var o="";null!=n&&(o=(""+n).replace(N,"$&/")+"/"),R(t,M,e=x(e,o,r,i)),P(e)}var U={current:null};function j(){var t=U.current;if(null===t)throw Error(g(321));return t}var V={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:T,IsSomeRendererActing:{current:!1},assign:r};e.Children={map:function(t,e,n){if(null==t)return t;var r=[];return F(t,r,null,e,n),r},forEach:function(t,e,n){if(null==t)return t;R(t,L,e=x(null,null,e,n)),P(e)},count:function(t){return R(t,(function(){return null}),null)},toArray:function(t){var e=[];return F(t,e,null,(function(t){return t})),e},only:function(t){if(!k(t))throw Error(g(143));return t}},e.Component=w,e.Fragment=s,e.Profiler=c,e.PureComponent=E,e.StrictMode=u,e.Suspense=p,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V,e.cloneElement=function(t,e,n){if(null===t||void 0===t)throw Error(g(267,t));var i=r({},t.props),a=t.key,s=t.ref,u=t._owner;if(null!=e){if(void 0!==e.ref&&(s=e.ref,u=T.current),void 0!==e.key&&(a=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(l in e)S.call(e,l)&&!C.hasOwnProperty(l)&&(i[l]=void 0===e[l]&&void 0!==c?c[l]:e[l])}var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){c=Array(l);for(var h=0;h<l;h++)c[h]=arguments[h+2];i.children=c}return{$$typeof:o,type:t.type,key:a,ref:s,props:i,_owner:u}},e.createContext=function(t,e){return void 0===e&&(e=null),(t={$$typeof:h,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:l,_context:t},t.Consumer=t},e.createElement=A,e.createFactory=function(t){var e=A.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:f,render:t}},e.isValidElement=k,e.lazy=function(t){return{$$typeof:v,_ctor:t,_status:-1,_result:null}},e.memo=function(t,e){return{$$typeof:d,type:t,compare:void 0===e?null:e}},e.useCallback=function(t,e){return j().useCallback(t,e)},e.useContext=function(t,e){return j().useContext(t,e)},e.useDebugValue=function(){},e.useEffect=function(t,e){return j().useEffect(t,e)},e.useImperativeHandle=function(t,e,n){return j().useImperativeHandle(t,e,n)},e.useLayoutEffect=function(t,e){return j().useLayoutEffect(t,e)},e.useMemo=function(t,e){return j().useMemo(t,e)},e.useReducer=function(t,e,n){return j().useReducer(t,e,n)},e.useRef=function(t){return j().useRef(t)},e.useState=function(t){return j().useState(t)},e.version="16.13.1"},function(t,e,n){"use strict";var r=n(0),i=n(23),o=n(34);function a(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));function s(t,e,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(l){this.onError(l)}}var u=!1,c=null,l=!1,h=null,f={onError:function(t){u=!0,c=t}};function p(t,e,n,r,i,o,a,l,h){u=!1,c=null,s.apply(f,arguments)}var d=null,v=null,y=null;function g(t,e,n){var r=t.type||"unknown-event";t.currentTarget=y(n),function(t,e,n,r,i,o,s,f,d){if(p.apply(this,arguments),u){if(!u)throw Error(a(198));var v=c;u=!1,c=null,l||(l=!0,h=v)}}(r,e,void 0,t),t.currentTarget=null}var m=null,b={};function w(){if(m)for(var t in b){var e=b[t],n=m.indexOf(t);if(!(-1<n))throw Error(a(96,t));if(!E[n]){if(!e.extractEvents)throw Error(a(97,t));for(var r in E[n]=e,n=e.eventTypes){var i=void 0,o=n[r],s=e,u=r;if(I.hasOwnProperty(u))throw Error(a(99,u));I[u]=o;var c=o.phasedRegistrationNames;if(c){for(i in c)c.hasOwnProperty(i)&&_(c[i],s,u);i=!0}else o.registrationName?(_(o.registrationName,s,u),i=!0):i=!1;if(!i)throw Error(a(98,r,t))}}}}function _(t,e,n){if(T[t])throw Error(a(100,t));T[t]=e,S[t]=e.eventTypes[n].dependencies}var E=[],I={},T={},S={};function C(t){var e,n=!1;for(e in t)if(t.hasOwnProperty(e)){var r=t[e];if(!b.hasOwnProperty(e)||b[e]!==r){if(b[e])throw Error(a(102,e));b[e]=r,n=!0}}n&&w()}var A=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),k=null,N=null,O=null;function x(t){if(t=v(t)){if("function"!==typeof k)throw Error(a(280));var e=t.stateNode;e&&(e=d(e),k(t.stateNode,t.type,e))}}function P(t){N?O?O.push(t):O=[t]:N=t}function R(){if(N){var t=N,e=O;if(O=N=null,x(t),e)for(t=0;t<e.length;t++)x(e[t])}}function D(t,e){return t(e)}function L(t,e,n,r,i){return t(e,n,r,i)}function M(){}var F=D,U=!1,j=!1;function V(){null===N&&null===O||(M(),R())}function q(t,e,n){if(j)return t(e,n);j=!0;try{return F(t,e,n)}finally{j=!1,V()}}var B=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,z=Object.prototype.hasOwnProperty,G={},W={};function H(t,e,n,r,i,o){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o}var K={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){K[t]=new H(t,0,!1,t,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];K[e]=new H(e,1,!1,t[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){K[t]=new H(t,2,!1,t.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){K[t]=new H(t,2,!1,t,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){K[t]=new H(t,3,!1,t.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(t){K[t]=new H(t,3,!0,t,null,!1)})),["capture","download"].forEach((function(t){K[t]=new H(t,4,!1,t,null,!1)})),["cols","rows","size","span"].forEach((function(t){K[t]=new H(t,6,!1,t,null,!1)})),["rowSpan","start"].forEach((function(t){K[t]=new H(t,5,!1,t.toLowerCase(),null,!1)}));var Q=/[\-:]([a-z])/g;function Y(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(Q,Y);K[e]=new H(e,1,!1,t,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(Q,Y);K[e]=new H(e,1,!1,t,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(Q,Y);K[e]=new H(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(t){K[t]=new H(t,1,!1,t.toLowerCase(),null,!1)})),K.xlinkHref=new H("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(t){K[t]=new H(t,1,!1,t.toLowerCase(),null,!0)}));var X=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function $(t,e,n,r){var i=K.hasOwnProperty(e)?K[e]:null;(null!==i?0===i.type:!r&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(function(t,e,n,r){if(null===e||"undefined"===typeof e||function(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,i,r)&&(n=null),r||null===i?function(t){return!!z.call(W,t)||!z.call(G,t)&&(B.test(t)?W[t]=!0:(G[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,r=i.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}X.hasOwnProperty("ReactCurrentDispatcher")||(X.ReactCurrentDispatcher={current:null}),X.hasOwnProperty("ReactCurrentBatchConfig")||(X.ReactCurrentBatchConfig={suspense:null});var J=/^(.*)[\\\/]/,Z="function"===typeof Symbol&&Symbol.for,tt=Z?Symbol.for("react.element"):60103,et=Z?Symbol.for("react.portal"):60106,nt=Z?Symbol.for("react.fragment"):60107,rt=Z?Symbol.for("react.strict_mode"):60108,it=Z?Symbol.for("react.profiler"):60114,ot=Z?Symbol.for("react.provider"):60109,at=Z?Symbol.for("react.context"):60110,st=Z?Symbol.for("react.concurrent_mode"):60111,ut=Z?Symbol.for("react.forward_ref"):60112,ct=Z?Symbol.for("react.suspense"):60113,lt=Z?Symbol.for("react.suspense_list"):60120,ht=Z?Symbol.for("react.memo"):60115,ft=Z?Symbol.for("react.lazy"):60116,pt=Z?Symbol.for("react.block"):60121,dt="function"===typeof Symbol&&Symbol.iterator;function vt(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=dt&&t[dt]||t["@@iterator"])?t:null}function yt(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case nt:return"Fragment";case et:return"Portal";case it:return"Profiler";case rt:return"StrictMode";case ct:return"Suspense";case lt:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case at:return"Context.Consumer";case ot:return"Context.Provider";case ut:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case ht:return yt(t.type);case pt:return yt(t.render);case ft:if(t=1===t._status?t._result:null)return yt(t)}return null}function gt(t){var e="";do{t:switch(t.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break t;default:var r=t._debugOwner,i=t._debugSource,o=yt(t.type);n=null,r&&(n=yt(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(J,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}e+=n,t=t.return}while(t);return e}function mt(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function bt(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function wt(t){t._valueTracker||(t._valueTracker=function(t){var e=bt(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function _t(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=bt(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}function Et(t,e){var n=e.checked;return i({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function It(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=mt(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function Tt(t,e){null!=(e=e.checked)&&$(t,"checked",e,!1)}function St(t,e){Tt(t,e);var n=mt(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?At(t,e.type,n):e.hasOwnProperty("defaultValue")&&At(t,e.type,mt(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function Ct(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function At(t,e,n){"number"===e&&t.ownerDocument.activeElement===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function kt(t,e){return t=i({children:void 0},e),(e=function(t){var e="";return r.Children.forEach(t,(function(t){null!=t&&(e+=t)})),e}(e.children))&&(t.children=e),t}function Nt(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+mt(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function Ot(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(a(91));return i({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function xt(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:mt(n)}}function Pt(t,e){var n=mt(e.value),r=mt(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function Rt(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}var Dt="http://www.w3.org/1999/xhtml",Lt="http://www.w3.org/2000/svg";function Mt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ft(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?Mt(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var Ut,jt=function(t){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction((function(){return t(e,n)}))}:t}((function(t,e){if(t.namespaceURI!==Lt||"innerHTML"in t)t.innerHTML=e;else{for((Ut=Ut||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ut.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}}));function Vt(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}function qt(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Bt={animationend:qt("Animation","AnimationEnd"),animationiteration:qt("Animation","AnimationIteration"),animationstart:qt("Animation","AnimationStart"),transitionend:qt("Transition","TransitionEnd")},zt={},Gt={};function Wt(t){if(zt[t])return zt[t];if(!Bt[t])return t;var e,n=Bt[t];for(e in n)if(n.hasOwnProperty(e)&&e in Gt)return zt[t]=n[e];return t}A&&(Gt=document.createElement("div").style,"AnimationEvent"in window||(delete Bt.animationend.animation,delete Bt.animationiteration.animation,delete Bt.animationstart.animation),"TransitionEvent"in window||delete Bt.transitionend.transition);var Ht=Wt("animationend"),Kt=Wt("animationiteration"),Qt=Wt("animationstart"),Yt=Wt("transitionend"),Xt="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$t=new("function"===typeof WeakMap?WeakMap:Map);function Jt(t){var e=$t.get(t);return void 0===e&&(e=new Map,$t.set(t,e)),e}function Zt(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(1026&(e=t).effectTag)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function te(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function ee(t){if(Zt(t)!==t)throw Error(a(188))}function ne(t){if(!(t=function(t){var e=t.alternate;if(!e){if(null===(e=Zt(t)))throw Error(a(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return ee(i),t;if(o===r)return ee(i),e;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?t:e}(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function re(t,e){if(null==e)throw Error(a(30));return null==t?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}function ie(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)}var oe=null;function ae(t){if(t){var e=t._dispatchListeners,n=t._dispatchInstances;if(Array.isArray(e))for(var r=0;r<e.length&&!t.isPropagationStopped();r++)g(t,e[r],n[r]);else e&&g(t,e,n);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}function se(t){if(null!==t&&(oe=re(oe,t)),t=oe,oe=null,t){if(ie(t,ae),oe)throw Error(a(95));if(l)throw t=h,l=!1,h=null,t}}function ue(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}function ce(t){if(!A)return!1;var e=(t="on"+t)in document;return e||((e=document.createElement("div")).setAttribute(t,"return;"),e="function"===typeof e[t]),e}var le=[];function he(t){t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,10>le.length&&le.push(t)}function fe(t,e,n,r){if(le.length){var i=le.pop();return i.topLevelType=t,i.eventSystemFlags=r,i.nativeEvent=e,i.targetInst=n,i}return{topLevelType:t,eventSystemFlags:r,nativeEvent:e,targetInst:n,ancestors:[]}}function pe(t){var e=t.targetInst,n=e;do{if(!n){t.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(e=n.tag)&&6!==e||t.ancestors.push(n),n=An(r)}while(n);for(n=0;n<t.ancestors.length;n++){e=t.ancestors[n];var i=ue(t.nativeEvent);r=t.topLevelType;var o=t.nativeEvent,a=t.eventSystemFlags;0===n&&(a|=64);for(var s=null,u=0;u<E.length;u++){var c=E[u];c&&(c=c.extractEvents(r,e,o,i,a))&&(s=re(s,c))}se(s)}}function de(t,e,n){if(!n.has(t)){switch(t){case"scroll":Qe(e,"scroll",!0);break;case"focus":case"blur":Qe(e,"focus",!0),Qe(e,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":ce(t)&&Qe(e,t,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Xt.indexOf(t)&&Ke(t,e)}n.set(t,null)}}var ve,ye,ge,me=!1,be=[],we=null,_e=null,Ee=null,Ie=new Map,Te=new Map,Se=[],Ce="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Ae="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function ke(t,e,n,r,i){return{blockedOn:t,topLevelType:e,eventSystemFlags:32|n,nativeEvent:i,container:r}}function Ne(t,e){switch(t){case"focus":case"blur":we=null;break;case"dragenter":case"dragleave":_e=null;break;case"mouseover":case"mouseout":Ee=null;break;case"pointerover":case"pointerout":Ie.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Te.delete(e.pointerId)}}function Oe(t,e,n,r,i,o){return null===t||t.nativeEvent!==o?(t=ke(e,n,r,i,o),null!==e&&(null!==(e=kn(e))&&ye(e)),t):(t.eventSystemFlags|=r,t)}function xe(t){var e=An(t.target);if(null!==e){var n=Zt(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=te(n)))return t.blockedOn=e,void o.unstable_runWithPriority(t.priority,(function(){ge(n)}))}else if(3===e&&n.stateNode.hydrate)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function Pe(t){if(null!==t.blockedOn)return!1;var e=Je(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);if(null!==e){var n=kn(e);return null!==n&&ye(n),t.blockedOn=e,!1}return!0}function Re(t,e,n){Pe(t)&&n.delete(e)}function De(){for(me=!1;0<be.length;){var t=be[0];if(null!==t.blockedOn){null!==(t=kn(t.blockedOn))&&ve(t);break}var e=Je(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);null!==e?t.blockedOn=e:be.shift()}null!==we&&Pe(we)&&(we=null),null!==_e&&Pe(_e)&&(_e=null),null!==Ee&&Pe(Ee)&&(Ee=null),Ie.forEach(Re),Te.forEach(Re)}function Le(t,e){t.blockedOn===e&&(t.blockedOn=null,me||(me=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,De)))}function Me(t){function e(e){return Le(e,t)}if(0<be.length){Le(be[0],t);for(var n=1;n<be.length;n++){var r=be[n];r.blockedOn===t&&(r.blockedOn=null)}}for(null!==we&&Le(we,t),null!==_e&&Le(_e,t),null!==Ee&&Le(Ee,t),Ie.forEach(e),Te.forEach(e),n=0;n<Se.length;n++)(r=Se[n]).blockedOn===t&&(r.blockedOn=null);for(;0<Se.length&&null===(n=Se[0]).blockedOn;)xe(n),null===n.blockedOn&&Se.shift()}var Fe={},Ue=new Map,je=new Map,Ve=["abort","abort",Ht,"animationEnd",Kt,"animationIteration",Qt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Yt,"transitionEnd","waiting","waiting"];function qe(t,e){for(var n=0;n<t.length;n+=2){var r=t[n],i=t[n+1],o="on"+(i[0].toUpperCase()+i.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[r],eventPriority:e},je.set(r,e),Ue.set(r,o),Fe[i]=o}}qe("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),qe("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),qe(Ve,2);for(var Be="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),ze=0;ze<Be.length;ze++)je.set(Be[ze],0);var Ge=o.unstable_UserBlockingPriority,We=o.unstable_runWithPriority,He=!0;function Ke(t,e){Qe(e,t,!1)}function Qe(t,e,n){var r=je.get(e);switch(void 0===r?2:r){case 0:r=Ye.bind(null,e,1,t);break;case 1:r=Xe.bind(null,e,1,t);break;default:r=$e.bind(null,e,1,t)}n?t.addEventListener(e,r,!0):t.addEventListener(e,r,!1)}function Ye(t,e,n,r){U||M();var i=$e,o=U;U=!0;try{L(i,t,e,n,r)}finally{(U=o)||V()}}function Xe(t,e,n,r){We(Ge,$e.bind(null,t,e,n,r))}function $e(t,e,n,r){if(He)if(0<be.length&&-1<Ce.indexOf(t))t=ke(null,t,e,n,r),be.push(t);else{var i=Je(t,e,n,r);if(null===i)Ne(t,r);else if(-1<Ce.indexOf(t))t=ke(i,t,e,n,r),be.push(t);else if(!function(t,e,n,r,i){switch(e){case"focus":return we=Oe(we,t,e,n,r,i),!0;case"dragenter":return _e=Oe(_e,t,e,n,r,i),!0;case"mouseover":return Ee=Oe(Ee,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ie.set(o,Oe(Ie.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Te.set(o,Oe(Te.get(o)||null,t,e,n,r,i)),!0}return!1}(i,t,e,n,r)){Ne(t,r),t=fe(t,r,null,e);try{q(pe,t)}finally{he(t)}}}}function Je(t,e,n,r){if(null!==(n=An(n=ue(r)))){var i=Zt(n);if(null===i)n=null;else{var o=i.tag;if(13===o){if(null!==(n=te(i)))return n;n=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}t=fe(t,r,n,e);try{q(pe,t)}finally{he(t)}return null}var Ze={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tn=["Webkit","ms","Moz","O"];function en(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||Ze.hasOwnProperty(t)&&Ze[t]?(""+e).trim():e+"px"}function nn(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=en(n,e[n],r);"float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}Object.keys(Ze).forEach((function(t){tn.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ze[e]=Ze[t]}))}));var rn=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function on(t,e){if(e){if(rn[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(a(137,t,""));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(a(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(a(62,""))}}function an(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sn=Dt;function un(t,e){var n=Jt(t=9===t.nodeType||11===t.nodeType?t:t.ownerDocument);e=S[e];for(var r=0;r<e.length;r++)de(e[r],t,n)}function cn(){}function ln(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function hn(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function fn(t,e){var n,r=hn(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=hn(r)}}function pn(){for(var t=window,e=ln();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(r){n=!1}if(!n)break;e=ln((t=e.contentWindow).document)}return e}function dn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var vn=null,yn=null;function gn(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function mn(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var bn="function"===typeof setTimeout?setTimeout:void 0,wn="function"===typeof clearTimeout?clearTimeout:void 0;function _n(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}function En(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var In=Math.random().toString(36).slice(2),Tn="__reactInternalInstance$"+In,Sn="__reactEventHandlers$"+In,Cn="__reactContainere$"+In;function An(t){var e=t[Tn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Cn]||n[Tn]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=En(t);null!==t;){if(n=t[Tn])return n;t=En(t)}return e}n=(t=n).parentNode}return null}function kn(t){return!(t=t[Tn]||t[Cn])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function Nn(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(a(33))}function On(t){return t[Sn]||null}function xn(t){do{t=t.return}while(t&&5!==t.tag);return t||null}function Pn(t,e){var n=t.stateNode;if(!n)return null;var r=d(n);if(!r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(a(231,e,typeof n));return n}function Rn(t,e,n){(e=Pn(t,n.dispatchConfig.phasedRegistrationNames[e]))&&(n._dispatchListeners=re(n._dispatchListeners,e),n._dispatchInstances=re(n._dispatchInstances,t))}function Dn(t){if(t&&t.dispatchConfig.phasedRegistrationNames){for(var e=t._targetInst,n=[];e;)n.push(e),e=xn(e);for(e=n.length;0<e--;)Rn(n[e],"captured",t);for(e=0;e<n.length;e++)Rn(n[e],"bubbled",t)}}function Ln(t,e,n){t&&n&&n.dispatchConfig.registrationName&&(e=Pn(t,n.dispatchConfig.registrationName))&&(n._dispatchListeners=re(n._dispatchListeners,e),n._dispatchInstances=re(n._dispatchInstances,t))}function Mn(t){t&&t.dispatchConfig.registrationName&&Ln(t._targetInst,null,t)}function Fn(t){ie(t,Dn)}var Un=null,jn=null,Vn=null;function qn(){if(Vn)return Vn;var t,e,n=jn,r=n.length,i="value"in Un?Un.value:Un.textContent,o=i.length;for(t=0;t<r&&n[t]===i[t];t++);var a=r-t;for(e=1;e<=a&&n[r-e]===i[o-e];e++);return Vn=i.slice(t,1<e?1-e:void 0)}function Bn(){return!0}function zn(){return!1}function Gn(t,e,n,r){for(var i in this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=n,t=this.constructor.Interface)t.hasOwnProperty(i)&&((e=t[i])?this[i]=e(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Bn:zn,this.isPropagationStopped=zn,this}function Wn(t,e,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,t,e,n,r),i}return new this(t,e,n,r)}function Hn(t){if(!(t instanceof this))throw Error(a(279));t.destructor(),10>this.eventPool.length&&this.eventPool.push(t)}function Kn(t){t.eventPool=[],t.getPooled=Wn,t.release=Hn}i(Gn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=Bn)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=Bn)},persist:function(){this.isPersistent=Bn},isPersistent:zn,destructor:function(){var t,e=this.constructor.Interface;for(t in e)this[t]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=zn,this._dispatchInstances=this._dispatchListeners=null}}),Gn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Gn.extend=function(t){function e(){}function n(){return r.apply(this,arguments)}var r=this;e.prototype=r.prototype;var o=new e;return i(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=i({},r.Interface,t),n.extend=r.extend,Kn(n),n},Kn(Gn);var Qn=Gn.extend({data:null}),Yn=Gn.extend({data:null}),Xn=[9,13,27,32],$n=A&&"CompositionEvent"in window,Jn=null;A&&"documentMode"in document&&(Jn=document.documentMode);var Zn=A&&"TextEvent"in window&&!Jn,tr=A&&(!$n||Jn&&8<Jn&&11>=Jn),er=String.fromCharCode(32),nr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},rr=!1;function ir(t,e){switch(t){case"keyup":return-1!==Xn.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function or(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var ar=!1;var sr={eventTypes:nr,extractEvents:function(t,e,n,r){var i;if($n)t:{switch(t){case"compositionstart":var o=nr.compositionStart;break t;case"compositionend":o=nr.compositionEnd;break t;case"compositionupdate":o=nr.compositionUpdate;break t}o=void 0}else ar?ir(t,n)&&(o=nr.compositionEnd):"keydown"===t&&229===n.keyCode&&(o=nr.compositionStart);return o?(tr&&"ko"!==n.locale&&(ar||o!==nr.compositionStart?o===nr.compositionEnd&&ar&&(i=qn()):(jn="value"in(Un=r)?Un.value:Un.textContent,ar=!0)),o=Qn.getPooled(o,e,n,r),i?o.data=i:null!==(i=or(n))&&(o.data=i),Fn(o),i=o):i=null,(t=Zn?function(t,e){switch(t){case"compositionend":return or(e);case"keypress":return 32!==e.which?null:(rr=!0,er);case"textInput":return(t=e.data)===er&&rr?null:t;default:return null}}(t,n):function(t,e){if(ar)return"compositionend"===t||!$n&&ir(t,e)?(t=qn(),Vn=jn=Un=null,ar=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return tr&&"ko"!==e.locale?null:e.data;default:return null}}(t,n))?((e=Yn.getPooled(nr.beforeInput,e,n,r)).data=t,Fn(e)):e=null,null===i?e:null===e?i:[i,e]}},ur={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!ur[t.type]:"textarea"===e}var lr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function hr(t,e,n){return(t=Gn.getPooled(lr.change,t,e,n)).type="change",P(n),Fn(t),t}var fr=null,pr=null;function dr(t){se(t)}function vr(t){if(_t(Nn(t)))return t}function yr(t,e){if("change"===t)return e}var gr=!1;function mr(){fr&&(fr.detachEvent("onpropertychange",br),pr=fr=null)}function br(t){if("value"===t.propertyName&&vr(pr))if(t=hr(pr,t,ue(t)),U)se(t);else{U=!0;try{D(dr,t)}finally{U=!1,V()}}}function wr(t,e,n){"focus"===t?(mr(),pr=n,(fr=e).attachEvent("onpropertychange",br)):"blur"===t&&mr()}function _r(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return vr(pr)}function Er(t,e){if("click"===t)return vr(e)}function Ir(t,e){if("input"===t||"change"===t)return vr(e)}A&&(gr=ce("input")&&(!document.documentMode||9<document.documentMode));var Tr={eventTypes:lr,_isInputEventSupported:gr,extractEvents:function(t,e,n,r){var i=e?Nn(e):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var a=yr;else if(cr(i))if(gr)a=Ir;else{a=_r;var s=wr}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(a=Er);if(a&&(a=a(t,e)))return hr(a,n,r);s&&s(t,i,e),"blur"===t&&(t=i._wrapperState)&&t.controlled&&"number"===i.type&&At(i,"number",i.value)}},Sr=Gn.extend({view:null,detail:null}),Cr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ar(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Cr[t])&&!!e[t]}function kr(){return Ar}var Nr=0,Or=0,xr=!1,Pr=!1,Rr=Sr.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:kr,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},movementX:function(t){if("movementX"in t)return t.movementX;var e=Nr;return Nr=t.screenX,xr?"mousemove"===t.type?t.screenX-e:0:(xr=!0,0)},movementY:function(t){if("movementY"in t)return t.movementY;var e=Or;return Or=t.screenY,Pr?"mousemove"===t.type?t.screenY-e:0:(Pr=!0,0)}}),Dr=Rr.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Lr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Mr={eventTypes:Lr,extractEvents:function(t,e,n,r,i){var o="mouseover"===t||"pointerover"===t,a="mouseout"===t||"pointerout"===t;if(o&&0===(32&i)&&(n.relatedTarget||n.fromElement)||!a&&!o)return null;(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,a)?(a=e,null!==(e=(e=n.relatedTarget||n.toElement)?An(e):null)&&(e!==Zt(e)||5!==e.tag&&6!==e.tag)&&(e=null)):a=null;if(a===e)return null;if("mouseout"===t||"mouseover"===t)var s=Rr,u=Lr.mouseLeave,c=Lr.mouseEnter,l="mouse";else"pointerout"!==t&&"pointerover"!==t||(s=Dr,u=Lr.pointerLeave,c=Lr.pointerEnter,l="pointer");if(t=null==a?o:Nn(a),o=null==e?o:Nn(e),(u=s.getPooled(u,a,n,r)).type=l+"leave",u.target=t,u.relatedTarget=o,(n=s.getPooled(c,e,n,r)).type=l+"enter",n.target=o,n.relatedTarget=t,l=e,(r=a)&&l)t:{for(c=l,a=0,t=s=r;t;t=xn(t))a++;for(t=0,e=c;e;e=xn(e))t++;for(;0<a-t;)s=xn(s),a--;for(;0<t-a;)c=xn(c),t--;for(;a--;){if(s===c||s===c.alternate)break t;s=xn(s),c=xn(c)}s=null}else s=null;for(c=s,s=[];r&&r!==c&&(null===(a=r.alternate)||a!==c);)s.push(r),r=xn(r);for(r=[];l&&l!==c&&(null===(a=l.alternate)||a!==c);)r.push(l),l=xn(l);for(l=0;l<s.length;l++)Ln(s[l],"bubbled",u);for(l=r.length;0<l--;)Ln(r[l],"captured",n);return 0===(64&i)?[u]:[u,n]}};var Fr="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e},Ur=Object.prototype.hasOwnProperty;function jr(t,e){if(Fr(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Ur.call(e,n[r])||!Fr(t[n[r]],e[n[r]]))return!1;return!0}var Vr=A&&"documentMode"in document&&11>=document.documentMode,qr={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Br=null,zr=null,Gr=null,Wr=!1;function Hr(t,e){var n=e.window===e?e.document:9===e.nodeType?e:e.ownerDocument;return Wr||null==Br||Br!==ln(n)?null:("selectionStart"in(n=Br)&&dn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Gr&&jr(Gr,n)?null:(Gr=n,(t=Gn.getPooled(qr.select,zr,t,e)).type="select",t.target=Br,Fn(t),t))}var Kr={eventTypes:qr,extractEvents:function(t,e,n,r,i,o){if(!(o=!(i=o||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){t:{i=Jt(i),o=S.onSelect;for(var a=0;a<o.length;a++)if(!i.has(o[a])){i=!1;break t}i=!0}o=!i}if(o)return null;switch(i=e?Nn(e):window,t){case"focus":(cr(i)||"true"===i.contentEditable)&&(Br=i,zr=e,Gr=null);break;case"blur":Gr=zr=Br=null;break;case"mousedown":Wr=!0;break;case"contextmenu":case"mouseup":case"dragend":return Wr=!1,Hr(n,r);case"selectionchange":if(Vr)break;case"keydown":case"keyup":return Hr(n,r)}return null}},Qr=Gn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Yr=Gn.extend({clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Xr=Sr.extend({relatedTarget:null});function $r(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}var Jr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ti=Sr.extend({key:function(t){if(t.key){var e=Jr[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=$r(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?Zr[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:kr,charCode:function(t){return"keypress"===t.type?$r(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?$r(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),ei=Rr.extend({dataTransfer:null}),ni=Sr.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:kr}),ri=Gn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ii=Rr.extend({deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null}),oi={eventTypes:Fe,extractEvents:function(t,e,n,r){var i=Ue.get(t);if(!i)return null;switch(t){case"keypress":if(0===$r(n))return null;case"keydown":case"keyup":t=ti;break;case"blur":case"focus":t=Xr;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":t=Rr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":t=ei;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":t=ni;break;case Ht:case Kt:case Qt:t=Qr;break;case Yt:t=ri;break;case"scroll":t=Sr;break;case"wheel":t=ii;break;case"copy":case"cut":case"paste":t=Yr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":t=Dr;break;default:t=Gn}return Fn(e=t.getPooled(i,e,n,r)),e}};if(m)throw Error(a(101));m=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),w(),d=On,v=kn,y=Nn,C({SimpleEventPlugin:oi,EnterLeaveEventPlugin:Mr,ChangeEventPlugin:Tr,SelectEventPlugin:Kr,BeforeInputEventPlugin:sr});var ai=[],si=-1;function ui(t){0>si||(t.current=ai[si],ai[si]=null,si--)}function ci(t,e){si++,ai[si]=t.current,t.current=e}var li={},hi={current:li},fi={current:!1},pi=li;function di(t,e){var n=t.type.contextTypes;if(!n)return li;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=e[i];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function vi(t){return null!==(t=t.childContextTypes)&&void 0!==t}function yi(){ui(fi),ui(hi)}function gi(t,e,n){if(hi.current!==li)throw Error(a(168));ci(hi,e),ci(fi,n)}function mi(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(a(108,yt(e)||"Unknown",o));return i({},n,{},r)}function bi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||li,pi=hi.current,ci(hi,t),ci(fi,fi.current),!0}function wi(t,e,n){var r=t.stateNode;if(!r)throw Error(a(169));n?(t=mi(t,e,pi),r.__reactInternalMemoizedMergedChildContext=t,ui(fi),ui(hi),ci(hi,t)):ui(fi),ci(fi,n)}var _i=o.unstable_runWithPriority,Ei=o.unstable_scheduleCallback,Ii=o.unstable_cancelCallback,Ti=o.unstable_requestPaint,Si=o.unstable_now,Ci=o.unstable_getCurrentPriorityLevel,Ai=o.unstable_ImmediatePriority,ki=o.unstable_UserBlockingPriority,Ni=o.unstable_NormalPriority,Oi=o.unstable_LowPriority,xi=o.unstable_IdlePriority,Pi={},Ri=o.unstable_shouldYield,Di=void 0!==Ti?Ti:function(){},Li=null,Mi=null,Fi=!1,Ui=Si(),ji=1e4>Ui?Si:function(){return Si()-Ui};function Vi(){switch(Ci()){case Ai:return 99;case ki:return 98;case Ni:return 97;case Oi:return 96;case xi:return 95;default:throw Error(a(332))}}function qi(t){switch(t){case 99:return Ai;case 98:return ki;case 97:return Ni;case 96:return Oi;case 95:return xi;default:throw Error(a(332))}}function Bi(t,e){return t=qi(t),_i(t,e)}function zi(t,e,n){return t=qi(t),Ei(t,e,n)}function Gi(t){return null===Li?(Li=[t],Mi=Ei(Ai,Hi)):Li.push(t),Pi}function Wi(){if(null!==Mi){var t=Mi;Mi=null,Ii(t)}Hi()}function Hi(){if(!Fi&&null!==Li){Fi=!0;var t=0;try{var e=Li;Bi(99,(function(){for(;t<e.length;t++){var n=e[t];do{n=n(!0)}while(null!==n)}})),Li=null}catch(n){throw null!==Li&&(Li=Li.slice(t+1)),Ei(Ai,Wi),n}finally{Fi=!1}}}function Ki(t,e,n){return 1073741821-(1+((1073741821-t+e/10)/(n/=10)|0))*n}function Qi(t,e){if(t&&t.defaultProps)for(var n in e=i({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}var Yi={current:null},Xi=null,$i=null,Ji=null;function Zi(){Ji=$i=Xi=null}function to(t){var e=Yi.current;ui(Yi),t.type._context._currentValue=e}function eo(t,e){for(;null!==t;){var n=t.alternate;if(t.childExpirationTime<e)t.childExpirationTime=e,null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e);else{if(!(null!==n&&n.childExpirationTime<e))break;n.childExpirationTime=e}t=t.return}}function no(t,e){Xi=t,Ji=$i=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(t.expirationTime>=e&&(Oa=!0),t.firstContext=null)}function ro(t,e){if(Ji!==t&&!1!==e&&0!==e)if("number"===typeof e&&1073741823!==e||(Ji=t,e=1073741823),e={context:t,observedBits:e,next:null},null===$i){if(null===Xi)throw Error(a(308));$i=e,Xi.dependencies={expirationTime:0,firstContext:e,responders:null}}else $i=$i.next=e;return t._currentValue}var io=!1;function oo(t){t.updateQueue={baseState:t.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function ao(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,baseQueue:t.baseQueue,shared:t.shared,effects:t.effects})}function so(t,e){return(t={expirationTime:t,suspenseConfig:e,tag:0,payload:null,callback:null,next:null}).next=t}function uo(t,e){if(null!==(t=t.updateQueue)){var n=(t=t.shared).pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function co(t,e){var n=t.alternate;null!==n&&ao(n,t),null===(n=(t=t.updateQueue).baseQueue)?(t.baseQueue=e.next=e,e.next=e):(e.next=n.next,n.next=e)}function lo(t,e,n,r){var o=t.updateQueue;io=!1;var a=o.baseQueue,s=o.shared.pending;if(null!==s){if(null!==a){var u=a.next;a.next=s.next,s.next=u}a=s,o.shared.pending=null,null!==(u=t.alternate)&&(null!==(u=u.updateQueue)&&(u.baseQueue=s))}if(null!==a){u=a.next;var c=o.baseState,l=0,h=null,f=null,p=null;if(null!==u)for(var d=u;;){if((s=d.expirationTime)<r){var v={expirationTime:d.expirationTime,suspenseConfig:d.suspenseConfig,tag:d.tag,payload:d.payload,callback:d.callback,next:null};null===p?(f=p=v,h=c):p=p.next=v,s>l&&(l=s)}else{null!==p&&(p=p.next={expirationTime:1073741823,suspenseConfig:d.suspenseConfig,tag:d.tag,payload:d.payload,callback:d.callback,next:null}),ou(s,d.suspenseConfig);t:{var y=t,g=d;switch(s=e,v=n,g.tag){case 1:if("function"===typeof(y=g.payload)){c=y.call(v,c,s);break t}c=y;break t;case 3:y.effectTag=-4097&y.effectTag|64;case 0:if(null===(s="function"===typeof(y=g.payload)?y.call(v,c,s):y)||void 0===s)break t;c=i({},c,s);break t;case 2:io=!0}}null!==d.callback&&(t.effectTag|=32,null===(s=o.effects)?o.effects=[d]:s.push(d))}if(null===(d=d.next)||d===u){if(null===(s=o.shared.pending))break;d=a.next=s.next,s.next=u,o.baseQueue=a=s,o.shared.pending=null}}null===p?h=c:p.next=f,o.baseState=h,o.baseQueue=p,au(l),t.expirationTime=l,t.memoizedState=c}}function ho(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!==typeof r)throw Error(a(191,r));r.call(i)}}}var fo=X.ReactCurrentBatchConfig,po=(new r.Component).refs;function vo(t,e,n,r){n=null===(n=n(r,e=t.memoizedState))||void 0===n?e:i({},e,n),t.memoizedState=n,0===t.expirationTime&&(t.updateQueue.baseState=n)}var yo={isMounted:function(t){return!!(t=t._reactInternalFiber)&&Zt(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternalFiber;var r=Hs(),i=fo.suspense;(i=so(r=Ks(r,t,i),i)).payload=e,void 0!==n&&null!==n&&(i.callback=n),uo(t,i),Qs(t,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternalFiber;var r=Hs(),i=fo.suspense;(i=so(r=Ks(r,t,i),i)).tag=1,i.payload=e,void 0!==n&&null!==n&&(i.callback=n),uo(t,i),Qs(t,r)},enqueueForceUpdate:function(t,e){t=t._reactInternalFiber;var n=Hs(),r=fo.suspense;(r=so(n=Ks(n,t,r),r)).tag=2,void 0!==e&&null!==e&&(r.callback=e),uo(t,r),Qs(t,n)}};function go(t,e,n,r,i,o,a){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,o,a):!e.prototype||!e.prototype.isPureReactComponent||(!jr(n,r)||!jr(i,o))}function mo(t,e,n){var r=!1,i=li,o=e.contextType;return"object"===typeof o&&null!==o?o=ro(o):(i=vi(e)?pi:hi.current,o=(r=null!==(r=e.contextTypes)&&void 0!==r)?di(t,i):li),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=yo,t.stateNode=e,e._reactInternalFiber=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function bo(t,e,n,r){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&yo.enqueueReplaceState(e,e.state,null)}function wo(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=po,oo(t);var o=e.contextType;"object"===typeof o&&null!==o?i.context=ro(o):(o=vi(e)?pi:hi.current,i.context=di(t,o)),lo(t,n,i,r),i.state=t.memoizedState,"function"===typeof(o=e.getDerivedStateFromProps)&&(vo(t,e,o,n),i.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(e=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&yo.enqueueReplaceState(i,i.state,null),lo(t,n,i,r),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.effectTag|=4)}var _o=Array.isArray;function Eo(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,t));var i=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===i?e.ref:((e=function(t){var e=r.refs;e===po&&(e=r.refs={}),null===t?delete e[i]:e[i]=t})._stringRef=i,e)}if("string"!==typeof t)throw Error(a(284));if(!n._owner)throw Error(a(290,t))}return t}function Io(t,e){if("textarea"!==t.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e,""))}function To(t){function e(e,n){if(t){var r=e.lastEffect;null!==r?(r.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e){return(t=Cu(t,e)).index=0,t.sibling=null,t}function o(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.effectTag=2,n):r:(e.effectTag=2,n):n}function s(e){return t&&null===e.alternate&&(e.effectTag=2),e}function u(t,e,n,r){return null===e||6!==e.tag?((e=Nu(n,t.mode,r)).return=t,e):((e=i(e,n)).return=t,e)}function c(t,e,n,r){return null!==e&&e.elementType===n.type?((r=i(e,n.props)).ref=Eo(t,e,n),r.return=t,r):((r=Au(n.type,n.key,n.props,null,t.mode,r)).ref=Eo(t,e,n),r.return=t,r)}function l(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Ou(n,t.mode,r)).return=t,e):((e=i(e,n.children||[])).return=t,e)}function h(t,e,n,r,o){return null===e||7!==e.tag?((e=ku(n,t.mode,r,o)).return=t,e):((e=i(e,n)).return=t,e)}function f(t,e,n){if("string"===typeof e||"number"===typeof e)return(e=Nu(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case tt:return(n=Au(e.type,e.key,e.props,null,t.mode,n)).ref=Eo(t,null,e),n.return=t,n;case et:return(e=Ou(e,t.mode,n)).return=t,e}if(_o(e)||vt(e))return(e=ku(e,t.mode,n,null)).return=t,e;Io(t,e)}return null}function p(t,e,n,r){var i=null!==e?e.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(t,e,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case tt:return n.key===i?n.type===nt?h(t,e,n.props.children,r,i):c(t,e,n,r):null;case et:return n.key===i?l(t,e,n,r):null}if(_o(n)||vt(n))return null!==i?null:h(t,e,n,r,null);Io(t,n)}return null}function d(t,e,n,r,i){if("string"===typeof r||"number"===typeof r)return u(e,t=t.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case tt:return t=t.get(null===r.key?n:r.key)||null,r.type===nt?h(e,t,r.props.children,i,r.key):c(e,t,r,i);case et:return l(e,t=t.get(null===r.key?n:r.key)||null,r,i)}if(_o(r)||vt(r))return h(e,t=t.get(n)||null,r,i,null);Io(e,r)}return null}function v(i,a,s,u){for(var c=null,l=null,h=a,v=a=0,y=null;null!==h&&v<s.length;v++){h.index>v?(y=h,h=null):y=h.sibling;var g=p(i,h,s[v],u);if(null===g){null===h&&(h=y);break}t&&h&&null===g.alternate&&e(i,h),a=o(g,a,v),null===l?c=g:l.sibling=g,l=g,h=y}if(v===s.length)return n(i,h),c;if(null===h){for(;v<s.length;v++)null!==(h=f(i,s[v],u))&&(a=o(h,a,v),null===l?c=h:l.sibling=h,l=h);return c}for(h=r(i,h);v<s.length;v++)null!==(y=d(h,i,v,s[v],u))&&(t&&null!==y.alternate&&h.delete(null===y.key?v:y.key),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y);return t&&h.forEach((function(t){return e(i,t)})),c}function y(i,s,u,c){var l=vt(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var h=l=null,v=s,y=s=0,g=null,m=u.next();null!==v&&!m.done;y++,m=u.next()){v.index>y?(g=v,v=null):g=v.sibling;var b=p(i,v,m.value,c);if(null===b){null===v&&(v=g);break}t&&v&&null===b.alternate&&e(i,v),s=o(b,s,y),null===h?l=b:h.sibling=b,h=b,v=g}if(m.done)return n(i,v),l;if(null===v){for(;!m.done;y++,m=u.next())null!==(m=f(i,m.value,c))&&(s=o(m,s,y),null===h?l=m:h.sibling=m,h=m);return l}for(v=r(i,v);!m.done;y++,m=u.next())null!==(m=d(v,i,y,m.value,c))&&(t&&null!==m.alternate&&v.delete(null===m.key?y:m.key),s=o(m,s,y),null===h?l=m:h.sibling=m,h=m);return t&&v.forEach((function(t){return e(i,t)})),l}return function(t,r,o,u){var c="object"===typeof o&&null!==o&&o.type===nt&&null===o.key;c&&(o=o.props.children);var l="object"===typeof o&&null!==o;if(l)switch(o.$$typeof){case tt:t:{for(l=o.key,c=r;null!==c;){if(c.key===l){switch(c.tag){case 7:if(o.type===nt){n(t,c.sibling),(r=i(c,o.props.children)).return=t,t=r;break t}break;default:if(c.elementType===o.type){n(t,c.sibling),(r=i(c,o.props)).ref=Eo(t,c,o),r.return=t,t=r;break t}}n(t,c);break}e(t,c),c=c.sibling}o.type===nt?((r=ku(o.props.children,t.mode,u,o.key)).return=t,t=r):((u=Au(o.type,o.key,o.props,null,t.mode,u)).ref=Eo(t,r,o),u.return=t,t=u)}return s(t);case et:t:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(t,r.sibling),(r=i(r,o.children||[])).return=t,t=r;break t}n(t,r);break}e(t,r),r=r.sibling}(r=Ou(o,t.mode,u)).return=t,t=r}return s(t)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(t,r.sibling),(r=i(r,o)).return=t,t=r):(n(t,r),(r=Nu(o,t.mode,u)).return=t,t=r),s(t);if(_o(o))return v(t,r,o,u);if(vt(o))return y(t,r,o,u);if(l&&Io(t,o),"undefined"===typeof o&&!c)switch(t.tag){case 1:case 0:throw t=t.type,Error(a(152,t.displayName||t.name||"Component"))}return n(t,r)}}var So=To(!0),Co=To(!1),Ao={},ko={current:Ao},No={current:Ao},Oo={current:Ao};function xo(t){if(t===Ao)throw Error(a(174));return t}function Po(t,e){switch(ci(Oo,e),ci(No,t),ci(ko,Ao),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ft(null,"");break;default:e=Ft(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}ui(ko),ci(ko,e)}function Ro(){ui(ko),ui(No),ui(Oo)}function Do(t){xo(Oo.current);var e=xo(ko.current),n=Ft(e,t.type);e!==n&&(ci(No,t),ci(ko,n))}function Lo(t){No.current===t&&(ui(ko),ui(No))}var Mo={current:0};function Fo(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(64&e.effectTag))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function Uo(t,e){return{responder:t,props:e}}var jo=X.ReactCurrentDispatcher,Vo=X.ReactCurrentBatchConfig,qo=0,Bo=null,zo=null,Go=null,Wo=!1;function Ho(){throw Error(a(321))}function Ko(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Fr(t[n],e[n]))return!1;return!0}function Qo(t,e,n,r,i,o){if(qo=o,Bo=e,e.memoizedState=null,e.updateQueue=null,e.expirationTime=0,jo.current=null===t||null===t.memoizedState?ga:ma,t=n(r,i),e.expirationTime===qo){o=0;do{if(e.expirationTime=0,!(25>o))throw Error(a(301));o+=1,Go=zo=null,e.updateQueue=null,jo.current=ba,t=n(r,i)}while(e.expirationTime===qo)}if(jo.current=ya,e=null!==zo&&null!==zo.next,qo=0,Go=zo=Bo=null,Wo=!1,e)throw Error(a(300));return t}function Yo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Go?Bo.memoizedState=Go=t:Go=Go.next=t,Go}function Xo(){if(null===zo){var t=Bo.alternate;t=null!==t?t.memoizedState:null}else t=zo.next;var e=null===Go?Bo.memoizedState:Go.next;if(null!==e)Go=e,zo=t;else{if(null===t)throw Error(a(310));t={memoizedState:(zo=t).memoizedState,baseState:zo.baseState,baseQueue:zo.baseQueue,queue:zo.queue,next:null},null===Go?Bo.memoizedState=Go=t:Go=Go.next=t}return Go}function $o(t,e){return"function"===typeof e?e(t):e}function Jo(t){var e=Xo(),n=e.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=t;var r=zo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=o=null,c=i;do{var l=c.expirationTime;if(l<qo){var h={expirationTime:c.expirationTime,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=h,o=r):u=u.next=h,l>Bo.expirationTime&&(Bo.expirationTime=l,au(l))}else null!==u&&(u=u.next={expirationTime:1073741823,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),ou(l,c.suspenseConfig),r=c.eagerReducer===t?c.eagerState:t(r,c.action);c=c.next}while(null!==c&&c!==i);null===u?o=r:u.next=s,Fr(r,e.memoizedState)||(Oa=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}return[e.memoizedState,n.dispatch]}function Zo(t){var e=Xo(),n=e.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=t(o,s.action),s=s.next}while(s!==i);Fr(o,e.memoizedState)||(Oa=!0),e.memoizedState=o,null===e.baseQueue&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function ta(t){var e=Yo();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={pending:null,dispatch:null,lastRenderedReducer:$o,lastRenderedState:t}).dispatch=va.bind(null,Bo,t),[e.memoizedState,t]}function ea(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},null===(e=Bo.updateQueue)?(e={lastEffect:null},Bo.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function na(){return Xo().memoizedState}function ra(t,e,n,r){var i=Yo();Bo.effectTag|=t,i.memoizedState=ea(1|e,n,void 0,void 0===r?null:r)}function ia(t,e,n,r){var i=Xo();r=void 0===r?null:r;var o=void 0;if(null!==zo){var a=zo.memoizedState;if(o=a.destroy,null!==r&&Ko(r,a.deps))return void ea(e,n,o,r)}Bo.effectTag|=t,i.memoizedState=ea(1|e,n,o,r)}function oa(t,e){return ra(516,4,t,e)}function aa(t,e){return ia(516,4,t,e)}function sa(t,e){return ia(4,2,t,e)}function ua(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function ca(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,ia(4,2,ua.bind(null,e,t),n)}function la(){}function ha(t,e){return Yo().memoizedState=[t,void 0===e?null:e],t}function fa(t,e){var n=Xo();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&Ko(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function pa(t,e){var n=Xo();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&Ko(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function da(t,e,n){var r=Vi();Bi(98>r?98:r,(function(){t(!0)})),Bi(97<r?97:r,(function(){var r=Vo.suspense;Vo.suspense=void 0===e?null:e;try{t(!1),n()}finally{Vo.suspense=r}}))}function va(t,e,n){var r=Hs(),i=fo.suspense;i={expirationTime:r=Ks(r,t,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var o=e.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),e.pending=i,o=t.alternate,t===Bo||null!==o&&o===Bo)Wo=!0,i.expirationTime=qo,Bo.expirationTime=qo;else{if(0===t.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=e.lastRenderedReducer))try{var a=e.lastRenderedState,s=o(a,n);if(i.eagerReducer=o,i.eagerState=s,Fr(s,a))return}catch(u){}Qs(t,r)}}var ya={readContext:ro,useCallback:Ho,useContext:Ho,useEffect:Ho,useImperativeHandle:Ho,useLayoutEffect:Ho,useMemo:Ho,useReducer:Ho,useRef:Ho,useState:Ho,useDebugValue:Ho,useResponder:Ho,useDeferredValue:Ho,useTransition:Ho},ga={readContext:ro,useCallback:ha,useContext:ro,useEffect:oa,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,ra(4,2,ua.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ra(4,2,t,e)},useMemo:function(t,e){var n=Yo();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Yo();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t=(t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=va.bind(null,Bo,t),[r.memoizedState,t]},useRef:function(t){return t={current:t},Yo().memoizedState=t},useState:ta,useDebugValue:la,useResponder:Uo,useDeferredValue:function(t,e){var n=ta(t),r=n[0],i=n[1];return oa((function(){var n=Vo.suspense;Vo.suspense=void 0===e?null:e;try{i(t)}finally{Vo.suspense=n}}),[t,e]),r},useTransition:function(t){var e=ta(!1),n=e[0];return e=e[1],[ha(da.bind(null,e,t),[e,t]),n]}},ma={readContext:ro,useCallback:fa,useContext:ro,useEffect:aa,useImperativeHandle:ca,useLayoutEffect:sa,useMemo:pa,useReducer:Jo,useRef:na,useState:function(){return Jo($o)},useDebugValue:la,useResponder:Uo,useDeferredValue:function(t,e){var n=Jo($o),r=n[0],i=n[1];return aa((function(){var n=Vo.suspense;Vo.suspense=void 0===e?null:e;try{i(t)}finally{Vo.suspense=n}}),[t,e]),r},useTransition:function(t){var e=Jo($o),n=e[0];return e=e[1],[fa(da.bind(null,e,t),[e,t]),n]}},ba={readContext:ro,useCallback:fa,useContext:ro,useEffect:aa,useImperativeHandle:ca,useLayoutEffect:sa,useMemo:pa,useReducer:Zo,useRef:na,useState:function(){return Zo($o)},useDebugValue:la,useResponder:Uo,useDeferredValue:function(t,e){var n=Zo($o),r=n[0],i=n[1];return aa((function(){var n=Vo.suspense;Vo.suspense=void 0===e?null:e;try{i(t)}finally{Vo.suspense=n}}),[t,e]),r},useTransition:function(t){var e=Zo($o),n=e[0];return e=e[1],[fa(da.bind(null,e,t),[e,t]),n]}},wa=null,_a=null,Ea=!1;function Ia(t,e){var n=Tu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.effectTag=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function Ta(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);case 13:default:return!1}}function Sa(t){if(Ea){var e=_a;if(e){var n=e;if(!Ta(t,e)){if(!(e=_n(n.nextSibling))||!Ta(t,e))return t.effectTag=-1025&t.effectTag|2,Ea=!1,void(wa=t);Ia(wa,n)}wa=t,_a=_n(e.firstChild)}else t.effectTag=-1025&t.effectTag|2,Ea=!1,wa=t}}function Ca(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;wa=t}function Aa(t){if(t!==wa)return!1;if(!Ea)return Ca(t),Ea=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!mn(e,t.memoizedProps))for(e=_a;e;)Ia(t,e),e=_n(e.nextSibling);if(Ca(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(a(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){_a=_n(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}_a=null}}else _a=wa?_n(t.stateNode.nextSibling):null;return!0}function ka(){_a=wa=null,Ea=!1}var Na=X.ReactCurrentOwner,Oa=!1;function xa(t,e,n,r){e.child=null===t?Co(e,null,n,r):So(e,t.child,n,r)}function Pa(t,e,n,r,i){n=n.render;var o=e.ref;return no(e,i),r=Qo(t,e,n,r,o,i),null===t||Oa?(e.effectTag|=1,xa(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=i&&(t.expirationTime=0),Qa(t,e,i))}function Ra(t,e,n,r,i,o){if(null===t){var a=n.type;return"function"!==typeof a||Su(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Au(n.type,null,r,null,e.mode,o)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=a,Da(t,e,a,r,i,o))}return a=t.child,i<o&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:jr)(i,r)&&t.ref===e.ref)?Qa(t,e,o):(e.effectTag|=1,(t=Cu(a,r)).ref=e.ref,t.return=e,e.child=t)}function Da(t,e,n,r,i,o){return null!==t&&jr(t.memoizedProps,r)&&t.ref===e.ref&&(Oa=!1,i<o)?(e.expirationTime=t.expirationTime,Qa(t,e,o)):Ma(t,e,n,r,o)}function La(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.effectTag|=128)}function Ma(t,e,n,r,i){var o=vi(n)?pi:hi.current;return o=di(e,o),no(e,i),n=Qo(t,e,n,r,o,i),null===t||Oa?(e.effectTag|=1,xa(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=i&&(t.expirationTime=0),Qa(t,e,i))}function Fa(t,e,n,r,i){if(vi(n)){var o=!0;bi(e)}else o=!1;if(no(e,i),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),mo(e,n,r),wo(e,n,r,i),r=!0;else if(null===t){var a=e.stateNode,s=e.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=ro(c):c=di(e,c=vi(n)?pi:hi.current);var l=n.getDerivedStateFromProps,h="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&bo(e,a,r,c),io=!1;var f=e.memoizedState;a.state=f,lo(e,r,a,i),u=e.memoizedState,s!==r||f!==u||fi.current||io?("function"===typeof l&&(vo(e,n,l,r),u=e.memoizedState),(s=io||go(e,n,s,r,f,u,c))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(e.effectTag|=4)):("function"===typeof a.componentDidMount&&(e.effectTag|=4),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(e.effectTag|=4),r=!1)}else a=e.stateNode,ao(t,e),s=e.memoizedProps,a.props=e.type===e.elementType?s:Qi(e.type,s),u=a.context,"object"===typeof(c=n.contextType)&&null!==c?c=ro(c):c=di(e,c=vi(n)?pi:hi.current),(h="function"===typeof(l=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&bo(e,a,r,c),io=!1,u=e.memoizedState,a.state=u,lo(e,r,a,i),f=e.memoizedState,s!==r||u!==f||fi.current||io?("function"===typeof l&&(vo(e,n,l,r),f=e.memoizedState),(l=io||go(e,n,s,r,u,f,c))?(h||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,c),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,c)),"function"===typeof a.componentDidUpdate&&(e.effectTag|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(e.effectTag|=256)):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=256),e.memoizedProps=r,e.memoizedState=f),a.props=r,a.state=f,a.context=c,r=l):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=256),r=!1);return Ua(t,e,n,r,o,i)}function Ua(t,e,n,r,i,o){La(t,e);var a=0!==(64&e.effectTag);if(!r&&!a)return i&&wi(e,n,!1),Qa(t,e,o);r=e.stateNode,Na.current=e;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return e.effectTag|=1,null!==t&&a?(e.child=So(e,t.child,null,o),e.child=So(e,null,s,o)):xa(t,e,s,o),e.memoizedState=r.state,i&&wi(e,n,!0),e.child}function ja(t){var e=t.stateNode;e.pendingContext?gi(0,e.pendingContext,e.pendingContext!==e.context):e.context&&gi(0,e.context,!1),Po(t,e.containerInfo)}var Va,qa,Ba,za={dehydrated:null,retryTime:0};function Ga(t,e,n){var r,i=e.mode,o=e.pendingProps,a=Mo.current,s=!1;if((r=0!==(64&e.effectTag))||(r=0!==(2&a)&&(null===t||null!==t.memoizedState)),r?(s=!0,e.effectTag&=-65):null!==t&&null===t.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),ci(Mo,1&a),null===t){if(void 0!==o.fallback&&Sa(e),s){if(s=o.fallback,(o=ku(null,i,0,null)).return=e,0===(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,o.child=t;null!==t;)t.return=o,t=t.sibling;return(n=ku(s,i,n,null)).return=e,o.sibling=n,e.memoizedState=za,e.child=o,n}return i=o.children,e.memoizedState=null,e.child=Co(e,null,i,n)}if(null!==t.memoizedState){if(i=(t=t.child).sibling,s){if(o=o.fallback,(n=Cu(t,t.pendingProps)).return=e,0===(2&e.mode)&&(s=null!==e.memoizedState?e.child.child:e.child)!==t.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(i=Cu(i,o)).return=e,n.sibling=i,n.childExpirationTime=0,e.memoizedState=za,e.child=n,i}return n=So(e,t.child,o.children,n),e.memoizedState=null,e.child=n}if(t=t.child,s){if(s=o.fallback,(o=ku(null,i,0,null)).return=e,o.child=t,null!==t&&(t.return=o),0===(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,o.child=t;null!==t;)t.return=o,t=t.sibling;return(n=ku(s,i,n,null)).return=e,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,e.memoizedState=za,e.child=o,n}return e.memoizedState=null,e.child=So(e,t,o.children,n)}function Wa(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e),eo(t.return,e)}function Ha(t,e,n,r,i,o){var a=t.memoizedState;null===a?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:o}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailExpiration=0,a.tailMode=i,a.lastEffect=o)}function Ka(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(xa(t,e,r.children,n),0!==(2&(r=Mo.current)))r=1&r|2,e.effectTag|=64;else{if(null!==t&&0!==(64&t.effectTag))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Wa(t,n);else if(19===t.tag)Wa(t,n);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ci(Mo,r),0===(2&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;null!==n;)null!==(t=n.alternate)&&null===Fo(t)&&(i=n),n=n.sibling;null===(n=i)?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ha(e,!1,i,n,o,e.lastEffect);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===Fo(t)){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ha(e,!0,n,null,o,e.lastEffect);break;case"together":Ha(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function Qa(t,e,n){null!==t&&(e.dependencies=t.dependencies);var r=e.expirationTime;if(0!==r&&au(r),e.childExpirationTime<n)return null;if(null!==t&&e.child!==t.child)throw Error(a(153));if(null!==e.child){for(n=Cu(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Cu(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function Ya(t,e){switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Xa(t,e,n){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return vi(e.type)&&yi(),null;case 3:return Ro(),ui(fi),ui(hi),(n=e.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==t&&null!==t.child||!Aa(e)||(e.effectTag|=4),null;case 5:Lo(e),n=xo(Oo.current);var o=e.type;if(null!==t&&null!=e.stateNode)qa(t,e,o,r,n),t.ref!==e.ref&&(e.effectTag|=128);else{if(!r){if(null===e.stateNode)throw Error(a(166));return null}if(t=xo(ko.current),Aa(e)){r=e.stateNode,o=e.type;var s=e.memoizedProps;switch(r[Tn]=e,r[Sn]=s,o){case"iframe":case"object":case"embed":Ke("load",r);break;case"video":case"audio":for(t=0;t<Xt.length;t++)Ke(Xt[t],r);break;case"source":Ke("error",r);break;case"img":case"image":case"link":Ke("error",r),Ke("load",r);break;case"form":Ke("reset",r),Ke("submit",r);break;case"details":Ke("toggle",r);break;case"input":It(r,s),Ke("invalid",r),un(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ke("invalid",r),un(n,"onChange");break;case"textarea":xt(r,s),Ke("invalid",r),un(n,"onChange")}for(var u in on(o,s),t=null,s)if(s.hasOwnProperty(u)){var c=s[u];"children"===u?"string"===typeof c?r.textContent!==c&&(t=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(t=["children",""+c]):T.hasOwnProperty(u)&&null!=c&&un(n,u)}switch(o){case"input":wt(r),Ct(r,s,!0);break;case"textarea":wt(r),Rt(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=cn)}n=t,e.updateQueue=n,null!==n&&(e.effectTag|=4)}else{switch(u=9===n.nodeType?n:n.ownerDocument,t===sn&&(t=Mt(o)),t===sn?"script"===o?((t=u.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof r.is?t=u.createElement(o,{is:r.is}):(t=u.createElement(o),"select"===o&&(u=t,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):t=u.createElementNS(t,o),t[Tn]=e,t[Sn]=r,Va(t,e),e.stateNode=t,u=an(o,r),o){case"iframe":case"object":case"embed":Ke("load",t),c=r;break;case"video":case"audio":for(c=0;c<Xt.length;c++)Ke(Xt[c],t);c=r;break;case"source":Ke("error",t),c=r;break;case"img":case"image":case"link":Ke("error",t),Ke("load",t),c=r;break;case"form":Ke("reset",t),Ke("submit",t),c=r;break;case"details":Ke("toggle",t),c=r;break;case"input":It(t,r),c=Et(t,r),Ke("invalid",t),un(n,"onChange");break;case"option":c=kt(t,r);break;case"select":t._wrapperState={wasMultiple:!!r.multiple},c=i({},r,{value:void 0}),Ke("invalid",t),un(n,"onChange");break;case"textarea":xt(t,r),c=Ot(t,r),Ke("invalid",t),un(n,"onChange");break;default:c=r}on(o,c);var l=c;for(s in l)if(l.hasOwnProperty(s)){var h=l[s];"style"===s?nn(t,h):"dangerouslySetInnerHTML"===s?null!=(h=h?h.__html:void 0)&&jt(t,h):"children"===s?"string"===typeof h?("textarea"!==o||""!==h)&&Vt(t,h):"number"===typeof h&&Vt(t,""+h):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(T.hasOwnProperty(s)?null!=h&&un(n,s):null!=h&&$(t,s,h,u))}switch(o){case"input":wt(t),Ct(t,r,!1);break;case"textarea":wt(t),Rt(t);break;case"option":null!=r.value&&t.setAttribute("value",""+mt(r.value));break;case"select":t.multiple=!!r.multiple,null!=(n=r.value)?Nt(t,!!r.multiple,n,!1):null!=r.defaultValue&&Nt(t,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof c.onClick&&(t.onclick=cn)}gn(o,r)&&(e.effectTag|=4)}null!==e.ref&&(e.effectTag|=128)}return null;case 6:if(t&&null!=e.stateNode)Ba(0,e,t.memoizedProps,r);else{if("string"!==typeof r&&null===e.stateNode)throw Error(a(166));n=xo(Oo.current),xo(ko.current),Aa(e)?(n=e.stateNode,r=e.memoizedProps,n[Tn]=e,n.nodeValue!==r&&(e.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Tn]=e,e.stateNode=n)}return null;case 13:return ui(Mo),r=e.memoizedState,0!==(64&e.effectTag)?(e.expirationTime=n,e):(n=null!==r,r=!1,null===t?void 0!==e.memoizedProps.fallback&&Aa(e):(r=null!==(o=t.memoizedState),n||null===o||null!==(o=t.child.sibling)&&(null!==(s=e.firstEffect)?(e.firstEffect=o,o.nextEffect=s):(e.firstEffect=e.lastEffect=o,o.nextEffect=null),o.effectTag=8)),n&&!r&&0!==(2&e.mode)&&(null===t&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!==(1&Mo.current)?As===ws&&(As=_s):(As!==ws&&As!==_s||(As=Es),0!==Ps&&null!==Ts&&(Ru(Ts,Cs),Du(Ts,Ps)))),(n||r)&&(e.effectTag|=4),null);case 4:return Ro(),null;case 10:return to(e),null;case 17:return vi(e.type)&&yi(),null;case 19:if(ui(Mo),null===(r=e.memoizedState))return null;if(o=0!==(64&e.effectTag),null===(s=r.rendering)){if(o)Ya(r,!1);else if(As!==ws||null!==t&&0!==(64&t.effectTag))for(s=e.child;null!==s;){if(null!==(t=Fo(s))){for(e.effectTag|=64,Ya(r,!1),null!==(o=t.updateQueue)&&(e.updateQueue=o,e.effectTag|=4),null===r.lastEffect&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=e.child;null!==r;)s=n,(o=r).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(t=o.alternate)?(o.childExpirationTime=0,o.expirationTime=s,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=t.childExpirationTime,o.expirationTime=t.expirationTime,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,s=t.dependencies,o.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),r=r.sibling;return ci(Mo,1&Mo.current|2),e.child}s=s.sibling}}else{if(!o)if(null!==(t=Fo(s))){if(e.effectTag|=64,o=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.effectTag|=4),Ya(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate)return null!==(e=e.lastEffect=r.lastEffect)&&(e.nextEffect=null),null}else 2*ji()-r.renderingStartTime>r.tailExpiration&&1<n&&(e.effectTag|=64,o=!0,Ya(r,!1),e.expirationTime=e.childExpirationTime=n-1);r.isBackwards?(s.sibling=e.child,e.child=s):(null!==(n=r.last)?n.sibling=s:e.child=s,r.last=s)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=ji()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=ji(),n.sibling=null,e=Mo.current,ci(Mo,o?1&e|2:1&e),n):null}throw Error(a(156,e.tag))}function $a(t){switch(t.tag){case 1:vi(t.type)&&yi();var e=t.effectTag;return 4096&e?(t.effectTag=-4097&e|64,t):null;case 3:if(Ro(),ui(fi),ui(hi),0!==(64&(e=t.effectTag)))throw Error(a(285));return t.effectTag=-4097&e|64,t;case 5:return Lo(t),null;case 13:return ui(Mo),4096&(e=t.effectTag)?(t.effectTag=-4097&e|64,t):null;case 19:return ui(Mo),null;case 4:return Ro(),null;case 10:return to(t),null;default:return null}}function Ja(t,e){return{value:t,source:e,stack:gt(e)}}Va=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},qa=function(t,e,n,r,o){var a=t.memoizedProps;if(a!==r){var s,u,c=e.stateNode;switch(xo(ko.current),t=null,n){case"input":a=Et(c,a),r=Et(c,r),t=[];break;case"option":a=kt(c,a),r=kt(c,r),t=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),t=[];break;case"textarea":a=Ot(c,a),r=Ot(c,r),t=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(c.onclick=cn)}for(s in on(n,r),n=null,a)if(!r.hasOwnProperty(s)&&a.hasOwnProperty(s)&&null!=a[s])if("style"===s)for(u in c=a[s])c.hasOwnProperty(u)&&(n||(n={}),n[u]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(T.hasOwnProperty(s)?t||(t=[]):(t=t||[]).push(s,null));for(s in r){var l=r[s];if(c=null!=a?a[s]:void 0,r.hasOwnProperty(s)&&l!==c&&(null!=l||null!=c))if("style"===s)if(c){for(u in c)!c.hasOwnProperty(u)||l&&l.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in l)l.hasOwnProperty(u)&&c[u]!==l[u]&&(n||(n={}),n[u]=l[u])}else n||(t||(t=[]),t.push(s,n)),n=l;else"dangerouslySetInnerHTML"===s?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(t=t||[]).push(s,l)):"children"===s?c===l||"string"!==typeof l&&"number"!==typeof l||(t=t||[]).push(s,""+l):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(T.hasOwnProperty(s)?(null!=l&&un(o,s),t||c===l||(t=[])):(t=t||[]).push(s,l))}n&&(t=t||[]).push("style",n),o=t,(e.updateQueue=o)&&(e.effectTag|=4)}},Ba=function(t,e,n,r){n!==r&&(e.effectTag|=4)};var Za="function"===typeof WeakSet?WeakSet:Set;function ts(t,e){var n=e.source,r=e.stack;null===r&&null!==n&&(r=gt(n)),null!==n&&yt(n.type),e=e.value,null!==t&&1===t.tag&&yt(t.type);try{console.error(e)}catch(i){setTimeout((function(){throw i}))}}function es(t){var e=t.ref;if(null!==e)if("function"===typeof e)try{e(null)}catch(n){mu(t,n)}else e.current=null}function ns(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&e.effectTag&&null!==t){var n=t.memoizedProps,r=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?n:Qi(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(a(163))}function rs(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==e)}}function is(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function os(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:return void is(3,n);case 1:if(t=n.stateNode,4&n.effectTag)if(null===e)t.componentDidMount();else{var r=n.elementType===n.type?e.memoizedProps:Qi(n.type,e.memoizedProps);t.componentDidUpdate(r,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate)}return void(null!==(e=n.updateQueue)&&ho(n,e,t));case 3:if(null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}ho(n,e,t)}return;case 5:return t=n.stateNode,void(null===e&&4&n.effectTag&&gn(n.type,n.memoizedProps)&&t.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Me(n)))));case 19:case 17:case 20:case 21:return}throw Error(a(163))}function as(t,e,n){switch("function"===typeof Eu&&Eu(e),e.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var r=t.next;Bi(97<n?97:n,(function(){var t=r;do{var n=t.destroy;if(void 0!==n){var i=e;try{n()}catch(o){mu(i,o)}}t=t.next}while(t!==r)}))}break;case 1:es(e),"function"===typeof(n=e.stateNode).componentWillUnmount&&function(t,e){try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(n){mu(t,n)}}(e,n);break;case 5:es(e);break;case 4:ls(t,e,n)}}function ss(t){var e=t.alternate;t.return=null,t.child=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.alternate=null,t.firstEffect=null,t.lastEffect=null,t.pendingProps=null,t.memoizedProps=null,t.stateNode=null,null!==e&&ss(e)}function us(t){return 5===t.tag||3===t.tag||4===t.tag}function cs(t){t:{for(var e=t.return;null!==e;){if(us(e)){var n=e;break t}e=e.return}throw Error(a(160))}switch(e=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:e=e.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.effectTag&&(Vt(e,""),n.effectTag&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||us(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break t}}r?function t(e,n,r){var i=e.tag,o=5===i||6===i;if(o)e=o?e.stateNode:e.stateNode.instance,n?8===r.nodeType?r.parentNode.insertBefore(e,n):r.insertBefore(e,n):(8===r.nodeType?(n=r.parentNode).insertBefore(e,r):(n=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==n.onclick||(n.onclick=cn));else if(4!==i&&null!==(e=e.child))for(t(e,n,r),e=e.sibling;null!==e;)t(e,n,r),e=e.sibling}(t,n,e):function t(e,n,r){var i=e.tag,o=5===i||6===i;if(o)e=o?e.stateNode:e.stateNode.instance,n?r.insertBefore(e,n):r.appendChild(e);else if(4!==i&&null!==(e=e.child))for(t(e,n,r),e=e.sibling;null!==e;)t(e,n,r),e=e.sibling}(t,n,e)}function ls(t,e,n){for(var r,i,o=e,s=!1;;){if(!s){s=o.return;t:for(;;){if(null===s)throw Error(a(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break t;case 3:case 4:r=r.containerInfo,i=!0;break t}s=s.return}s=!0}if(5===o.tag||6===o.tag){t:for(var u=t,c=o,l=n,h=c;;)if(as(u,h,l),null!==h.child&&4!==h.tag)h.child.return=h,h=h.child;else{if(h===c)break t;for(;null===h.sibling;){if(null===h.return||h.return===c)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i?(u=r,c=o.stateNode,8===u.nodeType?u.parentNode.removeChild(c):u.removeChild(c)):r.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(as(t,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===e)break;for(;null===o.sibling;){if(null===o.return||o.return===e)return;4===(o=o.return).tag&&(s=!1)}o.sibling.return=o.return,o=o.sibling}}function hs(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:return void rs(3,e);case 1:return;case 5:var n=e.stateNode;if(null!=n){var r=e.memoizedProps,i=null!==t?t.memoizedProps:r;t=e.type;var o=e.updateQueue;if(e.updateQueue=null,null!==o){for(n[Sn]=r,"input"===t&&"radio"===r.type&&null!=r.name&&Tt(n,r),an(t,i),e=an(t,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?nn(n,u):"dangerouslySetInnerHTML"===s?jt(n,u):"children"===s?Vt(n,u):$(n,s,u,e)}switch(t){case"input":St(n,r);break;case"textarea":Pt(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(t=r.value)?Nt(n,!!r.multiple,t,!1):e!==!!r.multiple&&(null!=r.defaultValue?Nt(n,!!r.multiple,r.defaultValue,!0):Nt(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===e.stateNode)throw Error(a(162));return void(e.stateNode.nodeValue=e.memoizedProps);case 3:return void((e=e.stateNode).hydrate&&(e.hydrate=!1,Me(e.containerInfo)));case 12:return;case 13:if(n=e,null===e.memoizedState?r=!1:(r=!0,n=e.child,Ds=ji()),null!==n)t:for(t=n;;){if(5===t.tag)o=t.stateNode,r?"function"===typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=t.stateNode,i=void 0!==(i=t.memoizedProps.style)&&null!==i&&i.hasOwnProperty("display")?i.display:null,o.style.display=en("display",i));else if(6===t.tag)t.stateNode.nodeValue=r?"":t.memoizedProps;else{if(13===t.tag&&null!==t.memoizedState&&null===t.memoizedState.dehydrated){(o=t.child.sibling).return=t,t=o;continue}if(null!==t.child){t.child.return=t,t=t.child;continue}}if(t===n)break;for(;null===t.sibling;){if(null===t.return||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}return void fs(e);case 19:return void fs(e);case 17:return}throw Error(a(163))}function fs(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new Za),e.forEach((function(e){var r=wu.bind(null,t,e);n.has(e)||(n.add(e),e.then(r,r))}))}}var ps="function"===typeof WeakMap?WeakMap:Map;function ds(t,e,n){(n=so(n,null)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ms||(Ms=!0,Fs=r),ts(t,e)},n}function vs(t,e,n){(n=so(n,null)).tag=3;var r=t.type.getDerivedStateFromError;if("function"===typeof r){var i=e.value;n.payload=function(){return ts(t,e),r(i)}}var o=t.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Us?Us=new Set([this]):Us.add(this),ts(t,e));var n=e.stack;this.componentDidCatch(e.value,{componentStack:null!==n?n:""})}),n}var ys,gs=Math.ceil,ms=X.ReactCurrentDispatcher,bs=X.ReactCurrentOwner,ws=0,_s=3,Es=4,Is=0,Ts=null,Ss=null,Cs=0,As=ws,ks=null,Ns=1073741823,Os=1073741823,xs=null,Ps=0,Rs=!1,Ds=0,Ls=null,Ms=!1,Fs=null,Us=null,js=!1,Vs=null,qs=90,Bs=null,zs=0,Gs=null,Ws=0;function Hs(){return 0!==(48&Is)?1073741821-(ji()/10|0):0!==Ws?Ws:Ws=1073741821-(ji()/10|0)}function Ks(t,e,n){if(0===(2&(e=e.mode)))return 1073741823;var r=Vi();if(0===(4&e))return 99===r?1073741823:1073741822;if(0!==(16&Is))return Cs;if(null!==n)t=Ki(t,0|n.timeoutMs||5e3,250);else switch(r){case 99:t=1073741823;break;case 98:t=Ki(t,150,100);break;case 97:case 96:t=Ki(t,5e3,250);break;case 95:t=2;break;default:throw Error(a(326))}return null!==Ts&&t===Cs&&--t,t}function Qs(t,e){if(50<zs)throw zs=0,Gs=null,Error(a(185));if(null!==(t=Ys(t,e))){var n=Vi();1073741823===e?0!==(8&Is)&&0===(48&Is)?Zs(t):($s(t),0===Is&&Wi()):$s(t),0===(4&Is)||98!==n&&99!==n||(null===Bs?Bs=new Map([[t,e]]):(void 0===(n=Bs.get(t))||n>e)&&Bs.set(t,e))}}function Ys(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e);var r=t.return,i=null;if(null===r&&3===t.tag)i=t.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<e&&(r.childExpirationTime=e),null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(Ts===i&&(au(e),As===Es&&Ru(i,Cs)),Du(i,e)),i}function Xs(t){var e=t.lastExpiredTime;if(0!==e)return e;if(!Pu(t,e=t.firstPendingTime))return e;var n=t.lastPingedTime;return 2>=(t=n>(t=t.nextKnownPendingLevel)?n:t)&&e!==t?0:t}function $s(t){if(0!==t.lastExpiredTime)t.callbackExpirationTime=1073741823,t.callbackPriority=99,t.callbackNode=Gi(Zs.bind(null,t));else{var e=Xs(t),n=t.callbackNode;if(0===e)null!==n&&(t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90);else{var r=Hs();if(1073741823===e?r=99:1===e||2===e?r=95:r=0>=(r=10*(1073741821-e)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=t.callbackPriority;if(t.callbackExpirationTime===e&&i>=r)return;n!==Pi&&Ii(n)}t.callbackExpirationTime=e,t.callbackPriority=r,e=1073741823===e?Gi(Zs.bind(null,t)):zi(r,Js.bind(null,t),{timeout:10*(1073741821-e)-ji()}),t.callbackNode=e}}}function Js(t,e){if(Ws=0,e)return Lu(t,e=Hs()),$s(t),null;var n=Xs(t);if(0!==n){if(e=t.callbackNode,0!==(48&Is))throw Error(a(327));if(vu(),t===Ts&&n===Cs||nu(t,n),null!==Ss){var r=Is;Is|=16;for(var i=iu();;)try{uu();break}catch(u){ru(t,u)}if(Zi(),Is=r,ms.current=i,1===As)throw e=ks,nu(t,n),Ru(t,n),$s(t),e;if(null===Ss)switch(i=t.finishedWork=t.current.alternate,t.finishedExpirationTime=n,r=As,Ts=null,r){case ws:case 1:throw Error(a(345));case 2:Lu(t,2<n?2:n);break;case _s:if(Ru(t,n),n===(r=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=hu(i)),1073741823===Ns&&10<(i=Ds+500-ji())){if(Rs){var o=t.lastPingedTime;if(0===o||o>=n){t.lastPingedTime=n,nu(t,n);break}}if(0!==(o=Xs(t))&&o!==n)break;if(0!==r&&r!==n){t.lastPingedTime=r;break}t.timeoutHandle=bn(fu.bind(null,t),i);break}fu(t);break;case Es:if(Ru(t,n),n===(r=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=hu(i)),Rs&&(0===(i=t.lastPingedTime)||i>=n)){t.lastPingedTime=n,nu(t,n);break}if(0!==(i=Xs(t))&&i!==n)break;if(0!==r&&r!==n){t.lastPingedTime=r;break}if(1073741823!==Os?r=10*(1073741821-Os)-ji():1073741823===Ns?r=0:(r=10*(1073741821-Ns)-5e3,0>(r=(i=ji())-r)&&(r=0),(n=10*(1073741821-n)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*gs(r/1960))-r)&&(r=n)),10<r){t.timeoutHandle=bn(fu.bind(null,t),r);break}fu(t);break;case 5:if(1073741823!==Ns&&null!==xs){o=Ns;var s=xs;if(0>=(r=0|s.busyMinDurationMs)?r=0:(i=0|s.busyDelayMs,r=(o=ji()-(10*(1073741821-o)-(0|s.timeoutMs||5e3)))<=i?0:i+r-o),10<r){Ru(t,n),t.timeoutHandle=bn(fu.bind(null,t),r);break}}fu(t);break;default:throw Error(a(329))}if($s(t),t.callbackNode===e)return Js.bind(null,t)}}return null}function Zs(t){var e=t.lastExpiredTime;if(e=0!==e?e:1073741823,0!==(48&Is))throw Error(a(327));if(vu(),t===Ts&&e===Cs||nu(t,e),null!==Ss){var n=Is;Is|=16;for(var r=iu();;)try{su();break}catch(i){ru(t,i)}if(Zi(),Is=n,ms.current=r,1===As)throw n=ks,nu(t,e),Ru(t,e),$s(t),n;if(null!==Ss)throw Error(a(261));t.finishedWork=t.current.alternate,t.finishedExpirationTime=e,Ts=null,fu(t),$s(t)}return null}function tu(t,e){var n=Is;Is|=1;try{return t(e)}finally{0===(Is=n)&&Wi()}}function eu(t,e){var n=Is;Is&=-2,Is|=8;try{return t(e)}finally{0===(Is=n)&&Wi()}}function nu(t,e){t.finishedWork=null,t.finishedExpirationTime=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,wn(n)),null!==Ss)for(n=Ss.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&yi();break;case 3:Ro(),ui(fi),ui(hi);break;case 5:Lo(r);break;case 4:Ro();break;case 13:case 19:ui(Mo);break;case 10:to(r)}n=n.return}Ts=t,Ss=Cu(t.current,null),Cs=e,As=ws,ks=null,Os=Ns=1073741823,xs=null,Ps=0,Rs=!1}function ru(t,e){for(;;){try{if(Zi(),jo.current=ya,Wo)for(var n=Bo.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(qo=0,Go=zo=Bo=null,Wo=!1,null===Ss||null===Ss.return)return As=1,ks=e,Ss=null;t:{var i=t,o=Ss.return,a=Ss,s=e;if(e=Cs,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var u=s;if(0===(2&a.mode)){var c=a.alternate;c?(a.updateQueue=c.updateQueue,a.memoizedState=c.memoizedState,a.expirationTime=c.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var l=0!==(1&Mo.current),h=o;do{var f;if(f=13===h.tag){var p=h.memoizedState;if(null!==p)f=null!==p.dehydrated;else{var d=h.memoizedProps;f=void 0!==d.fallback&&(!0!==d.unstable_avoidThisFallback||!l)}}if(f){var v=h.updateQueue;if(null===v){var y=new Set;y.add(u),h.updateQueue=y}else v.add(u);if(0===(2&h.mode)){if(h.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var g=so(1073741823,null);g.tag=2,uo(a,g)}a.expirationTime=1073741823;break t}s=void 0,a=e;var m=i.pingCache;if(null===m?(m=i.pingCache=new ps,s=new Set,m.set(u,s)):void 0===(s=m.get(u))&&(s=new Set,m.set(u,s)),!s.has(a)){s.add(a);var b=bu.bind(null,i,u,a);u.then(b,b)}h.effectTag|=4096,h.expirationTime=e;break t}h=h.return}while(null!==h);s=Error((yt(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+gt(a))}5!==As&&(As=2),s=Ja(s,a),h=o;do{switch(h.tag){case 3:u=s,h.effectTag|=4096,h.expirationTime=e,co(h,ds(h,u,e));break t;case 1:u=s;var w=h.type,_=h.stateNode;if(0===(64&h.effectTag)&&("function"===typeof w.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Us||!Us.has(_)))){h.effectTag|=4096,h.expirationTime=e,co(h,vs(h,u,e));break t}}h=h.return}while(null!==h)}Ss=lu(Ss)}catch(E){e=E;continue}break}}function iu(){var t=ms.current;return ms.current=ya,null===t?ya:t}function ou(t,e){t<Ns&&2<t&&(Ns=t),null!==e&&t<Os&&2<t&&(Os=t,xs=e)}function au(t){t>Ps&&(Ps=t)}function su(){for(;null!==Ss;)Ss=cu(Ss)}function uu(){for(;null!==Ss&&!Ri();)Ss=cu(Ss)}function cu(t){var e=ys(t.alternate,t,Cs);return t.memoizedProps=t.pendingProps,null===e&&(e=lu(t)),bs.current=null,e}function lu(t){Ss=t;do{var e=Ss.alternate;if(t=Ss.return,0===(2048&Ss.effectTag)){if(e=Xa(e,Ss,Cs),1===Cs||1!==Ss.childExpirationTime){for(var n=0,r=Ss.child;null!==r;){var i=r.expirationTime,o=r.childExpirationTime;i>n&&(n=i),o>n&&(n=o),r=r.sibling}Ss.childExpirationTime=n}if(null!==e)return e;null!==t&&0===(2048&t.effectTag)&&(null===t.firstEffect&&(t.firstEffect=Ss.firstEffect),null!==Ss.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=Ss.firstEffect),t.lastEffect=Ss.lastEffect),1<Ss.effectTag&&(null!==t.lastEffect?t.lastEffect.nextEffect=Ss:t.firstEffect=Ss,t.lastEffect=Ss))}else{if(null!==(e=$a(Ss)))return e.effectTag&=2047,e;null!==t&&(t.firstEffect=t.lastEffect=null,t.effectTag|=2048)}if(null!==(e=Ss.sibling))return e;Ss=t}while(null!==Ss);return As===ws&&(As=5),null}function hu(t){var e=t.expirationTime;return e>(t=t.childExpirationTime)?e:t}function fu(t){var e=Vi();return Bi(99,pu.bind(null,t,e)),null}function pu(t,e){do{vu()}while(null!==Vs);if(0!==(48&Is))throw Error(a(327));var n=t.finishedWork,r=t.finishedExpirationTime;if(null===n)return null;if(t.finishedWork=null,t.finishedExpirationTime=0,n===t.current)throw Error(a(177));t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90,t.nextKnownPendingLevel=0;var i=hu(n);if(t.firstPendingTime=i,r<=t.lastSuspendedTime?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:r<=t.firstSuspendedTime&&(t.firstSuspendedTime=r-1),r<=t.lastPingedTime&&(t.lastPingedTime=0),r<=t.lastExpiredTime&&(t.lastExpiredTime=0),t===Ts&&(Ss=Ts=null,Cs=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var o=Is;Is|=32,bs.current=null,vn=He;var s=pn();if(dn(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else t:{var c=(u=(u=s.ownerDocument)&&u.defaultView||window).getSelection&&u.getSelection();if(c&&0!==c.rangeCount){u=c.anchorNode;var l=c.anchorOffset,h=c.focusNode;c=c.focusOffset;try{u.nodeType,h.nodeType}catch(C){u=null;break t}var f=0,p=-1,d=-1,v=0,y=0,g=s,m=null;e:for(;;){for(var b;g!==u||0!==l&&3!==g.nodeType||(p=f+l),g!==h||0!==c&&3!==g.nodeType||(d=f+c),3===g.nodeType&&(f+=g.nodeValue.length),null!==(b=g.firstChild);)m=g,g=b;for(;;){if(g===s)break e;if(m===u&&++v===l&&(p=f),m===h&&++y===c&&(d=f),null!==(b=g.nextSibling))break;m=(g=m).parentNode}g=b}u=-1===p||-1===d?null:{start:p,end:d}}else u=null}u=u||{start:0,end:0}}else u=null;yn={activeElementDetached:null,focusedElem:s,selectionRange:u},He=!1,Ls=i;do{try{du()}catch(C){if(null===Ls)throw Error(a(330));mu(Ls,C),Ls=Ls.nextEffect}}while(null!==Ls);Ls=i;do{try{for(s=t,u=e;null!==Ls;){var w=Ls.effectTag;if(16&w&&Vt(Ls.stateNode,""),128&w){var _=Ls.alternate;if(null!==_){var E=_.ref;null!==E&&("function"===typeof E?E(null):E.current=null)}}switch(1038&w){case 2:cs(Ls),Ls.effectTag&=-3;break;case 6:cs(Ls),Ls.effectTag&=-3,hs(Ls.alternate,Ls);break;case 1024:Ls.effectTag&=-1025;break;case 1028:Ls.effectTag&=-1025,hs(Ls.alternate,Ls);break;case 4:hs(Ls.alternate,Ls);break;case 8:ls(s,l=Ls,u),ss(l)}Ls=Ls.nextEffect}}catch(C){if(null===Ls)throw Error(a(330));mu(Ls,C),Ls=Ls.nextEffect}}while(null!==Ls);if(E=yn,_=pn(),w=E.focusedElem,u=E.selectionRange,_!==w&&w&&w.ownerDocument&&function t(e,n){return!(!e||!n)&&(e===n||(!e||3!==e.nodeType)&&(n&&3===n.nodeType?t(e,n.parentNode):"contains"in e?e.contains(n):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(n))))}(w.ownerDocument.documentElement,w)){null!==u&&dn(w)&&(_=u.start,void 0===(E=u.end)&&(E=_),"selectionStart"in w?(w.selectionStart=_,w.selectionEnd=Math.min(E,w.value.length)):(E=(_=w.ownerDocument||document)&&_.defaultView||window).getSelection&&(E=E.getSelection(),l=w.textContent.length,s=Math.min(u.start,l),u=void 0===u.end?s:Math.min(u.end,l),!E.extend&&s>u&&(l=u,u=s,s=l),l=fn(w,s),h=fn(w,u),l&&h&&(1!==E.rangeCount||E.anchorNode!==l.node||E.anchorOffset!==l.offset||E.focusNode!==h.node||E.focusOffset!==h.offset)&&((_=_.createRange()).setStart(l.node,l.offset),E.removeAllRanges(),s>u?(E.addRange(_),E.extend(h.node,h.offset)):(_.setEnd(h.node,h.offset),E.addRange(_))))),_=[];for(E=w;E=E.parentNode;)1===E.nodeType&&_.push({element:E,left:E.scrollLeft,top:E.scrollTop});for("function"===typeof w.focus&&w.focus(),w=0;w<_.length;w++)(E=_[w]).element.scrollLeft=E.left,E.element.scrollTop=E.top}He=!!vn,yn=vn=null,t.current=n,Ls=i;do{try{for(w=t;null!==Ls;){var I=Ls.effectTag;if(36&I&&os(w,Ls.alternate,Ls),128&I){_=void 0;var T=Ls.ref;if(null!==T){var S=Ls.stateNode;switch(Ls.tag){case 5:_=S;break;default:_=S}"function"===typeof T?T(_):T.current=_}}Ls=Ls.nextEffect}}catch(C){if(null===Ls)throw Error(a(330));mu(Ls,C),Ls=Ls.nextEffect}}while(null!==Ls);Ls=null,Di(),Is=o}else t.current=n;if(js)js=!1,Vs=t,qs=e;else for(Ls=i;null!==Ls;)e=Ls.nextEffect,Ls.nextEffect=null,Ls=e;if(0===(e=t.firstPendingTime)&&(Us=null),1073741823===e?t===Gs?zs++:(zs=0,Gs=t):zs=0,"function"===typeof _u&&_u(n.stateNode,r),$s(t),Ms)throw Ms=!1,t=Fs,Fs=null,t;return 0!==(8&Is)||Wi(),null}function du(){for(;null!==Ls;){var t=Ls.effectTag;0!==(256&t)&&ns(Ls.alternate,Ls),0===(512&t)||js||(js=!0,zi(97,(function(){return vu(),null}))),Ls=Ls.nextEffect}}function vu(){if(90!==qs){var t=97<qs?97:qs;return qs=90,Bi(t,yu)}}function yu(){if(null===Vs)return!1;var t=Vs;if(Vs=null,0!==(48&Is))throw Error(a(331));var e=Is;for(Is|=32,t=t.current.firstEffect;null!==t;){try{var n=t;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:rs(5,n),is(5,n)}}catch(r){if(null===t)throw Error(a(330));mu(t,r)}n=t.nextEffect,t.nextEffect=null,t=n}return Is=e,Wi(),!0}function gu(t,e,n){uo(t,e=ds(t,e=Ja(n,e),1073741823)),null!==(t=Ys(t,1073741823))&&$s(t)}function mu(t,e){if(3===t.tag)gu(t,t,e);else for(var n=t.return;null!==n;){if(3===n.tag){gu(n,t,e);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Us||!Us.has(r))){uo(n,t=vs(n,t=Ja(e,t),1073741823)),null!==(n=Ys(n,1073741823))&&$s(n);break}}n=n.return}}function bu(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),Ts===t&&Cs===n?As===Es||As===_s&&1073741823===Ns&&ji()-Ds<500?nu(t,Cs):Rs=!0:Pu(t,n)&&(0!==(e=t.lastPingedTime)&&e<n||(t.lastPingedTime=n,$s(t)))}function wu(t,e){var n=t.stateNode;null!==n&&n.delete(e),0===(e=0)&&(e=Ks(e=Hs(),t,null)),null!==(t=Ys(t,e))&&$s(t)}ys=function(t,e,n){var r=e.expirationTime;if(null!==t){var i=e.pendingProps;if(t.memoizedProps!==i||fi.current)Oa=!0;else{if(r<n){switch(Oa=!1,e.tag){case 3:ja(e),ka();break;case 5:if(Do(e),4&e.mode&&1!==n&&i.hidden)return e.expirationTime=e.childExpirationTime=1,null;break;case 1:vi(e.type)&&bi(e);break;case 4:Po(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value,i=e.type._context,ci(Yi,i._currentValue),i._currentValue=r;break;case 13:if(null!==e.memoizedState)return 0!==(r=e.child.childExpirationTime)&&r>=n?Ga(t,e,n):(ci(Mo,1&Mo.current),null!==(e=Qa(t,e,n))?e.sibling:null);ci(Mo,1&Mo.current);break;case 19:if(r=e.childExpirationTime>=n,0!==(64&t.effectTag)){if(r)return Ka(t,e,n);e.effectTag|=64}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null),ci(Mo,Mo.current),!r)return null}return Qa(t,e,n)}Oa=!1}}else Oa=!1;switch(e.expirationTime=0,e.tag){case 2:if(r=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,i=di(e,hi.current),no(e,n),i=Qo(null,e,r,t,i,n),e.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,vi(r)){var o=!0;bi(e)}else o=!1;e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,oo(e);var s=r.getDerivedStateFromProps;"function"===typeof s&&vo(e,r,s,t),i.updater=yo,e.stateNode=i,i._reactInternalFiber=e,wo(e,r,t,n),e=Ua(null,e,r,!0,o,n)}else e.tag=0,xa(null,e,i,n),e=e.child;return e;case 16:t:{if(i=e.elementType,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,function(t){if(-1===t._status){t._status=0;var e=t._ctor;e=e(),t._result=e,e.then((function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)}),(function(e){0===t._status&&(t._status=2,t._result=e)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,e.type=i,o=e.tag=function(t){if("function"===typeof t)return Su(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===ut)return 11;if(t===ht)return 14}return 2}(i),t=Qi(i,t),o){case 0:e=Ma(null,e,i,t,n);break t;case 1:e=Fa(null,e,i,t,n);break t;case 11:e=Pa(null,e,i,t,n);break t;case 14:e=Ra(null,e,i,Qi(i.type,t),r,n);break t}throw Error(a(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,Ma(t,e,r,i=e.elementType===r?i:Qi(r,i),n);case 1:return r=e.type,i=e.pendingProps,Fa(t,e,r,i=e.elementType===r?i:Qi(r,i),n);case 3:if(ja(e),r=e.updateQueue,null===t||null===r)throw Error(a(282));if(r=e.pendingProps,i=null!==(i=e.memoizedState)?i.element:null,ao(t,e),lo(e,r,null,n),(r=e.memoizedState.element)===i)ka(),e=Qa(t,e,n);else{if((i=e.stateNode.hydrate)&&(_a=_n(e.stateNode.containerInfo.firstChild),wa=e,i=Ea=!0),i)for(n=Co(e,null,r,n),e.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else xa(t,e,r,n),ka();e=e.child}return e;case 5:return Do(e),null===t&&Sa(e),r=e.type,i=e.pendingProps,o=null!==t?t.memoizedProps:null,s=i.children,mn(r,i)?s=null:null!==o&&mn(r,o)&&(e.effectTag|=16),La(t,e),4&e.mode&&1!==n&&i.hidden?(e.expirationTime=e.childExpirationTime=1,e=null):(xa(t,e,s,n),e=e.child),e;case 6:return null===t&&Sa(e),null;case 13:return Ga(t,e,n);case 4:return Po(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=So(e,null,r,n):xa(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,Pa(t,e,r,i=e.elementType===r?i:Qi(r,i),n);case 7:return xa(t,e,e.pendingProps,n),e.child;case 8:case 12:return xa(t,e,e.pendingProps.children,n),e.child;case 10:t:{r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value;var u=e.type._context;if(ci(Yi,u._currentValue),u._currentValue=o,null!==s)if(u=s.value,0===(o=Fr(u,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!fi.current){e=Qa(t,e,n);break t}}else for(null!==(u=e.child)&&(u.return=e);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&o)){1===u.tag&&((l=so(n,null)).tag=2,uo(u,l)),u.expirationTime<n&&(u.expirationTime=n),null!==(l=u.alternate)&&l.expirationTime<n&&(l.expirationTime=n),eo(u.return,n),c.expirationTime<n&&(c.expirationTime=n);break}l=l.next}}else s=10===u.tag&&u.type===e.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===e){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}xa(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=(o=e.pendingProps).children,no(e,n),r=r(i=ro(i,o.unstable_observedBits)),e.effectTag|=1,xa(t,e,r,n),e.child;case 14:return o=Qi(i=e.type,e.pendingProps),Ra(t,e,i,o=Qi(i.type,o),r,n);case 15:return Da(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qi(r,i),null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),e.tag=1,vi(r)?(t=!0,bi(e)):t=!1,no(e,n),mo(e,r,i),wo(e,r,i,n),Ua(null,e,r,!0,t,n);case 19:return Ka(t,e,n)}throw Error(a(156,e.tag))};var _u=null,Eu=null;function Iu(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Tu(t,e,n,r){return new Iu(t,e,n,r)}function Su(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Cu(t,e){var n=t.alternate;return null===n?((n=Tu(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=t.childExpirationTime,n.expirationTime=t.expirationTime,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{expirationTime:e.expirationTime,firstContext:e.firstContext,responders:e.responders},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Au(t,e,n,r,i,o){var s=2;if(r=t,"function"===typeof t)Su(t)&&(s=1);else if("string"===typeof t)s=5;else t:switch(t){case nt:return ku(n.children,i,o,e);case st:s=8,i|=7;break;case rt:s=8,i|=1;break;case it:return(t=Tu(12,n,e,8|i)).elementType=it,t.type=it,t.expirationTime=o,t;case ct:return(t=Tu(13,n,e,i)).type=ct,t.elementType=ct,t.expirationTime=o,t;case lt:return(t=Tu(19,n,e,i)).elementType=lt,t.expirationTime=o,t;default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case ot:s=10;break t;case at:s=9;break t;case ut:s=11;break t;case ht:s=14;break t;case ft:s=16,r=null;break t;case pt:s=22;break t}throw Error(a(130,null==t?t:typeof t,""))}return(e=Tu(s,n,e,i)).elementType=t,e.type=r,e.expirationTime=o,e}function ku(t,e,n,r){return(t=Tu(7,t,r,e)).expirationTime=n,t}function Nu(t,e,n){return(t=Tu(6,t,null,e)).expirationTime=n,t}function Ou(t,e,n){return(e=Tu(4,null!==t.children?t.children:[],t.key,e)).expirationTime=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function xu(t,e,n){this.tag=e,this.current=null,this.containerInfo=t,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Pu(t,e){var n=t.firstSuspendedTime;return t=t.lastSuspendedTime,0!==n&&n>=e&&t<=e}function Ru(t,e){var n=t.firstSuspendedTime,r=t.lastSuspendedTime;n<e&&(t.firstSuspendedTime=e),(r>e||0===n)&&(t.lastSuspendedTime=e),e<=t.lastPingedTime&&(t.lastPingedTime=0),e<=t.lastExpiredTime&&(t.lastExpiredTime=0)}function Du(t,e){e>t.firstPendingTime&&(t.firstPendingTime=e);var n=t.firstSuspendedTime;0!==n&&(e>=n?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:e>=t.lastSuspendedTime&&(t.lastSuspendedTime=e+1),e>t.nextKnownPendingLevel&&(t.nextKnownPendingLevel=e))}function Lu(t,e){var n=t.lastExpiredTime;(0===n||n>e)&&(t.lastExpiredTime=e)}function Mu(t,e,n,r){var i=e.current,o=Hs(),s=fo.suspense;o=Ks(o,i,s);t:if(n){e:{if(Zt(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(a(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(vi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(null!==u);throw Error(a(171))}if(1===n.tag){var c=n.type;if(vi(c)){n=mi(n,c,u);break t}}n=u}else n=li;return null===e.context?e.context=n:e.pendingContext=n,(e=so(o,s)).payload={element:t},null!==(r=void 0===r?null:r)&&(e.callback=r),uo(i,e),Qs(i,o),o}function Fu(t){if(!(t=t.current).child)return null;switch(t.child.tag){case 5:default:return t.child.stateNode}}function Uu(t,e){null!==(t=t.memoizedState)&&null!==t.dehydrated&&t.retryTime<e&&(t.retryTime=e)}function ju(t,e){Uu(t,e),(t=t.alternate)&&Uu(t,e)}function Vu(t,e,n){var r=new xu(t,e,n=null!=n&&!0===n.hydrate),i=Tu(3,null,null,2===e?7:1===e?3:0);r.current=i,i.stateNode=r,oo(i),t[Cn]=r.current,n&&0!==e&&function(t,e){var n=Jt(e);Ce.forEach((function(t){de(t,e,n)})),Ae.forEach((function(t){de(t,e,n)}))}(0,9===t.nodeType?t:t.ownerDocument),this._internalRoot=r}function qu(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Bu(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var t=Fu(a);s.call(t)}}Mu(e,a,t,i)}else{if(o=n._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new Vu(t,0,e?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"===typeof i){var u=i;i=function(){var t=Fu(a);u.call(t)}}eu((function(){Mu(e,a,t,i)}))}return Fu(a)}function zu(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:et,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}function Gu(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!qu(e))throw Error(a(200));return zu(t,e,null,n)}Vu.prototype.render=function(t){Mu(t,this._internalRoot,null,null)},Vu.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Mu(null,t,null,(function(){e[Cn]=null}))},ve=function(t){if(13===t.tag){var e=Ki(Hs(),150,100);Qs(t,e),ju(t,e)}},ye=function(t){13===t.tag&&(Qs(t,3),ju(t,3))},ge=function(t){if(13===t.tag){var e=Hs();Qs(t,e=Ks(e,t,null)),ju(t,e)}},k=function(t,e,n){switch(e){case"input":if(St(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=On(r);if(!i)throw Error(a(90));_t(r),St(r,i)}}}break;case"textarea":Pt(t,n);break;case"select":null!=(e=n.value)&&Nt(t,!!n.multiple,e,!1)}},D=tu,L=function(t,e,n,r,i){var o=Is;Is|=4;try{return Bi(98,t.bind(null,e,n,r,i))}finally{0===(Is=o)&&Wi()}},M=function(){0===(49&Is)&&(function(){if(null!==Bs){var t=Bs;Bs=null,t.forEach((function(t,e){Lu(e,t),$s(e)})),Wi()}}(),vu())},F=function(t,e){var n=Is;Is|=2;try{return t(e)}finally{0===(Is=n)&&Wi()}};var Wu={Events:[kn,Nn,On,C,I,Fn,function(t){ie(t,Mn)},P,R,$e,se,vu,{current:!1}]};!function(t){var e=t.findFiberByHostInstance;(function(t){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var n=e.inject(t);_u=function(t){try{e.onCommitFiberRoot(n,t,void 0,64===(64&t.current.effectTag))}catch(r){}},Eu=function(t){try{e.onCommitFiberUnmount(n,t)}catch(r){}}}catch(r){}})(i({},t,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:X.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=ne(t))?null:t.stateNode},findFiberByHostInstance:function(t){return e?e(t):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:An,bundleType:0,version:"16.13.1",rendererPackageName:"react-dom"}),e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wu,e.createPortal=Gu,e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternalFiber;if(void 0===e){if("function"===typeof t.render)throw Error(a(188));throw Error(a(268,Object.keys(t)))}return t=null===(t=ne(e))?null:t.stateNode},e.flushSync=function(t,e){if(0!==(48&Is))throw Error(a(187));var n=Is;Is|=1;try{return Bi(99,t.bind(null,e))}finally{Is=n,Wi()}},e.hydrate=function(t,e,n){if(!qu(e))throw Error(a(200));return Bu(null,t,e,!0,n)},e.render=function(t,e,n){if(!qu(e))throw Error(a(200));return Bu(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!qu(t))throw Error(a(40));return!!t._reactRootContainer&&(eu((function(){Bu(null,null,t,!1,(function(){t._reactRootContainer=null,t[Cn]=null}))})),!0)},e.unstable_batchedUpdates=tu,e.unstable_createPortal=function(t,e){return Gu(t,e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},e.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!qu(n))throw Error(a(200));if(null==t||void 0===t._reactInternalFiber)throw Error(a(38));return Bu(t,e,n,!1,r)},e.version="16.13.1"},function(t,e,n){"use strict";t.exports=n(35)},function(t,e,n){"use strict";var r,i,o,a,s;if("undefined"===typeof window||"function"!==typeof MessageChannel){var u=null,c=null,l=function t(){if(null!==u)try{var n=e.unstable_now();u(!0,n),u=null}catch(r){throw setTimeout(t,0),r}},h=Date.now();e.unstable_now=function(){return Date.now()-h},r=function(t){null!==u?setTimeout(r,0,t):(u=t,setTimeout(l,0))},i=function(t,e){c=setTimeout(t,e)},o=function(){clearTimeout(c)},a=function(){return!1},s=e.unstable_forceFrameRate=function(){}}else{var f=window.performance,p=window.Date,d=window.setTimeout,v=window.clearTimeout;if("undefined"!==typeof console){var y=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof y&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof f&&"function"===typeof f.now)e.unstable_now=function(){return f.now()};else{var g=p.now();e.unstable_now=function(){return p.now()-g}}var m=!1,b=null,w=-1,_=5,E=0;a=function(){return e.unstable_now()>=E},s=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):_=0<t?Math.floor(1e3/t):5};var I=new MessageChannel,T=I.port2;I.port1.onmessage=function(){if(null!==b){var t=e.unstable_now();E=t+_;try{b(!0,t)?T.postMessage(null):(m=!1,b=null)}catch(n){throw T.postMessage(null),n}}else m=!1},r=function(t){b=t,m||(m=!0,T.postMessage(null))},i=function(t,n){w=d((function(){t(e.unstable_now())}),n)},o=function(){v(w),w=-1}}function S(t,e){var n=t.length;t.push(e);t:for(;;){var r=n-1>>>1,i=t[r];if(!(void 0!==i&&0<k(i,e)))break t;t[r]=e,t[n]=i,n=r}}function C(t){return void 0===(t=t[0])?null:t}function A(t){var e=t[0];if(void 0!==e){var n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,i=t.length;r<i;){var o=2*(r+1)-1,a=t[o],s=o+1,u=t[s];if(void 0!==a&&0>k(a,n))void 0!==u&&0>k(u,a)?(t[r]=u,t[s]=n,r=s):(t[r]=a,t[o]=n,r=o);else{if(!(void 0!==u&&0>k(u,n)))break t;t[r]=u,t[s]=n,r=s}}}return e}return null}function k(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}var N=[],O=[],x=1,P=null,R=3,D=!1,L=!1,M=!1;function F(t){for(var e=C(O);null!==e;){if(null===e.callback)A(O);else{if(!(e.startTime<=t))break;A(O),e.sortIndex=e.expirationTime,S(N,e)}e=C(O)}}function U(t){if(M=!1,F(t),!L)if(null!==C(N))L=!0,r(j);else{var e=C(O);null!==e&&i(U,e.startTime-t)}}function j(t,n){L=!1,M&&(M=!1,o()),D=!0;var r=R;try{for(F(n),P=C(N);null!==P&&(!(P.expirationTime>n)||t&&!a());){var s=P.callback;if(null!==s){P.callback=null,R=P.priorityLevel;var u=s(P.expirationTime<=n);n=e.unstable_now(),"function"===typeof u?P.callback=u:P===C(N)&&A(N),F(n)}else A(N);P=C(N)}if(null!==P)var c=!0;else{var l=C(O);null!==l&&i(U,l.startTime-n),c=!1}return c}finally{P=null,R=r,D=!1}}function V(t){switch(t){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var q=s;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){L||D||(L=!0,r(j))},e.unstable_getCurrentPriorityLevel=function(){return R},e.unstable_getFirstCallbackNode=function(){return C(N)},e.unstable_next=function(t){switch(R){case 1:case 2:case 3:var e=3;break;default:e=R}var n=R;R=e;try{return t()}finally{R=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=q,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=R;R=t;try{return e()}finally{R=n}},e.unstable_scheduleCallback=function(t,n,a){var s=e.unstable_now();if("object"===typeof a&&null!==a){var u=a.delay;u="number"===typeof u&&0<u?s+u:s,a="number"===typeof a.timeout?a.timeout:V(t)}else a=V(t),u=s;return t={id:x++,callback:n,priorityLevel:t,startTime:u,expirationTime:a=u+a,sortIndex:-1},u>s?(t.sortIndex=u,S(O,t),null===C(N)&&t===C(O)&&(M?o():M=!0,i(U,u-s))):(t.sortIndex=a,S(N,t),L||D||(L=!0,r(j))),t},e.unstable_shouldYield=function(){var t=e.unstable_now();F(t);var n=C(N);return n!==P&&null!==P&&null!==n&&null!==n.callback&&n.startTime<=t&&n.expirationTime<P.expirationTime||a()},e.unstable_wrapCallback=function(t){var e=R;return function(){var n=R;R=e;try{return t.apply(this,arguments)}finally{R=n}}}},,,,function(t,e,n){"use strict";var r=n(40);function i(){}function o(){}o.resetWarningCache=i,t.exports=function(){function t(t,e,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e){t.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},function(t,e,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,h=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,d=r?Symbol.for("react.suspense"):60113,v=r?Symbol.for("react.suspense_list"):60120,y=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,m=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,w=r?Symbol.for("react.responder"):60118,_=r?Symbol.for("react.scope"):60119;function E(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case i:switch(t=t.type){case h:case f:case a:case u:case s:case d:return t;default:switch(t=t&&t.$$typeof){case l:case p:case g:case y:case c:return t;default:return e}}case o:return e}}}function I(t){return E(t)===f}e.AsyncMode=h,e.ConcurrentMode=f,e.ContextConsumer=l,e.ContextProvider=c,e.Element=i,e.ForwardRef=p,e.Fragment=a,e.Lazy=g,e.Memo=y,e.Portal=o,e.Profiler=u,e.StrictMode=s,e.Suspense=d,e.isAsyncMode=function(t){return I(t)||E(t)===h},e.isConcurrentMode=I,e.isContextConsumer=function(t){return E(t)===l},e.isContextProvider=function(t){return E(t)===c},e.isElement=function(t){return"object"===typeof t&&null!==t&&t.$$typeof===i},e.isForwardRef=function(t){return E(t)===p},e.isFragment=function(t){return E(t)===a},e.isLazy=function(t){return E(t)===g},e.isMemo=function(t){return E(t)===y},e.isPortal=function(t){return E(t)===o},e.isProfiler=function(t){return E(t)===u},e.isStrictMode=function(t){return E(t)===s},e.isSuspense=function(t){return E(t)===d},e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===a||t===f||t===u||t===s||t===d||t===v||"object"===typeof t&&null!==t&&(t.$$typeof===g||t.$$typeof===y||t.$$typeof===c||t.$$typeof===l||t.$$typeof===p||t.$$typeof===b||t.$$typeof===w||t.$$typeof===_||t.$$typeof===m)},e.typeOf=E},,,,function(t,e,n){"use strict";n(47)},function(t,e,n){(function(t){(function(){var e,r=n(26).default,i="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};var o=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof t&&t,e];for(var n=0;n<e.length;++n){var r=e[n];if(r&&r.Math==Math)return r}return globalThis}(this);function a(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function s(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:a(t)}}!function(t,e){if(e){var n=o;t=t.split(".");for(var r=0;r<t.length-1;r++){var a=t[r];a in n||(n[a]={}),n=n[a]}(e=e(r=n[t=t[t.length-1]]))!=r&&null!=e&&i(n,t,{configurable:!0,writable:!0,value:e})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function n(){this.a=null}function r(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;n.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var i=o.setTimeout;n.prototype.c=function(t){i(t,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},n.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.u(t):this.h(t)}},e.prototype.u=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.w(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new n;return e.prototype.s=function(t){var e=this.f();t.Oa(e.resolve,e.reject)},e.prototype.w=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,a=new e((function(t,e){i=t,o=e}));return this.Oa(r(t,i),r(n,o)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Oa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=r,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var i=s(t),o=i.next();!o.done;o=i.next())r(o.value).Oa(e,n)}))},e.all=function(t){var n=s(t),i=n.next();return i.done?r([]):new e((function(t,e){function o(e){return function(n){a[e]=n,0==--s&&t(a)}}var a=[],s=0;do{a.push(void 0),s++,r(i.value).Oa(o(a.length-1),e),i=n.next()}while(!i.done)}))},e}));var u=u||{},c=this||self,l=/^[\w+/_-]+[=]{0,2}$/,h=null;function f(){}function p(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&"undefined"!=typeof t.splice&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof t.call&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&"undefined"==typeof t.call)return"object";return e}function d(t){var e=p(t);return"array"==e||"object"==e&&"number"==typeof t.length}function v(t){return"function"==p(t)}function y(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function g(t){return Object.prototype.hasOwnProperty.call(t,m)&&t[m]||(t[m]=++b)}var m="closure_uid_"+(1e9*Math.random()>>>0),b=0;function w(t,e,n){return t.call.apply(t.bind,arguments)}function _(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function E(t,e,n){return(E=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?w:_).apply(null,arguments)}function I(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var T=Date.now||function(){return+new Date};function S(t,e){function n(){}n.prototype=e.prototype,t.Za=e.prototype,t.prototype=new n,t.prototype.constructor=t}function C(t,e,n){this.code=N+t,this.message=e||O[t]||"",this.a=n||null}function A(t){var e=t&&t.code;return e?new C(e.substring(N.length),t.message,t.serverResponse):null}S(C,Error),C.prototype.v=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},C.prototype.toJSON=function(){return this.v()};var k,N="auth/",O={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},x={hd:{Ra:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},pd:{Ra:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://securetoken.googleapis.com/v1/token",Ua:"https://identitytoolkit.googleapis.com/v2/",id:"p"},rd:{Ra:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},sd:{Ra:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Xa:"https://test-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function P(t){for(var e in x)if(x[e].id===t)return{firebaseEndpoint:(t=x[e]).Ra,secureTokenEndpoint:t.Xa,identityPlatformEndpoint:t.Ua};return null}function R(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function D(t){if(Error.captureStackTrace)Error.captureStackTrace(this,D);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function L(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");D.call(this,n+t[r])}function M(t,e){throw new L("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function F(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function U(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function j(){this.b=this.a=null}k=P("__EID__")?"__EID__":void 0,S(D,Error),D.prototype.name="CustomError",S(L,D),L.prototype.name="AssertionError",F.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var V=new F((function(){return new B}),(function(t){t.reset()}));function q(){var t=me,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function B(){this.next=this.b=this.a=null}j.prototype.add=function(t,e){var n=V.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},B.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},B.prototype.reset=function(){this.next=this.b=this.a=null};var z=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"===typeof t)return"string"!==typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},G=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"===typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};var W=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"===typeof t?t.split(""):t,a=0;a<n;a++)if(a in o){var s=o[a];e.call(void 0,s,a,t)&&(r[i++]=s)}return r},H=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"===typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},K=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"===typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function Q(t,e){return 0<=z(t,e)}function Y(t,e){var n;return(n=0<=(e=z(t,e)))&&Array.prototype.splice.call(t,e,1),n}function X(t,e){!function(t,e){for(var n="string"===typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&1==Array.prototype.splice.call(t,r,1).length&&0}))}function $(t){return Array.prototype.concat.apply([],arguments)}function J(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var Z,tt=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},et=/&/g,nt=/</g,rt=/>/g,it=/"/g,ot=/'/g,at=/\x00/g,st=/[\x00&<>"']/;function ut(t,e){return-1!=t.indexOf(e)}function ct(t,e){return t<e?-1:t>e?1:0}t:{var lt=c.navigator;if(lt){var ht=lt.userAgent;if(ht){Z=ht;break t}}Z=""}function ft(t){return ut(Z,t)}function pt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function dt(t){for(var e in t)return!1;return!0}function vt(t){var e,n={};for(e in t)n[e]=t[e];return n}var yt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function gt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<yt.length;o++)n=yt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function mt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||c).Element&&r.Location){var i=r;break t}}catch(a){}i=null}if(i&&"undefined"!=typeof i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(y(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(a){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;M("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function bt(t,e){this.a=t===Et&&e||"",this.b=_t}function wt(t){return t instanceof bt&&t.constructor===bt&&t.b===_t?t.a:(M("expected object of type Const, got '"+t+"'"),"type_error:Const")}bt.prototype.ra=!0,bt.prototype.qa=function(){return this.a},bt.prototype.toString=function(){return"Const{"+this.a+"}"};var _t={},Et={},It=new bt(Et,"");function Tt(t,e){this.a=t===Ot&&e||"",this.b=Nt}function St(t){return t instanceof Tt&&t.constructor===Tt&&t.b===Nt?t.a:(M("expected object of type TrustedResourceUrl, got '"+t+"' of type "+p(t)),"type_error:TrustedResourceUrl")}function Ct(t,e){var n=wt(t);if(!kt.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return t=n.replace(At,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof bt?wt(t):encodeURIComponent(String(t))})),new Tt(Ot,t)}Tt.prototype.ra=!0,Tt.prototype.qa=function(){return this.a.toString()},Tt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var At=/%{(\w+)}/g,kt=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Nt={},Ot={};function xt(t,e){this.a=t===Mt&&e||"",this.b=Lt}function Pt(t){return t instanceof xt&&t.constructor===xt&&t.b===Lt?t.a:(M("expected object of type SafeUrl, got '"+t+"' of type "+p(t)),"type_error:SafeUrl")}xt.prototype.ra=!0,xt.prototype.qa=function(){return this.a.toString()},xt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Rt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Dt(t){return t instanceof xt?t:(t="object"==typeof t&&t.ra?t.qa():String(t),Rt.test(t)||(t="about:invalid#zClosurez"),new xt(Mt,t))}var Lt={},Mt={};function Ft(){this.a="",this.b=jt}function Ut(t){return t instanceof Ft&&t.constructor===Ft&&t.b===jt?t.a:(M("expected object of type SafeHtml, got '"+t+"' of type "+p(t)),"type_error:SafeHtml")}Ft.prototype.ra=!0,Ft.prototype.qa=function(){return this.a.toString()},Ft.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var jt={};function Vt(t){var e=new Ft;return e.a=t,e}Vt("<!DOCTYPE html>");var qt=Vt("");function Bt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function zt(t){return st.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(et,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(nt,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(rt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(it,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(ot,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(at,"&#0;"))),t}function Gt(t){return Gt[" "](t),t}Vt("<br>"),Gt[" "]=f;var Wt,Ht=ft("Opera"),Kt=ft("Trident")||ft("MSIE"),Qt=ft("Edge"),Yt=Qt||Kt,Xt=ft("Gecko")&&!(ut(Z.toLowerCase(),"webkit")&&!ft("Edge"))&&!(ft("Trident")||ft("MSIE"))&&!ft("Edge"),$t=ut(Z.toLowerCase(),"webkit")&&!ft("Edge");function Jt(){var t=c.document;return t?t.documentMode:void 0}t:{var Zt="",te=function(){var t=Z;return Xt?/rv:([^\);]+)(\)|;)/.exec(t):Qt?/Edge\/([\d\.]+)/.exec(t):Kt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):$t?/WebKit\/(\S+)/.exec(t):Ht?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(te&&(Zt=te?te[1]:""),Kt){var ee=Jt();if(null!=ee&&ee>parseFloat(Zt)){Wt=String(ee);break t}}Wt=Zt}var ne,re={};function ie(t){return function(t,e){var n=re;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=tt(String(Wt)).split("."),r=tt(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=ct(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||ct(0==a[2].length,0==s[2].length)||ct(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}ne=c.document&&Kt?Jt():void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(aa){}var oe=!Kt||9<=Number(ne);function ae(t){var e=document;return"string"===typeof t?e.getElementById(t):t}function se(t,e){pt(e,(function(e,n){e&&"object"==typeof e&&e.ra&&(e=e.qa()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:le.hasOwnProperty(n)?t.setAttribute(le[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var ue,ce,le={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function he(t,e,n){function r(n){n&&e.appendChild("string"===typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];!d(o)||y(o)&&0<o.nodeType?r(o):G(pe(o)?J(o):o,r)}}function fe(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function pe(t){if(t&&"number"==typeof t.length){if(y(t))return"function"==typeof t.item||"string"==typeof t.item;if(v(t))return"function"==typeof t.item}return!1}function de(t){c.setTimeout((function(){throw t}),0)}function ve(){var t=c.MessageChannel;if("undefined"===typeof t&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!ft("Presto")&&(t=function(){var t=fe(document,"IFRAME");t.style.display="none",function(t){var e=new Tt(Ot,wt(It));mt(t,"HTMLIFrameElement"),t.src=St(e).toString()}(t),document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(Ut(qt)),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=E((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),"undefined"!==typeof t&&!ft("Trident")&&!ft("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Db;n.Db=null,t()}},function(t){r.next={Db:t},r=r.next,e.port2.postMessage(0)}}return function(t){c.setTimeout(t,0)}}function ye(t,e){ce||function(){if(c.Promise&&c.Promise.resolve){var t=c.Promise.resolve(void 0);ce=function(){t.then(be)}}else ce=function(){var t=be;!v(c.setImmediate)||c.Window&&c.Window.prototype&&!ft("Edge")&&c.Window.prototype.setImmediate==c.setImmediate?(ue||(ue=ve()),ue(t)):c.setImmediate(t)}}(),ge||(ce(),ge=!0),me.add(t,e)}var ge=!1,me=new j;function be(){for(var t;t=q();){try{t.a.call(t.b)}catch(e){de(e)}U(V,t)}ge=!1}function we(t,e){if(this.a=_e,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=f)try{var n=this;t.call(e,(function(t){Re(n,Ee,t)}),(function(t){if(!(t instanceof Ve))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}Re(n,Ie,t)}))}catch(r){Re(this,Ie,r)}}var _e=0,Ee=2,Ie=3;function Te(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Te.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Se=new F((function(){return new Te}),(function(t){t.reset()}));function Ce(t,e,n){var r=Se.get();return r.g=t,r.b=e,r.f=n,r}function Ae(t){if(t instanceof we)return t;var e=new we(f);return Re(e,Ee,t),e}function ke(t){return new we((function(e,n){n(t)}))}function Ne(t,e,n){De(t,e,n,null)||ye(I(e,t))}function Oe(t){return new we((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Mb:!0,value:o}:{Mb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Ne(t[o],I(i,o,!0),I(i,o,!1));else e(r)}))}function xe(t,e){t.b||t.a!=Ee&&t.a!=Ie||Le(t),t.f?t.f.next=e:t.b=e,t.f=e}function Pe(t,e,n,r){var i=Ce(null,null,null);return i.a=new we((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(a){o(a)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Ve?o(e):t(i)}catch(a){o(a)}}:o})),i.a.c=t,xe(t,i),i.a}function Re(t,e,n){t.a==_e&&(t===n&&(e=Ie,n=new TypeError("Promise cannot resolve to itself")),t.a=1,De(n,t.Yc,t.Zc,t)||(t.i=n,t.a=e,t.c=null,Le(t),e!=Ie||n instanceof Ve||function(t,e){t.g=!0,ye((function(){t.g&&je.call(null,e)}))}(t,n)))}function De(t,e,n,r){if(t instanceof we)return xe(t,Ce(e||f,n||null,r)),!0;if(R(t))return t.then(e,n,r),!0;if(y(t))try{var i=t.then;if(v(i))return function(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}var a=!1;try{e.call(t,(function(t){a||(a=!0,n.call(i,t))}),o)}catch(s){o(s)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Le(t){t.h||(t.h=!0,ye(t.ec,t))}function Me(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function Fe(t,e,n,r){if(n==Ie&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Ue(e,n,r);else try{e.c?e.g.call(e.f):Ue(e,n,r)}catch(i){je.call(null,i)}U(Se,e)}function Ue(t,e,n){e==Ee?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}we.prototype.then=function(t,e,n){return Pe(this,v(t)?t:null,v(e)?e:null,n)},we.prototype.$goog_Thenable=!0,(e=we.prototype).ma=function(t,e){return(t=Ce(t,t,e)).c=!0,xe(this,t),this},e.o=function(t,e){return Pe(this,null,t,e)},e.cancel=function(t){if(this.a==_e){var e=new Ve(t);ye((function(){!function t(e,n){if(e.a==_e)if(e.c){var r=e.c;if(r.b){for(var i=0,o=null,a=null,s=r.b;s&&(s.c||(i++,s.a==e&&(o=s),!(o&&1<i)));s=s.next)o||(a=s);o&&(r.a==_e&&1==i?t(r,n):(a?((i=a).next==r.f&&(r.f=i),i.next=i.next.next):Me(r),Fe(r,o,Ie,n)))}e.c=null}else Re(e,Ie,n)}(this,e)}),this)}},e.Yc=function(t){this.a=_e,Re(this,Ee,t)},e.Zc=function(t){this.a=_e,Re(this,Ie,t)},e.ec=function(){for(var t;t=Me(this);)Fe(this,t,this.a,this.i);this.h=!1};var je=de;function Ve(t){D.call(this,t)}function qe(){0!=Be&&(ze[g(this)]=this),this.wa=this.wa,this.na=this.na}S(Ve,D),Ve.prototype.name="cancel";var Be=0,ze={};function Ge(t){if(!t.wa&&(t.wa=!0,t.Ba(),0!=Be)){var e=g(t);if(0!=Be&&t.na&&0<t.na.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete ze[e]}}qe.prototype.wa=!1,qe.prototype.Ba=function(){if(this.na)for(;this.na.length;)this.na.shift()()};var We=Object.freeze||function(t){return t},He=!Kt||9<=Number(ne),Ke=Kt&&!ie("9"),Qe=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{c.addEventListener("test",f,e),c.removeEventListener("test",f,e)}catch(n){}return t}();function Ye(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Xe(t,e){if(Ye.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Xt){t:{try{Gt(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:$e[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Ye.prototype.preventDefault=function(){this.defaultPrevented=!0},S(Xe,Ye);var $e=We({2:"touch",3:"pen",4:"mouse"});Xe.prototype.preventDefault=function(){Xe.Za.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ke)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},Xe.prototype.f=function(){return this.a};var Je="closure_listenable_"+(1e6*Math.random()|0),Ze=0;function tn(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Ta=i,this.key=++Ze,this.ua=this.Na=!1}function en(t){t.ua=!0,t.listener=null,t.proxy=null,t.src=null,t.Ta=null}function nn(t){this.src=t,this.a={},this.b=0}function rn(t,e){var n=e.type;n in t.a&&Y(t.a[n],e)&&(en(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function on(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ua&&o.listener==e&&o.capture==!!n&&o.Ta==r)return i}return-1}nn.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=on(t,e,r,i);return-1<a?(e=t[a],n||(e.Na=!1)):((e=new tn(e,this.src,o,!!r,i)).Na=n,t.push(e)),e};var an="closure_lm_"+(1e6*Math.random()|0),sn={};function un(t,e,n,r,i){if(r&&r.once)ln(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)un(t,e[o],n,r,i);else n=bn(n),t&&t[Je]?_n(t,e,n,y(r)?!!r.capture:!!r,i):cn(t,e,n,!1,r,i)}function cn(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=y(i)?!!i.capture:!!i,s=gn(t);if(s||(t[an]=s=new nn(t)),!(n=s.add(e,n,r,a,o)).proxy){if(r=function(){var t=yn,e=He?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Qe||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(pn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}0}}function ln(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)ln(t,e[o],n,r,i);else n=bn(n),t&&t[Je]?En(t,e,n,y(r)?!!r.capture:!!r,i):cn(t,e,n,!0,r,i)}function hn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)hn(t,e[o],n,r,i);else r=y(r)?!!r.capture:!!r,n=bn(n),t&&t[Je]?(t=t.u,(e=String(e).toString())in t.a&&(-1<(n=on(o=t.a[e],n,r,i))&&(en(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=gn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=on(e,n,r,i)),(n=-1<t?e[t]:null)&&fn(n))}function fn(t){if("number"!==typeof t&&t&&!t.ua){var e=t.src;if(e&&e[Je])rn(e.u,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(pn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=gn(e))?(rn(n,t),0==n.b&&(n.src=null,e[an]=null)):en(t)}}}function pn(t){return t in sn?sn[t]:sn[t]="on"+t}function dn(t,e,n,r){var i=!0;if((t=gn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.ua&&(o=vn(o,r),i=i&&!1!==o)}return i}function vn(t,e){var n=t.listener,r=t.Ta||t.src;return t.Na&&fn(t),n.call(r,e)}function yn(t,e){if(t.ua)return!0;if(!He){if(!e)t:{e=["window","event"];for(var n=c,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Xe(r=e,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(a){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=dn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=dn(r[i],t,!1,e),n=n&&o}return n}return vn(t,new Xe(e,this))}function gn(t){return(t=t[an])instanceof nn?t:null}var mn="__closure_events_fn_"+(1e9*Math.random()>>>0);function bn(t){return v(t)?t:(t[mn]||(t[mn]=function(e){return t.handleEvent(e)}),t[mn])}function wn(){qe.call(this),this.u=new nn(this),this.Yb=this,this.eb=null}function _n(t,e,n,r,i){t.u.add(String(e),n,!1,r,i)}function En(t,e,n,r,i){t.u.add(String(e),n,!0,r,i)}function In(t,e,n,r){if(!(e=t.u.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.ua&&a.capture==n){var s=a.listener,u=a.Ta||a.src;a.Na&&rn(t.u,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function Tn(t,e,n){if(v(t))n&&(t=E(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=E(t.handleEvent,t)}return 2147483647<Number(e)?-1:c.setTimeout(t,e||0)}function Sn(t){var e=null;return new we((function(n,r){-1==(e=Tn((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).o((function(t){throw c.clearTimeout(e),t}))}function Cn(t){if(t.V&&"function"==typeof t.V)return t.V();if("string"===typeof t)return t.split("");if(d(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function An(t){if(t.X&&"function"==typeof t.X)return t.X();if(!t.V||"function"!=typeof t.V){if(d(t)||"string"===typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function kn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof kn)for(n=t.X(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Nn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];On(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)On(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function On(t,e){return Object.prototype.hasOwnProperty.call(t,e)}S(wn,qe),wn.prototype[Je]=!0,wn.prototype.addEventListener=function(t,e,n,r){un(this,t,e,n,r)},wn.prototype.removeEventListener=function(t,e,n,r){hn(this,t,e,n,r)},wn.prototype.dispatchEvent=function(t){var e,n=this.eb;if(n)for(e=[];n;n=n.eb)e.push(n);n=this.Yb;var r=t.type||t;if("string"===typeof t)t=new Ye(t,n);else if(t instanceof Ye)t.target=t.target||n;else{var i=t;gt(t=new Ye(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.b=e[o];i=In(a,r,!0,t)&&i}if(i=In(a=t.b=n,r,!0,t)&&i,i=In(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=In(a=t.b=e[o],r,!1,t)&&i;return i},wn.prototype.Ba=function(){if(wn.Za.Ba.call(this),this.u){var t,e=this.u;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)en(n[r]);delete e.a[t],e.b--}}this.eb=null},(e=kn.prototype).V=function(){Nn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},e.X=function(){return Nn(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0},e.get=function(t,e){return On(this.b,t)?this.b[t]:e},e.set=function(t,e){On(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},e.forEach=function(t,e){for(var n=this.X(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var xn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/\\#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Pn(t,e){var n;this.b=this.i=this.f="",this.l=null,this.g=this.c="",this.h=!1,t instanceof Pn?(this.h=void 0!==e?e:t.h,Rn(this,t.f),this.i=t.i,this.b=t.b,Dn(this,t.l),this.c=t.c,Ln(this,tr(t.a)),this.g=t.g):t&&(n=String(t).match(xn))?(this.h=!!e,Rn(this,n[1]||"",!0),this.i=Vn(n[2]||""),this.b=Vn(n[3]||"",!0),Dn(this,n[4]),this.c=Vn(n[5]||"",!0),Ln(this,n[6]||"",!0),this.g=Vn(n[7]||"")):(this.h=!!e,this.a=new Qn(null,this.h))}function Rn(t,e,n){t.f=n?Vn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Dn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.l=e}else t.l=null}function Ln(t,e,n){e instanceof Qn?(t.a=e,function(t,e){e&&!t.f&&(Yn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&($n(this,e),Zn(this,n,t))}),t)),t.f=e}(t.a,t.h)):(n||(e=qn(e,Hn)),t.a=new Qn(e,t.h))}function Mn(t,e,n){t.a.set(e,n)}function Fn(t,e){return t.a.get(e)}function Un(t){return t instanceof Pn?new Pn(t):new Pn(t,void 0)}function jn(t,e){var n=new Pn(null,void 0);return Rn(n,"https"),t&&(n.b=t),e&&(n.c=e),n}function Vn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function qn(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,Bn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Bn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Pn.prototype.toString=function(){var t=[],e=this.f;e&&t.push(qn(e,zn,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.i)&&t.push(qn(e,zn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.l)&&t.push(":",String(n))),(n=this.c)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(qn(n,"/"==n.charAt(0)?Wn:Gn,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.g)&&t.push("#",qn(n,Kn)),t.join("")},Pn.prototype.resolve=function(t){var e=new Pn(this),n=!!t.f;n?Rn(e,t.f):n=!!t.i,n?e.i=t.i:n=!!t.b,n?e.b=t.b:n=null!=t.l;var r=t.c;if(n)Dn(e,t.l);else if(n=!!t.c){if("/"!=r.charAt(0))if(this.b&&!this.c)r="/"+r;else{var i=e.c.lastIndexOf("/");-1!=i&&(r=e.c.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ut(i,"./")||ut(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?e.c=r:n=""!==t.a.toString(),n?Ln(e,tr(t.a)):n=!!t.g,n&&(e.g=t.g),e};var zn=/[#\/\?@]/g,Gn=/[#\?:]/g,Wn=/[#\?]/g,Hn=/[#\?@]/g,Kn=/#/g;function Qn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Yn(t){t.a||(t.a=new kn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Xn(t){var e=An(t);if("undefined"==typeof e)throw Error("Keys are undefined");var n=new Qn(null,void 0);t=Cn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?Zn(n,i,o):n.add(i,o)}return n}function $n(t,e){Yn(t),e=er(t,e),On(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,On((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Nn(t)))}function Jn(t,e){return Yn(t),e=er(t,e),On(t.a.b,e)}function Zn(t,e,n){$n(t,e),0<n.length&&(t.c=null,t.a.set(er(t,e),J(n)),t.b+=n.length)}function tr(t){var e=new Qn;return e.c=t.c,t.a&&(e.a=new kn(t.a),e.b=t.b),e}function er(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function nr(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(Array.isArray(n)){var i=n;n=i.length,r.push("[");for(var o="",a=0;a<n;a++)r.push(o),t(e,i[a],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&("function"!=typeof(a=n[i])&&(r.push(o),ar(i,r),r.push(":"),t(e,a,r),o=","));return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":ar(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new rr,t,e),e.join("")}function rr(){}(e=Qn.prototype).add=function(t,e){Yn(this),this.c=null,t=er(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},e.clear=function(){this.a=this.c=null,this.b=0},e.forEach=function(t,e){Yn(this),this.a.forEach((function(n,r){G(n,(function(n){t.call(e,n,r,this)}),this)}),this)},e.X=function(){Yn(this);for(var t=this.a.V(),e=this.a.X(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},e.V=function(t){Yn(this);var e=[];if("string"===typeof t)Jn(this,t)&&(e=$(e,this.a.get(er(this,t))));else{t=this.a.V();for(var n=0;n<t.length;n++)e=$(e,t[n])}return e},e.set=function(t,e){return Yn(this),this.c=null,Jn(this,t=er(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},e.get=function(t,e){return t&&0<(t=this.V(t)).length?String(t[0]):e},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.X(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.V(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var ir={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},or=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function ar(t,e){e.push('"',t.replace(or,(function(t){var e=ir[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),ir[t]=e),e})),'"')}function sr(){var t=Cr();return Kt&&!!ne&&11==ne||/Edge\/\d+/.test(t)}function ur(){return c.window&&c.window.location.href||self&&self.location&&self.location.href||""}function cr(t,e){e=e||c.window;var n="about:blank";t&&(n=Pt(Dt(t))),e.location.href=n}function lr(t){return!!((t=(t||Cr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function hr(t){t=t||c.window;try{t.close()}catch(e){}}function fr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Cr().toLowerCase(),r&&(e.target=r,ut(n,"crios/")&&(e.target="_blank")),Ir(Cr())==_r&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof xt?n:Dt("undefined"!=typeof n.href?n.href:String(n)),n=t.target||n.target,i=[],t)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(t[a]?1:0))}var a=i.join(",");if((ft("iPhone")&&!ft("iPod")&&!ft("iPad")||ft("iPad")||ft("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(mt(a=fe(document,"A"),"HTMLAnchorElement"),e instanceof xt||e instanceof xt||(e="object"==typeof e&&e.ra?e.qa():String(e),Rt.test(e)||(e="about:invalid#zClosurez"),e=new xt(Mt,e)),a.href=Pt(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=r.open("",n,a),t=Pt(e),a&&(Yt&&ut(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,t=Vt('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+zt(t)+'">'),r=a.document)&&(r.write(Ut(t)),r.close())):(a=r.open(Pt(e),n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(s){}return a}var pr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dr=/^[^@]+@[^@]+$/;function vr(){var t=null;return new we((function(e){"complete"==c.document.readyState?e():(t=function(){e()},ln(window,"load",t))})).o((function(e){throw hn(window,"load",t),e}))}function yr(t){return t=t||Cr(),!("file:"!==xr()&&"ionic:"!==xr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function gr(){var t=c.window;try{return!(!t||t==t.top)}catch(e){return!1}}function mr(){return"undefined"!==typeof c.WorkerGlobalScope&&"function"===typeof c.importScripts}function br(){return r.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":r.INTERNAL.hasOwnProperty("node")?"Node":mr()?"Worker":"Browser"}function wr(){var t=br();return"ReactNative"===t||"Node"===t}var _r="Firefox",Er="Chrome";function Ir(t){var e=t.toLowerCase();return ut(e,"opera/")||ut(e,"opr/")||ut(e,"opios/")?"Opera":ut(e,"iemobile")?"IEMobile":ut(e,"msie")||ut(e,"trident/")?"IE":ut(e,"edge/")?"Edge":ut(e,"firefox/")?_r:ut(e,"silk/")?"Silk":ut(e,"blackberry")?"Blackberry":ut(e,"webos")?"Webos":!ut(e,"safari/")||ut(e,"chrome/")||ut(e,"crios/")||ut(e,"android")?!ut(e,"chrome/")&&!ut(e,"crios/")||ut(e,"edge/")?ut(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Er:"Safari"}var Tr={jd:"FirebaseCore-web",ld:"FirebaseUI-web"};function Sr(t,e){e=e||[];var n,r=[],i={};for(n in Tr)i[Tr[n]]=!0;for(n=0;n<e.length;n++)"undefined"!==typeof i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=br())?r=Ir(i=Cr()):"Worker"===r&&(r=Ir(i=Cr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Cr(){return c.navigator&&c.navigator.userAgent||""}function Ar(t,e){t=t.split("."),e=e||c;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function kr(){try{var t=c.localStorage,e=Mr();if(t)return t.setItem(e,"1"),t.removeItem(e),!sr()||!!c.indexedDB}catch(n){return mr()&&!!c.indexedDB}return!1}function Nr(){return(Or()||"chrome-extension:"===xr()||yr())&&!wr()&&kr()&&!mr()}function Or(){return"http:"===xr()||"https:"===xr()}function xr(){return c.location&&c.location.protocol||null}function Pr(t){return!lr(t=t||Cr())&&Ir(t)!=_r}function Rr(t){return"undefined"===typeof t?null:nr(t)}function Dr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function Lr(t){if(null!==t)return JSON.parse(t)}function Mr(t){return t||Math.floor(1e9*Math.random()).toString()}function Fr(t){return"Safari"!=Ir(t=t||Cr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Ur(){var t=c.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function jr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Cr(),e=br(),this.b=lr(t)||"ReactNative"===e}function Vr(){var t=c.document;return!t||"undefined"===typeof t.visibilityState||"visible"==t.visibilityState}function qr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function Br(){return!(!Ar("fireauth.oauthhelper",c)&&!Ar("fireauth.iframe",c))}jr.prototype.get=function(){var t=c.navigator;return!t||"boolean"!==typeof t.onLine||!Or()&&"chrome-extension:"!==xr()&&"undefined"===typeof t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var zr,Gr={};function Wr(t){Gr[t]||(Gr[t]=!0,"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn(t))}try{var Hr={};Object.defineProperty(Hr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Hr,"abcd",{configurable:!0,enumerable:!0,value:2}),zr=2==Hr.abcd}catch(aa){zr=!1}function Kr(t,e,n){zr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Qr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Kr(t,n,e[n])}function Yr(t){var e={};return Qr(e,t),e}function Xr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Kr(e,n,Xr(t[n]));return e}function $r(t){var e=t&&(t[ni]?"phone":null);if(!(e&&t&&t[ei]))throw new C("internal-error","Internal assert: invalid MultiFactorInfo object");Kr(this,"uid",t[ei]),Kr(this,"displayName",t[Zr]||null);var n=null;t[ti]&&(n=new Date(t[ti]).toUTCString()),Kr(this,"enrollmentTime",n),Kr(this,"factorId",e)}function Jr(t){try{var e=new ri(t)}catch(n){e=null}return e}$r.prototype.v=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Zr="displayName",ti="enrolledAt",ei="mfaEnrollmentId",ni="phoneInfo";function ri(t){$r.call(this,t),Kr(this,"phoneNumber",t[ni])}function ii(t){var e={},n=t[ui],r=t[li],i=t[hi];if(t=Jr(t[ci]),!i||i!=ai&&i!=si&&!n||i==si&&!r||i==oi&&!t)throw Error("Invalid checkActionCode response!");i==si?(e[pi]=n||null,e[vi]=n||null,e[fi]=r):(e[pi]=r||null,e[vi]=r||null,e[fi]=n||null),e[di]=t||null,Kr(this,gi,i),Kr(this,yi,Xr(e))}S(ri,$r),ri.prototype.v=function(){var t=ri.Za.v.call(this);return t.phoneNumber=this.phoneNumber,t};var oi="REVERT_SECOND_FACTOR_ADDITION",ai="EMAIL_SIGNIN",si="VERIFY_AND_CHANGE_EMAIL",ui="email",ci="mfaInfo",li="newEmail",hi="requestType",fi="email",pi="fromEmail",di="multiFactorInfo",vi="previousEmail",yi="data",gi="operation";function mi(t){var e=Fn(t=Un(t),bi)||null,n=Fn(t,wi)||null,r=Fn(t,Ii)||null;if(r=r&&Si[r]||null,!e||!n||!r)throw new C("argument-error",bi+", "+wi+"and "+Ii+" are required in a valid action code URL.");Qr(this,{apiKey:e,operation:r,code:n,continueUrl:Fn(t,_i)||null,languageCode:Fn(t,Ei)||null,tenantId:Fn(t,Ti)||null})}var bi="apiKey",wi="oobCode",_i="continueUrl",Ei="languageCode",Ii="mode",Ti="tenantId",Si={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:oi,signIn:ai,verifyAndChangeEmail:si,verifyEmail:"VERIFY_EMAIL"};function Ci(t){try{return new mi(t)}catch(e){return null}}function Ai(t){var e=t[Pi];if("undefined"===typeof e)throw new C("missing-continue-uri");if("string"!==typeof e||"string"===typeof e&&!e.length)throw new C("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[ki];if(n&&"object"===typeof n){e=n[Li];var r=n[Ri];if(n=n[Di],"string"===typeof e&&e.length){if(this.a=e,"undefined"!==typeof r&&"boolean"!==typeof r)throw new C("argument-error",Ri+" property must be a boolean when specified.");if(this.g=!!r,"undefined"!==typeof n&&("string"!==typeof n||"string"===typeof n&&!n.length))throw new C("argument-error",Di+" property must be a non empty string when specified.");this.b=n||null}else{if("undefined"!==typeof e)throw new C("argument-error",Li+" property must be a non empty string when specified.");if("undefined"!==typeof r||"undefined"!==typeof n)throw new C("missing-android-pkg-name")}}else if("undefined"!==typeof n)throw new C("argument-error",ki+" property must be a non null object when specified.");if(this.f=null,(e=t[xi])&&"object"===typeof e){if("string"===typeof(e=e[Mi])&&e.length)this.f=e;else if("undefined"!==typeof e)throw new C("argument-error",Mi+" property must be a non empty string when specified.")}else if("undefined"!==typeof e)throw new C("argument-error",xi+" property must be a non null object when specified.");if("undefined"!==typeof(e=t[Oi])&&"boolean"!==typeof e)throw new C("argument-error",Oi+" property must be a boolean when specified.");if(this.c=!!e,"undefined"!==typeof(t=t[Ni])&&("string"!==typeof t||"string"===typeof t&&!t.length))throw new C("argument-error",Ni+" property must be a non empty string when specified.");this.i=t||null}var ki="android",Ni="dynamicLinkDomain",Oi="handleCodeInApp",xi="iOS",Pi="url",Ri="installApp",Di="minimumVersion",Li="packageName",Mi="bundleId";function Fi(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Ui=null;function ji(t){var e="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Ui[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Ui){Ui={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Ui[o]&&(Ui[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,(function(t){e+=String.fromCharCode(t)})),e}function Vi(t){var e=Bi(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.g=t,this.c=e.exp,this.h=e.sub,T(),this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.b=!!e.is_anonymous||"anonymous"==this.a}function qi(t){try{return new Vi(t)}catch(e){return null}}function Bi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(ji(t))}catch(r){}return null}Vi.prototype.S=function(){return this.f},Vi.prototype.i=function(){return this.b},Vi.prototype.toString=function(){return this.g};var zi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Gi=["client_id","response_type","scope","redirect_uri","state"],Wi={kd:{Ha:"locale",ta:700,sa:600,ea:"facebook.com",Va:Gi},md:{Ha:null,ta:500,sa:750,ea:"github.com",Va:Gi},nd:{Ha:"hl",ta:515,sa:680,ea:"google.com",Va:Gi},td:{Ha:"lang",ta:485,sa:705,ea:"twitter.com",Va:zi},gd:{Ha:"locale",ta:640,sa:600,ea:"apple.com",Va:[]}};function Hi(t){for(var e in Wi)if(Wi[e].ea==t)return Wi[e];return null}function Ki(t){var e={};e["facebook.com"]=Ji,e["google.com"]=to,e["github.com"]=Zi,e["twitter.com"]=eo;var n=t&&t[Yi];try{if(n)return e[n]?new e[n](t):new $i(t);if("undefined"!==typeof t[Qi])return new Xi(t)}catch(r){}return null}var Qi="idToken",Yi="providerId";function Xi(t){var e=t[Yi];if(!e&&t[Qi]){var n=qi(t[Qi]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,"undefined"!==typeof t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Kr(this,"providerId",e),Kr(this,"isNewUser",n)}function $i(t){Xi.call(this,t),Kr(this,"profile",Xr((t=Lr(t.rawUserInfo||"{}"))||{}))}function Ji(t){if($i.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Zi(t){if($i.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Kr(this,"username",this.profile&&this.profile.login||null)}function to(t){if($i.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function eo(t){if($i.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Kr(this,"username",t.screenName||null)}function no(t){var e=Un(t),n=Fn(e,"link"),r=Fn(Un(n),"link");return e=Fn(e,"deep_link_id"),Fn(Un(e),"link")||e||r||n||t}function ro(t,e){if(!t&&!e)throw new C("internal-error","Internal assert: no raw session string available");if(t&&e)throw new C("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?io:oo}S($i,Xi),S(Ji,$i),S(Zi,$i),S(to,$i),S(eo,$i);var io="enroll",oo="signin";function ao(){}function so(t,e){return t.then((function(t){if(t[Xa]){var n=qi(t[Xa]);if(!n||e!=n.h)throw new C("user-mismatch");return t}throw new C("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==N+"user-not-found"?new C("user-mismatch"):t}))}function uo(t,e){if(!e)throw new C("internal-error","failed to construct a credential");this.a=e,Kr(this,"providerId",t),Kr(this,"signInMethod",t)}function co(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function lo(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new uo(t.providerId,t.pendingToken)}catch(e){}return null}function ho(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Kr(this,"idToken",e.idToken),e.accessToken&&Kr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Kr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new C("internal-error","failed to construct a credential");Kr(this,"accessToken",e.oauthToken),Kr(this,"secret",e.oauthTokenSecret)}Kr(this,"providerId",t),Kr(this,"signInMethod",n)}function fo(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Xn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function po(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new ho(t.providerId,e,t.signInMethod)}catch(n){}}return null}function vo(t,e){this.Oc=e||[],Qr(this,{providerId:t,isOAuthProvider:!0}),this.Fb={},this.lb=(Hi(t)||{}).Ha||null,this.kb=null}function yo(t){if("string"!==typeof t||0!=t.indexOf("saml."))throw new C("argument-error",'SAML provider IDs must be prefixed with "saml."');vo.call(this,t,[])}function go(t){vo.call(this,t,Gi),this.a=[]}function mo(){go.call(this,"facebook.com")}function bo(t){if(!t)throw new C("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return y(t)&&(e=t.accessToken),(new mo).credential({accessToken:e})}function wo(){go.call(this,"github.com")}function _o(t){if(!t)throw new C("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return y(t)&&(e=t.accessToken),(new wo).credential({accessToken:e})}function Eo(){go.call(this,"google.com"),this.Aa("profile")}function Io(t,e){var n=t;return y(t)&&(n=t.idToken,e=t.accessToken),(new Eo).credential({idToken:n,accessToken:e})}function To(){vo.call(this,"twitter.com",zi)}function So(t,e){var n=t;if(y(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new C("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new ho("twitter.com",n,"twitter.com")}function Co(t,e,n){this.a=t,this.f=e,Kr(this,"providerId","password"),Kr(this,"signInMethod",n===ko.EMAIL_LINK_SIGN_IN_METHOD?ko.EMAIL_LINK_SIGN_IN_METHOD:ko.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Ao(t){return t&&t.email&&t.password?new Co(t.email,t.password,t.signInMethod):null}function ko(){Qr(this,{providerId:"password",isOAuthProvider:!1})}function No(t,e){if(!(e=Oo(e)))throw new C("argument-error","Invalid email link!");return new Co(t,e.code,ko.EMAIL_LINK_SIGN_IN_METHOD)}function Oo(t){return(t=Ci(t=no(t)))&&t.operation===ai?t:null}function xo(t){if(!(t.bb&&t.ab||t.Ja&&t.da))throw new C("internal-error");this.a=t,Kr(this,"providerId","phone"),this.ea="phone",Kr(this,"signInMethod","phone")}function Po(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return G(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new xo(e)}return null}function Ro(t){return t.a.Ja&&t.a.da?{temporaryProof:t.a.Ja,phoneNumber:t.a.da}:{sessionInfo:t.a.bb,code:t.a.ab}}function Do(t){try{this.a=t||r.auth()}catch(e){throw new C("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Qr(this,{providerId:"phone",isOAuthProvider:!1})}function Lo(t,e){if(!t)throw new C("missing-verification-id");if(!e)throw new C("missing-verification-code");return new xo({bb:t,ab:e})}function Mo(t){if(t.temporaryProof&&t.phoneNumber)return new xo({Ja:t.temporaryProof,da:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return Io(o,n);case"facebook.com":return bo(n);case"github.com":return _o(n);case"twitter.com":return So(n,r);default:return n||r||o||a?a?0==e.indexOf("saml.")?new uo(e,a):new ho(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new go(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(s){return null}}function Fo(t){if(!t.isOAuthProvider)throw new C("invalid-oauth-provider")}function Uo(t,e,n,r,i,o,a){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new C("invalid-auth-event");if(this.g&&this.a)throw new C("invalid-auth-event");if(this.g&&!this.f)throw new C("invalid-auth-event")}function jo(t){return(t=t||{}).type?new Uo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&A(t.error),t.postBody,t.tenantId):null}function Vo(){this.b=null,this.a=[]}ro.prototype.Fa=function(){return this.a?Ae(this.a):Ae(this.b)},ro.prototype.v=function(){return this.type==io?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},ao.prototype.ia=function(){},ao.prototype.b=function(){},ao.prototype.c=function(){},ao.prototype.v=function(){},uo.prototype.ia=function(t){return ys(t,co(this))},uo.prototype.b=function(t,e){var n=co(this);return n.idToken=e,gs(t,n)},uo.prototype.c=function(t,e){return so(ms(t,co(this)),e)},uo.prototype.v=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},ho.prototype.ia=function(t){return ys(t,fo(this))},ho.prototype.b=function(t,e){var n=fo(this);return n.idToken=e,gs(t,n)},ho.prototype.c=function(t,e){return so(ms(t,fo(this)),e)},ho.prototype.v=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},vo.prototype.Ia=function(t){return this.Fb=vt(t),this},S(yo,vo),S(go,vo),go.prototype.Aa=function(t){return Q(this.a,t)||this.a.push(t),this},go.prototype.Nb=function(){return J(this.a)},go.prototype.credential=function(t,e){var n;if(!(n=y(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new C("argument-error","credential failed: must provide the ID token and/or the access token.");return new ho(this.providerId,n,this.providerId)},S(mo,go),Kr(mo,"PROVIDER_ID","facebook.com"),Kr(mo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),S(wo,go),Kr(wo,"PROVIDER_ID","github.com"),Kr(wo,"GITHUB_SIGN_IN_METHOD","github.com"),S(Eo,go),Kr(Eo,"PROVIDER_ID","google.com"),Kr(Eo,"GOOGLE_SIGN_IN_METHOD","google.com"),S(To,vo),Kr(To,"PROVIDER_ID","twitter.com"),Kr(To,"TWITTER_SIGN_IN_METHOD","twitter.com"),Co.prototype.ia=function(t){return this.signInMethod==ko.EMAIL_LINK_SIGN_IN_METHOD?Zs(t,Cs,{email:this.a,oobCode:this.f}):Zs(t,Qs,{email:this.a,password:this.f})},Co.prototype.b=function(t,e){return this.signInMethod==ko.EMAIL_LINK_SIGN_IN_METHOD?Zs(t,As,{idToken:e,email:this.a,oobCode:this.f}):Zs(t,Vs,{idToken:e,email:this.a,password:this.f})},Co.prototype.c=function(t,e){return so(this.ia(t),e)},Co.prototype.v=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Qr(ko,{PROVIDER_ID:"password"}),Qr(ko,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Qr(ko,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),xo.prototype.ia=function(t){return t.cb(Ro(this))},xo.prototype.b=function(t,e){var n=Ro(this);return n.idToken=e,Zs(t,Xs,n)},xo.prototype.c=function(t,e){var n=Ro(this);return n.operation="REAUTH",so(t=Zs(t,$s,n),e)},xo.prototype.v=function(){var t={providerId:"phone"};return this.a.bb&&(t.verificationId=this.a.bb),this.a.ab&&(t.verificationCode=this.a.ab),this.a.Ja&&(t.temporaryProof=this.a.Ja),this.a.da&&(t.phoneNumber=this.a.da),t},Do.prototype.cb=function(t,e){var n=this.a.b;return Ae(e.verify()).then((function(r){if("string"!==typeof r)throw new C("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=y(t)?t.session:null,o=y(t)?t.phoneNumber:t;return(i&&i.type==io?i.Fa().then((function(t){return function(t,e){return Zs(t,Bs,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==oo?i.Fa().then((function(e){return function(t,e){return Zs(t,zs,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return Zs(t,Us,e)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(t){return"function"===typeof e.reset&&e.reset(),t}),(function(t){throw"function"===typeof e.reset&&e.reset(),t}));default:throw new C("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Qr(Do,{PROVIDER_ID:"phone"}),Qr(Do,{PHONE_SIGN_IN_METHOD:"phone"}),Uo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Uo.prototype.S=function(){return this.h},Uo.prototype.v=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.v()}};var qo,Bo=null;function zo(t){var e="unauthorized-domain",n=void 0,r=Un(t);t=r.b,"chrome-extension"==(r=r.f)?n=Bt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Bt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",C.call(this,e,n)}function Go(t,e,n){C.call(this,t,n),(t=e||{}).Gb&&Kr(this,"email",t.Gb),t.da&&Kr(this,"phoneNumber",t.da),t.credential&&Kr(this,"credential",t.credential),t.Wb&&Kr(this,"tenantId",t.Wb)}function Wo(t){if(t.code){var e=t.code||"";0==e.indexOf(N)&&(e=e.substring(N.length));var n={credential:Mo(t),Wb:t.tenantId};if(t.email)n.Gb=t.email;else if(t.phoneNumber)n.da=t.phoneNumber;else if(!n.credential)return new C(e,t.message||void 0);return new Go(e,n,t.message)}return null}function Ho(){}function Ko(t){return t.c||(t.c=t.b())}function Qo(){}function Yo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Xo(){}function $o(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=E(this.oc,this),this.a.onerror=E(this.Pb,this),this.a.onprogress=E(this.pc,this),this.a.ontimeout=E(this.tc,this)}function Jo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Zo(t,e,n){this.reset(t,e,n,void 0,void 0)}S(zo,C),S(Go,C),Go.prototype.v=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.v();return e&&gt(t,e),t},Go.prototype.toJSON=function(){return this.v()},Ho.prototype.c=null,S(Qo,Ho),Qo.prototype.a=function(){var t=Yo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Qo.prototype.b=function(){var t={};return Yo(this)&&(t[0]=!0,t[1]=!0),t},qo=new Qo,S(Xo,Ho),Xo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new $o;throw Error("Unsupported browser")},Xo.prototype.b=function(){return{}},(e=$o.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},e.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},e.oc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Jo(this,4)},e.Pb=function(){this.status=500,this.response=this.responseText="",Jo(this,4)},e.tc=function(){this.Pb()},e.pc=function(){this.status=200,Jo(this,1)},e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Zo.prototype.a=null;function ta(t){this.f=t,this.b=this.c=this.a=null}function ea(t,e){this.name=t,this.value=e}Zo.prototype.reset=function(t,e,n,r,i){"number"==typeof i||0,r||T(),delete this.a},ea.prototype.toString=function(){return this.name};var na=new ea("SEVERE",1e3),ra=new ea("WARNING",900),ia=new ea("CONFIG",700),oa=new ea("FINE",500);ta.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(M("Root logger has no level set."),null)}(this).value)for(v(e)&&(e=e()),t=new Zo(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var aa,sa={},ua=null;function ca(t){var e;if(ua||(ua=new ta(""),sa[""]=ua,ua.c=ia),!(e=sa[t])){e=new ta(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=ca(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,sa[t]=e}return e}function la(t,e){t&&t.log(oa,e,void 0)}function ha(t){this.f=t}function fa(t){wn.call(this),this.s=t,this.readyState=pa,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=ca("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}S(ha,Ho),ha.prototype.a=function(){return new fa(this.f)},ha.prototype.b=(aa={},function(){return aa}),S(fa,wn);var pa=0;function da(t){t.c.read().then(t.nc.bind(t)).catch(t.Sa.bind(t))}function va(t,e){e&&t.f&&(t.status=t.f.status,t.statusText=t.f.statusText),t.readyState=4,t.f=null,t.c=null,t.l=null,ya(t)}function ya(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function ga(t){wn.call(this),this.headers=new kn,this.D=t||null,this.c=!1,this.B=this.a=null,this.h=this.P=this.l="",this.f=this.O=this.i=this.N=!1,this.g=0,this.s=null,this.m=ma,this.w=this.R=!1}(e=fa.prototype).open=function(t,e){if(this.readyState!=pa)throw this.abort(),Error("Error reopening a connection");this.m=t,this.g=e,this.readyState=1,ya(this)},e.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.i,method:this.m,credentials:void 0,cache:void 0};t&&(e.body=t),this.s.fetch(new Request(this.g,e)).then(this.sc.bind(this),this.Sa.bind(this))},e.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,va(this,!1)),this.readyState=pa},e.sc=function(t){this.a&&(this.f=t,this.b||(this.b=t.headers,this.readyState=2,ya(this)),this.a&&(this.readyState=3,ya(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.qc.bind(this),this.Sa.bind(this)):"undefined"!==typeof c.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.l=new TextDecoder,da(this)):t.text().then(this.rc.bind(this),this.Sa.bind(this)))))},e.nc=function(t){if(this.a){var e=this.l.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?va(this,!0):ya(this),3==this.readyState&&da(this)}},e.rc=function(t){this.a&&(this.response=this.responseText=t,va(this,!0))},e.qc=function(t){this.a&&(this.response=t,va(this,!0))},e.Sa=function(t){var e=this.h;e&&e.log(ra,"Failed to fetch url "+this.g,t instanceof Error?t:Error(t)),this.a&&va(this,!0)},e.setRequestHeader=function(t,e){this.i.append(t,e)},e.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log(ra,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log(ra,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},S(ga,wn);var ma="";ga.prototype.b=ca("goog.net.XhrIo");var ba=/^https?$/i,wa=["POST","PUT"];function _a(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.N=!1,t.c=!0,t.a=t.D?t.D.a():qo.a(),t.B=t.D?Ko(t.D):Ko(qo),t.a.onreadystatechange=E(t.Sb,t);try{la(t.b,Oa(t,"Opening Xhr")),t.O=!0,t.a.open(n,String(e),!0),t.O=!1}catch(a){return la(t.b,Oa(t,"Error opening Xhr: "+a.message)),void Ia(t,a)}e=r||"";var o=new kn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(d(t)||"string"===typeof t)G(t,e,void 0);else for(var n=An(t),r=Cn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=Ea,n=t.length,r="string"===typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"===typeof t?t.charAt(e):t[e]}(o.X()),r=c.FormData&&e instanceof c.FormData,!Q(wa,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.R&&(t.a.withCredentials=t.R);try{Aa(t),0<t.g&&(t.w=function(t){return Kt&&ie(9)&&"number"===typeof t.timeout&&void 0!==t.ontimeout}(t.a),la(t.b,Oa(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.w)),t.w?(t.a.timeout=t.g,t.a.ontimeout=E(t.Ka,t)):t.s=Tn(t.Ka,t.g,t)),la(t.b,Oa(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(a){la(t.b,Oa(t,"Send error: "+a.message)),Ia(t,a)}}function Ea(t){return"content-type"==t.toLowerCase()}function Ia(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,Ta(t),Ca(t)}function Ta(t){t.N||(t.N=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Sa(t){if(t.c&&"undefined"!=typeof u)if(t.B[1]&&4==ka(t)&&2==Na(t))la(t.b,Oa(t,"Local request error detected and ignored"));else if(t.i&&4==ka(t))Tn(t.Sb,0,t);else if(t.dispatchEvent("readystatechange"),4==ka(t)){la(t.b,Oa(t,"Request complete")),t.c=!1;try{var e,n=Na(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.l).match(xn)[1]||null;if(!o&&c.self&&c.self.location){var a=c.self.location.protocol;o=a.substr(0,a.length-1)}i=!ba.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var s=2<ka(t)?t.a.statusText:""}catch(l){la(t.b,"Can not get status: "+l.message),s=""}t.h=s+" ["+Na(t)+"]",Ta(t)}}finally{Ca(t)}}}function Ca(t,e){if(t.a){Aa(t);var n=t.a,r=t.B[0]?f:null;t.a=null,t.B=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(t=t.b)&&t.log(na,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function Aa(t){t.a&&t.w&&(t.a.ontimeout=null),t.s&&(c.clearTimeout(t.s),t.s=null)}function ka(t){return t.a?t.a.readyState:0}function Na(t){try{return 2<ka(t)?t.a.status:-1}catch(e){return-1}}function Oa(t,e){return e+" ["+t.P+" "+t.l+" "+Na(t)+"]"}function xa(t){var e=Ba;this.g=[],this.w=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.u=this.B=this.i=!1,this.h=0,this.b=null,this.l=0}function Pa(t,e,n){t.a=!0,t.c=n,t.f=!e,Ma(t)}function Ra(t){if(t.a){if(!t.u)throw new Fa(t);t.u=!1}}function Da(t,e,n,r){t.g.push([e,n,r]),t.a&&Ma(t)}function La(t){return K(t.g,(function(t){return v(t[1])}))}function Ma(t){if(t.h&&t.a&&La(t)){var e=t.h,n=Va[e];n&&(c.clearTimeout(n.a),delete Va[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],a=i[1];if(i=i[2],o=t.f?a:o)try{var s=o.call(i||t.s,e);void 0!==s&&(t.f=t.f&&(s==e||s instanceof Error),t.c=e=s),(R(e)||"function"===typeof c.Promise&&e instanceof c.Promise)&&(r=!0,t.i=!0)}catch(u){e=u,t.f=!0,La(t)||(n=!0)}}t.c=e,r&&(s=E(t.m,t,!0),r=E(t.m,t,!1),e instanceof xa?(Da(e,s,r),e.B=!0):e.then(s,r)),n&&(e=new ja(e),Va[e.a]=e,t.h=e.a)}function Fa(){D.call(this)}function Ua(){D.call(this)}function ja(t){this.a=c.setTimeout(E(this.c,this),0),this.b=t}(e=ga.prototype).Ka=function(){"undefined"!=typeof u&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",la(this.b,Oa(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},e.abort=function(){this.a&&this.c&&(la(this.b,Oa(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ca(this))},e.Ba=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Ca(this,!0)),ga.Za.Ba.call(this)},e.Sb=function(){this.wa||(this.O||this.i||this.f?Sa(this):this.Hc())},e.Hc=function(){Sa(this)},e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ma:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(na,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return la(this.b,"Can not get response: "+e.message),null}},xa.prototype.cancel=function(t){if(this.a)this.c instanceof xa&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.w?this.w.call(this.s,this):this.u=!0,this.a||(t=new Ua(this),Ra(this),Pa(this,!1,t))}},xa.prototype.m=function(t,e){this.i=!1,Pa(this,t,e)},xa.prototype.then=function(t,e,n){var r,i,o=new we((function(t,e){r=t,i=e}));return Da(this,r,(function(t){t instanceof Ua?o.cancel():i(t)})),o.then(t,e,n)},xa.prototype.$goog_Thenable=!0,S(Fa,D),Fa.prototype.message="Deferred has already fired",Fa.prototype.name="AlreadyCalledError",S(Ua,D),Ua.prototype.message="Deferred was canceled",Ua.prototype.name="CanceledError",ja.prototype.c=function(){throw delete Va[this.a],this.b};var Va={};function qa(t){var e={},n=e.document||document,r=St(t).toString(),i=fe(document,"SCRIPT"),o={Tb:i,Ka:void 0},a=new xa(o),s=null,u=null!=e.timeout?e.timeout:5e3;return 0<u&&(s=window.setTimeout((function(){za(i,!0);var t=new Ha(Wa,"Timeout reached for loading script "+r);Ra(a),Pa(a,!1,t)}),u),o.Ka=s),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(za(i,e.ud||!1,s),Ra(a),Pa(a,!0,null))},i.onerror=function(){za(i,!0,s);var t=new Ha(Ga,"Error while loading script "+r);Ra(a),Pa(a,!1,t)},gt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),se(i,o),function(t,e){mt(t,"HTMLScriptElement"),t.src=St(e),null===h&&(h=(e=(e=c.document).querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&l.test(e)?e:""),(e=h)&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),a}function Ba(){if(this&&this.Tb){var t=this.Tb;t&&"SCRIPT"==t.tagName&&za(t,!0,this.Ka)}}function za(t,e,n){null!=n&&c.clearTimeout(n),t.onload=f,t.onerror=f,t.onreadystatechange=f,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Ga=0,Wa=1;function Ha(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),D.call(this,n),this.code=t}function Ka(t){this.f=t}function Qa(t,e,n){if(this.c=t,t=e||{},this.u=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||$a,this.g=vt(t.secureTokenHeaders||Ja),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.l=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.i=t.firebaseTimeout||Za,this.a=vt(t.firebaseHeaders||ts),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==br(),!(n=c.XMLHttpRequest||n&&r.INTERNAL.node&&r.INTERNAL.node.XMLHttpRequest)&&!mr())throw new C("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,mr()?this.f=new ha(self):wr()?this.f=new Ka(n):this.f=new Xo,this.b=null}S(Ha,D),S(Ka,Ho),Ka.prototype.a=function(){return new this.f},Ka.prototype.b=function(){return{}};var Ya,Xa="idToken",$a=new jr(3e4,6e4),Ja={"Content-Type":"application/x-www-form-urlencoded"},Za=new jr(3e4,6e4),ts={"Content-Type":"application/json"};function es(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function ns(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function rs(t,e,n,r,i,o,a){(function(){var t=Cr();return!((t=Ir(t)!=Er?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t)&&(!Kt||!ne||9<ne)})()||mr()?t=E(t.w,t):(Ya||(Ya=new we((function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{c[os]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Da(t,null,e,void 0)}(qa(Ct(is,{onload:os})),(function(){e(Error("CORS_UNSUPPORTED"))}))}}(t,e)}))),t=E(t.s,t)),t(e,n,r,i,o,a)}Qa.prototype.S=function(){return this.b},Qa.prototype.w=function(t,e,n,r,i,o){if(mr()&&("undefined"===typeof c.fetch||"undefined"===typeof c.Headers||"undefined"===typeof c.Request))throw new C("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new ga(this.f);if(o){a.g=Math.max(0,o);var s=setTimeout((function(){a.dispatchEvent("timeout")}),o)}_n(a,"complete",(function(){s&&clearTimeout(s);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return la(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)})),En(a,"ready",(function(){s&&clearTimeout(s),Ge(this)})),En(a,"timeout",(function(){s&&clearTimeout(s),Ge(this),e&&e(null)})),_a(a,t,n,r,i)};var is=new bt(Et,"https://apis.google.com/js/client.js?onload=%{onload}"),os="__fcb"+Math.floor(1e6*Math.random()).toString();function as(t,e,n,r,i,o,a){var s=Un(e+n);Mn(s,"key",t.c),a&&Mn(s,"cb",T().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Mn(s,c,i[c]);return new we((function(e,n){rs(t,s.toString(),(function(t){t?t.error?n(eu(t,o||{})):e(t):n(new C("network-request-failed"))}),r,u?void 0:nr(Dr(i)),t.a,t.i.get())}))}function ss(t){if("string"!==typeof(t=t.email)||!dr.test(t))throw new C("invalid-email")}function us(t){"email"in t&&ss(t)}function cs(t){if(!t[Xa]){if(t.mfaPendingCredential)throw new C("multi-factor-auth-required",null,vt(t));throw new C("internal-error")}}function ls(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new C("internal-error")}else{if(!t.sessionInfo)throw new C("missing-verification-id");if(!t.code)throw new C("missing-verification-code")}}Qa.prototype.s=function(t,e,n,r,i){var o=this;Ya.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},Qa.prototype.vb=function(){return Zs(this,qs,{})},Qa.prototype.xb=function(t,e){return Zs(this,js,{idToken:t,email:e})},Qa.prototype.yb=function(t,e){return Zs(this,Vs,{idToken:t,password:e})};var hs={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function fs(t){if(!t.phoneVerificationInfo)throw new C("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new C("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new C("missing-verification-code")}function ps(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new C("internal-error")}function ds(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&(Jn(t=new Qn(t.postBody),"nonce")&&(e.nonce=t.get("nonce")))),e}function vs(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Wo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Wo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Wo(t)):t.errorMessage&&(e=tu(t.errorMessage)),e)throw e;cs(t)}function ys(t,e){return e.returnIdpCredential=!0,Zs(t,Gs,e)}function gs(t,e){return e.returnIdpCredential=!0,Zs(t,Hs,e)}function ms(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Zs(t,Ws,e)}function bs(t){if(!t.oobCode)throw new C("invalid-action-code")}(e=Qa.prototype).zb=function(t,e){var n={idToken:t},r=[];return pt(hs,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),Zs(this,js,n)},e.rb=function(t,e){return gt(t={requestType:"PASSWORD_RESET",email:t},e),Zs(this,Ds,t)},e.sb=function(t,e){return gt(t={requestType:"EMAIL_SIGNIN",email:t},e),Zs(this,xs,t)},e.qb=function(t,e){return gt(t={requestType:"VERIFY_EMAIL",idToken:t},e),Zs(this,Ps,t)},e.Ab=function(t,e,n){return gt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),Zs(this,Rs,t)},e.cb=function(t){return Zs(this,Ys,t)},e.jb=function(t,e){return Zs(this,Fs,{oobCode:t,newPassword:e})},e.Pa=function(t){return Zs(this,_s,{oobCode:t})},e.fb=function(t){return Zs(this,ws,{oobCode:t})};var ws={endpoint:"setAccountInfo",A:bs,Y:"email",C:!0},_s={endpoint:"resetPassword",A:bs,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new C("internal-error")},C:!0},Es={endpoint:"signupNewUser",A:function(t){if(ss(t),!t.password)throw new C("weak-password")},G:cs,U:!0,C:!0},Is={endpoint:"createAuthUri",C:!0},Ts={endpoint:"deleteAccount",M:["idToken"]},Ss={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],A:function(t){if("array"!=p(t.deleteProvider))throw new C("internal-error")}},Cs={endpoint:"emailLinkSignin",M:["email","oobCode"],A:ss,G:cs,U:!0,C:!0},As={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],A:ss,G:cs,U:!0},ks={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],A:fs,G:cs,C:!0,La:!0},Ns={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],A:fs,G:cs,C:!0,La:!0},Os={endpoint:"getAccountInfo"},xs={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new C("internal-error");ss(t)},Y:"email",C:!0},Ps={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new C("internal-error")},Y:"email",C:!0},Rs={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new C("internal-error")},Y:"email",C:!0},Ds={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new C("internal-error");ss(t)},Y:"email",C:!0},Ls={hb:!0,endpoint:"getProjectConfig",Rb:"GET"},Ms={hb:!0,endpoint:"getRecaptchaParam",Rb:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new C("internal-error")}},Fs={endpoint:"resetPassword",A:bs,Y:"email",C:!0},Us={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Y:"sessionInfo",C:!0},js={endpoint:"setAccountInfo",M:["idToken"],A:us,U:!0},Vs={endpoint:"setAccountInfo",M:["idToken"],A:function(t){if(us(t),!t.password)throw new C("weak-password")},G:cs,U:!0},qs={endpoint:"signupNewUser",G:cs,U:!0,C:!0},Bs={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new C("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new C("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new C("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new C("internal-error")},C:!0,La:!0},zs={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new C("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new C("internal-error")},C:!0,La:!0},Gs={endpoint:"verifyAssertion",A:ps,Wa:ds,G:vs,U:!0,C:!0},Ws={endpoint:"verifyAssertion",A:ps,Wa:ds,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new C("user-not-found");if(t.errorMessage)throw tu(t.errorMessage);cs(t)},U:!0,C:!0},Hs={endpoint:"verifyAssertion",A:function(t){if(ps(t),!t.idToken)throw new C("internal-error")},Wa:ds,G:vs,U:!0},Ks={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new C("invalid-custom-token")},G:cs,U:!0,C:!0},Qs={endpoint:"verifyPassword",A:function(t){if(ss(t),!t.password)throw new C("wrong-password")},G:cs,U:!0,C:!0},Ys={endpoint:"verifyPhoneNumber",A:ls,G:cs,C:!0},Xs={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new C("internal-error");ls(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Wo(t);cs(t)}},$s={Eb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ls,G:cs,C:!0},Js={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Xa]^!!t.refreshToken)throw new C("internal-error")},C:!0,La:!0};function Zs(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(void 0===r||null===r||""===r)return!1}return!0}(n,e.M))return ke(new C("internal-error"));var r,i=!!e.La,o=e.Rb||"POST";return Ae(n).then(e.A).then((function(){return e.U&&(n.returnSecureToken=!0),e.C&&t.b&&"undefined"===typeof n.tenantId&&(n.tenantId=t.b),as(t,i?t.l:t.h,e.endpoint,o,n,e.Eb,e.hb||!1)})).then((function(t){return r=t,e.Wa?e.Wa(n,r):r})).then(e.G).then((function(){if(!e.Y)return r;if(!(e.Y in r))throw new C("internal-error");return r[e.Y]}))}function tu(t){return eu({error:{errors:[{message:t}],code:400,message:t}})}function eu(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new C(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",gt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new C(r[i],e);return!e&&t&&(e=Rr(t)),new C("internal-error",e)}function nu(t){this.b=t,this.a=null,this.nb=function(t){return(au||(au=new we((function(t,e){function n(){Ur(),Ar("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Ur(),e(Error("Network Error"))},timeout:iu.get()})}if(Ar("gapi.iframes.Iframe"))t();else if(Ar("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();c[r]=function(){Ar("gapi.load")?n():e(Error("Network Error"))},Ae(qa(r=Ct(ru,{onload:r}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw au=null,t})))).then((function(){return new we((function(e,n){Ar("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Ar("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),ou.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var ru=new bt(Et,"https://apis.google.com/js/api.js?onload=%{onload}"),iu=new jr(3e4,6e4),ou=new jr(5e3,15e3),au=null;function su(t,e,n){this.i=t,this.g=e,this.h=n,this.f=null,this.a=jn(this.i,"/__/auth/iframe"),Mn(this.a,"apiKey",this.g),Mn(this.a,"appName",this.h),this.b=null,this.c=[]}function uu(t,e,n,r,i){this.s=t,this.m=e,this.c=n,this.u=r,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function cu(t){try{return r.app(t).auth().Ea()}catch(e){return[]}}function lu(t,e,n,r,i){this.u=t,this.f=e,this.b=n,this.c=r||null,this.h=i||null,this.m=this.s=this.w=null,this.g=[],this.l=this.a=null}function hu(t){var e=ur();return function(t){return Zs(t,Ls,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=Un(e),r=n.f;n=n.b;for(var i=0;i<t.length;i++){var o=t[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=Un(o).b==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:pr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new zo(ur())}))}function fu(t){return t.l||(t.l=vr().then((function(){if(!t.s){var e=t.c,n=t.h,r=cu(t.b),i=new su(t.u,t.f,t.b);i.f=e,i.b=n,i.c=J(r||[]),t.s=i.toString()}t.i=new nu(t.s),function(t){if(!t.i)throw Error("IfcHandler must be initialized!");!function(t,e){t.nb.then((function(){t.a.register("authEvent",e,Ar("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.i,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=jo(e.authEvent),n=0;n<t.g.length;n++)r=t.g[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Ae(n)}return n.status="ERROR",Ae(n)}))}(t)}))),t.l}function pu(t){return t.m||(t.w=t.c?Sr(t.c,cu(t.b)):null,t.m=new Qa(t.f,P(t.h),t.w)),t.m}function du(t,e,n,r,i,o,a,s,u,c,l){return(t=new uu(t,e,n,r,i)).l=o,t.g=a,t.i=s,t.b=vt(u||null),t.f=c,t.ub(l).toString()}function vu(t){if(this.a=t||r.INTERNAL.reactNative&&r.INTERNAL.reactNative.AsyncStorage,!this.a)throw new C("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function yu(t){this.b=t,this.a={},this.f=E(this.c,this)}su.prototype.toString=function(){return this.f?Mn(this.a,"v",this.f):$n(this.a.a,"v"),this.b?Mn(this.a,"eid",this.b):$n(this.a.a,"eid"),this.c.length?Mn(this.a,"fw",this.c.join(",")):$n(this.a.a,"fw"),this.a.toString()},uu.prototype.ub=function(t){return this.h=t,this},uu.prototype.toString=function(){var t=jn(this.s,"/__/auth/handler");if(Mn(t,"apiKey",this.m),Mn(t,"appName",this.c),Mn(t,"authType",this.u),this.a.isOAuthProvider){var e=this.a;try{var n=r.app(this.c).auth().ja()}catch(u){n=null}for(var i in e.kb=n,Mn(t,"providerId",this.a.providerId),n=Dr((e=this.a).Fb))n[i]=n[i].toString();i=e.Oc,n=vt(n);for(var o=0;o<i.length;o++){var a=i[o];a in n&&delete n[a]}e.lb&&e.kb&&!n[e.lb]&&(n[e.lb]=e.kb),dt(n)||Mn(t,"customParameters",Rr(n))}if("function"===typeof this.a.Nb&&((e=this.a.Nb()).length&&Mn(t,"scopes",e.join(","))),this.l?Mn(t,"redirectUrl",this.l):$n(t.a,"redirectUrl"),this.g?Mn(t,"eventId",this.g):$n(t.a,"eventId"),this.i?Mn(t,"v",this.i):$n(t.a,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Fn(t,s)&&Mn(t,s,this.b[s]);return this.h?Mn(t,"tid",this.h):$n(t.a,"tid"),this.f?Mn(t,"eid",this.f):$n(t.a,"eid"),(s=cu(this.c)).length&&Mn(t,"fw",s.join(",")),t.toString()},(e=lu.prototype).Lb=function(t,e,n){var r=new C("popup-closed-by-user"),i=new C("web-storage-unsupported"),o=this,a=!1;return this.ka().then((function(){(function(t){var e={type:"webStorageSupport"};return fu(t).then((function(){return function(t,e){return t.nb.then((function(){return new we((function(n){t.a.send(e.type,e,n,Ar("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.i,e)})).then((function(t){if(t&&t.length&&"undefined"!==typeof t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&hr(t),e(i),a=!0)}))})).o((function(){})).then((function(){if(!a)return function(t){return new we((function(e){return function n(){Sn(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!a)return Sn(n).then((function(){e(r)}))}))},e.Ub=function(){var t=Cr();return!Pr(t)&&!Fr(t)},e.Qb=function(){return!1},e.Jb=function(t,e,n,r,i,o,a,s){if(!t)return ke(new C("popup-blocked"));if(a&&!Pr())return this.ka().o((function(e){hr(t),i(e)})),r(),Ae();this.a||(this.a=hu(pu(this)));var u=this;return this.a.then((function(){var e=u.ka().o((function(e){throw hr(t),i(e),e}));return r(),e})).then((function(){(Fo(n),a)||cr(du(u.u,u.f,u.b,e,n,null,o,u.c,void 0,u.h,s),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},e.Kb=function(t,e,n,r){this.a||(this.a=hu(pu(this)));var i=this;return this.a.then((function(){Fo(e),cr(du(i.u,i.f,i.b,t,e,ur(),n,i.c,void 0,i.h,r))})).o((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},e.ka=function(){var t=this;return fu(this).then((function(){return t.i.nb})).o((function(){throw t.a=null,new C("network-request-failed")}))},e.Xb=function(){return!0},e.Ca=function(t){this.g.push(t)},e.Qa=function(t){X(this.g,(function(e){return e==t}))},(e=vu.prototype).get=function(t){return Ae(this.a.getItem(t)).then((function(t){return t&&Lr(t)}))},e.set=function(t,e){return Ae(this.a.setItem(t,Rr(e)))},e.T=function(t){return Ae(this.a.removeItem(t))},e.ba=function(){},e.ha=function(){};var gu,mu=[];function bu(t,e,n){dt(t.a)&&t.b.addEventListener("message",t.f),"undefined"===typeof t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function wu(t){this.a=t}function _u(t){this.c=t,this.b=!1,this.a=[]}function Eu(t,e,n,r){var i,o,a,s,u=n||{},c=null;if(t.b)return ke(Error("connection_unavailable"));var l=r?800:50,h="undefined"!==typeof MessageChannel?new MessageChannel:null;return new we((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),l),c={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(s),"undefined"!==typeof t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}},t.a.push(c),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(e){return Iu(t,c),e})).o((function(e){throw Iu(t,c),e}))}function Iu(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),X(t.a,(function(t){return t==e}))}}function Tu(){if(!Au())throw new C("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.u=c.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.s=!1,this.h=null;var t=this;mr()&&self?(this.l=function(){var t=mr()?self:null;if(G(mu,(function(n){n.b==t&&(e=n)})),!e){var e=new yu(t);mu.push(e)}return e}(),bu(this.l,"keyChanged",(function(e,n){return Pu(t).then((function(e){return 0<e.length&&G(t.a,(function(t){t(e)})),{keyProcessed:Q(e,n.key)}}))})),bu(this.l,"ping",(function(){return Ae(["keyChanged"])}))):function(){var t=c.navigator;return t&&t.serviceWorker?Ae().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):Ae(null)}().then((function(e){(t.h=e)&&(t.g=new _u(new wu(e)),Eu(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&Q(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function Su(t){return new we((function(e,n){var r=t.u.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(e){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new we((function(e,n){var r=t.u.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(t).then((function(){return Su(t)})).then((function(t){e(t)})).o((function(t){n(t)}))}}))}function Cu(t){return t.m||(t.m=Su(t)),t.m}function Au(){try{return!!c.indexedDB}catch(aa){return!1}}function ku(t){return t.objectStore("firebaseLocalStorage")}function Nu(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Ou(t){return new we((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function xu(t,e){return t.g&&t.h&&function(){var t=c.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?Eu(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):Ae()}function Pu(t){return Cu(t).then((function(t){var e=ku(Nu(t,!1));return e.getAll?Ou(e.getAll()):new we((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=function t(e,n){var r,i=[];for(r in e)r in n?typeof e[r]!=typeof n[r]?i.push(r):"object"==typeof e[r]&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&i.push(r):e[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in e||i.push(r);return i}(t.c,n),t.c=n}return r}))}function Ru(t){t.i&&t.i.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Du(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Ae().then((function(){if(Au()){var t=Mr(),r="__sak"+t;return gu||(gu=new Tu),(n=gu).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.T(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ba((function(t){G(e.a,(function(e){e(t)}))})),t}))}function Lu(){this.a={},this.type="inMemory"}function Mu(){if(!function(){var t="Node"==br();if(!(t=Fu()||t&&r.INTERNAL.node&&r.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==br())throw new C("internal-error","The LocalStorage compatibility library was not found.");throw new C("web-storage-unsupported")}this.a=Fu()||r.INTERNAL.node.localStorage,this.type="localStorage"}function Fu(){try{var t=c.localStorage,e=Mr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Uu(){this.type="nullStorage"}function ju(){if(!function(){var t="Node"==br();if(!(t=Vu()||t&&r.INTERNAL.node&&r.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==br())throw new C("internal-error","The SessionStorage compatibility library was not found.");throw new C("web-storage-unsupported")}this.a=Vu()||r.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Vu(){try{var t=c.sessionStorage,e=Mr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function qu(){var t={};t.Browser=Gu,t.Node=Wu,t.ReactNative=Hu,t.Worker=Ku,this.a=t[br()]}yu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];G(r,(function(e){i.push(Ae().then((function(){return e(t.origin,t.data.data)})))})),Oe(i).then((function(r){var i=[];G(r,(function(t){i.push({fulfilled:t.Mb,value:t.value,reason:t.reason?t.reason.message:void 0})})),G(i,(function(t){for(var e in t)"undefined"===typeof t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},wu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},_u.prototype.close=function(){for(;0<this.a.length;)Iu(this,this.a[0]);this.b=!0},(e=Tu.prototype).set=function(t,e){var n,r=!1,i=this;return Cu(this).then((function(e){return Ou((e=ku(Nu(n=e,!0))).get(t))})).then((function(o){var a=ku(Nu(n,!0));return o?(o.value=e,Ou(a.put(o))):(i.b++,r=!0,(o={}).fbase_key=t,o.value=e,Ou(a.add(o)))})).then((function(){return i.c[t]=e,xu(i,t)})).ma((function(){r&&i.b--}))},e.get=function(t){return Cu(this).then((function(e){return Ou(ku(Nu(e,!1)).get(t))})).then((function(t){return t&&t.value}))},e.T=function(t){var e=!1,n=this;return Cu(this).then((function(r){return e=!0,n.b++,Ou(ku(Nu(r,!0)).delete(t))})).then((function(){return delete n.c[t],xu(n,t)})).ma((function(){e&&n.b--}))},e.ba=function(t){0==this.a.length&&function(t){Ru(t),function e(){t.f=setTimeout((function(){t.i=Pu(t).then((function(e){0<e.length&&G(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}()}(this),this.a.push(t)},e.ha=function(t){X(this.a,(function(e){return e==t})),0==this.a.length&&Ru(this)},(e=Du.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},e.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},e.T=function(t){return this.b.then((function(e){return e.T(t)}))},e.ba=function(t){this.a.push(t)},e.ha=function(t){X(this.a,(function(e){return e==t}))},(e=Lu.prototype).get=function(t){return Ae(this.a[t])},e.set=function(t,e){return this.a[t]=e,Ae()},e.T=function(t){return delete this.a[t],Ae()},e.ba=function(){},e.ha=function(){},(e=Mu.prototype).get=function(t){var e=this;return Ae().then((function(){return Lr(e.a.getItem(t))}))},e.set=function(t,e){var n=this;return Ae().then((function(){var r=Rr(e);null===r?n.T(t):n.a.setItem(t,r)}))},e.T=function(t){var e=this;return Ae().then((function(){e.a.removeItem(t)}))},e.ba=function(t){c.window&&un(c.window,"storage",t)},e.ha=function(t){c.window&&hn(c.window,"storage",t)},(e=Uu.prototype).get=function(){return Ae(null)},e.set=function(){return Ae()},e.T=function(){return Ae()},e.ba=function(){},e.ha=function(){},(e=ju.prototype).get=function(t){var e=this;return Ae().then((function(){return Lr(e.a.getItem(t))}))},e.set=function(t,e){var n=this;return Ae().then((function(){var r=Rr(e);null===r?n.T(t):n.a.setItem(t,r)}))},e.T=function(t){var e=this;return Ae().then((function(){e.a.removeItem(t)}))},e.ba=function(){},e.ha=function(){};var Bu,zu,Gu={F:Mu,$a:ju},Wu={F:Mu,$a:ju},Hu={F:vu,$a:Uu},Ku={F:Mu,$a:Uu},Qu={od:"local",NONE:"none",qd:"session"};function Yu(){var t=!(Fr(Cr())||!gr()),e=Pr(),n=kr();this.m=t,this.h=e,this.l=n,this.a={},Bu||(Bu=new qu),t=Bu;try{this.g=!sr()&&Br()||!c.indexedDB?new t.a.F:new Du(mr()?new Lu:new t.a.F)}catch(r){this.g=new Lu,this.h=!0}try{this.i=new t.a.$a}catch(r){this.i=new Lu}this.u=new Lu,this.f=E(this.Vb,this),this.b={}}function Xu(){return zu||(zu=new Yu),zu}function $u(t,e){switch(e){case"session":return t.i;case"none":return t.u;default:return t.g}}function Ju(t,e){return"firebase:"+t.name+(e?":"+e:"")}function Zu(t,e,n){return n=Ju(e,n),"local"==e.F&&(t.b[n]=null),$u(t,e.F).T(n)}function tc(t){t.c&&(clearInterval(t.c),t.c=null)}function ec(t){this.a=t,this.b=Xu()}(e=Yu.prototype).get=function(t,e){return $u(this,t.F).get(Ju(t,e))},e.set=function(t,e,n){var r=Ju(t,n),i=this,o=$u(this,t.F);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.F&&(i.b[r]=e)}))},e.addListener=function(t,e,n){t=Ju(t,e),this.l&&(this.b[t]=c.localStorage.getItem(t)),dt(this.a)&&($u(this,"local").ba(this.f),this.h||(sr()||!Br())&&c.indexedDB||!this.l||function(t){tc(t),t.c=setInterval((function(){for(var e in t.a){var n=c.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Xe({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Vb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},e.removeListener=function(t,e,n){t=Ju(t,e),this.a[t]&&(X(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),dt(this.a)&&($u(this,"local").ha(this.f),tc(this))},e.Vb=function(t){if(t&&t.f){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];"undefined"===typeof r&&(r=null);var i=c.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.ib(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if("undefined"!==typeof t.a.a?$u(this,"local").ha(this.f):tc(this),this.m)if(n=c.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?c.localStorage.setItem(e,r):c.localStorage.removeItem(e);else if(this.b[e]===r&&"undefined"===typeof t.a.a)return;var o=this;n=function(){"undefined"===typeof t.a.a&&o.b[e]===c.localStorage.getItem(e)||(o.b[e]=c.localStorage.getItem(e),o.ib(e))},Kt&&ne&&10==ne&&c.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else G(t,E(this.ib,this))},e.ib=function(t){this.a[t]&&G(this.a[t],(function(t){t()}))};var nc,rc={name:"authEvent",F:"local"};function ic(){this.a=Xu()}function oc(t,e){this.b=ac,this.f=c.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=c.Int32Array?new Int32Array(64):Array(64),void 0===nc&&(nc=c.Int32Array?new Int32Array(pc):pc),this.reset()}S(oc,(function(){this.b=-1}));for(var ac=64,sc=ac-1,uc=[],cc=0;cc<sc;cc++)uc[cc]=0;var lc=$(128,uc);function hc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&h)+(0|nc[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function fc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"===typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(hc(t),i=0);else{if(!d(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(hc(t),i=0)}}t.c=i,t.g+=n}oc.prototype.reset=function(){this.g=this.c=0,this.a=c.Int32Array?new Int32Array(this.h):J(this.h)};var pc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function dc(){oc.call(this,8,vc)}S(dc,oc);var vc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function yc(t,e,n,r,i){this.u=t,this.i=e,this.l=n,this.m=r||null,this.s=i||null,this.h=e+":"+n,this.w=new ic,this.g=new ec(this.h),this.f=null,this.b=[],this.a=this.c=null}function gc(t){return new C("invalid-cordova-configuration",t)}function mc(t){var e=new dc;fc(e,t),t=[];var n=8*e.g;56>e.c?fc(e,lc,56-e.c):fc(e,lc,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(hc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return H(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}function bc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function wc(t){return t.f||(t.f=t.ka().then((function(){return new we((function(e){t.Ca((function n(r){return e(r),t.Qa(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),_c(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=no(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"===typeof(o=Lr(Fn(o=Un(i),"firebaseError")||null))?A(o):null)?new Uo(r.c,r.b,null,null,o,null,r.S()):new Uo(r.c,r.b,i,r.f,null,null,r.S())),i=o||n}bc(t,i)}))}var n=new Uo("unknown",null,null,null,new C("no-auth-event")),r=!1,i=Sn(500).then((function(){return _c(t).then((function(){r||bc(t,n)}))})),o=c.handleOpenURL;c.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Ar("BuildInfo.packageName",c).toLowerCase()+"://")&&e({url:t}),"function"===typeof o)try{o(t)}catch(n){console.error(n)}},Bo||(Bo=new Vo),function(t){var e=Bo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"===typeof(t=Ar("universalLinks.subscribe",c))&&t(null,e.b))}(e)}(t)}))}))),t.f}function _c(t){var e=null;return function(t){return t.b.get(rc,t.a).then((function(t){return jo(t)}))}(t.g).then((function(n){return e=n,Zu((n=t.g).b,rc,n.a)})).then((function(){return e}))}function Ec(t){this.a=t,this.b=Xu()}(e=yc.prototype).ka=function(){return this.Ga?this.Ga:this.Ga=(yr(void 0)?vr().then((function(){return new we((function(t,e){var n=c.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):ke(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!==typeof Ar("universalLinks.subscribe",c))throw gc("cordova-universal-links-plugin-fix is not installed");if("undefined"===typeof Ar("BuildInfo.packageName",c))throw gc("cordova-plugin-buildinfo is not installed");if("function"!==typeof Ar("cordova.plugins.browsertab.openUrl",c))throw gc("cordova-plugin-browsertab is not installed");if("function"!==typeof Ar("cordova.InAppBrowser.open",c))throw gc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new C("cordova-not-ready")}))},e.Lb=function(t,e){return e(new C("operation-not-supported-in-this-environment")),Ae()},e.Jb=function(){return ke(new C("operation-not-supported-in-this-environment"))},e.Xb=function(){return!1},e.Ub=function(){return!0},e.Qb=function(){return!0},e.Kb=function(t,e,n,r){if(this.c)return ke(new C("redirect-operation-pending"));var i=this,o=c.document,a=null,s=null,u=null,l=null;return this.c=Ae().then((function(){return Fo(e),wc(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new Uo(e,r,null,o,new C("no-auth-event"),null,i),s=Ar("BuildInfo.packageName",c);if("string"!==typeof s)throw new C("invalid-cordova-configuration");var u=Ar("BuildInfo.displayName",c),l={};if(Cr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=s;else{if(!Cr().toLowerCase().match(/android/))return ke(new C("operation-not-supported-in-this-environment"));l.apn=s}u&&(l.appDisplayName=u),o=mc(o),l.sessionId=o;var h=du(t.u,t.i,t.l,e,n,null,r,t.m,l,t.s,i);return t.ka().then((function(){var e=t.h;return t.w.a.set(rc,a.v(),e)})).then((function(){var e=Ar("cordova.plugins.browsertab.isAvailable",c);if("function"!==typeof e)throw new C("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!==typeof(n=Ar("cordova.plugins.browsertab.openUrl",c)))throw new C("invalid-cordova-configuration");n(h)}else{if("function"!==typeof(n=Ar("cordova.InAppBrowser.open",c)))throw new C("invalid-cordova-configuration");e=Cr(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new we((function(t,e){s=function(){var e=Ar("cordova.plugins.browsertab.close",c);return t(),"function"===typeof e&&e(),i.a&&"function"===typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ca(s),u=function(){a||(a=Sn(2e3).then((function(){e(new C("redirect-cancelled-by-user"))})))},l=function(){Vr()&&u()},o.addEventListener("resume",u,!1),Cr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(t){return _c(i).then((function(){throw t}))}))})).ma((function(){u&&o.removeEventListener("resume",u,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),s&&i.Qa(s),i.c=null}))},e.Ca=function(t){this.b.push(t),wc(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Uo("unknown",null,null,null,new C("no-auth-event")),t(e))}))},e.Qa=function(t){X(this.b,(function(e){return e==t}))};var Ic={name:"pendingRedirect",F:"session"};function Tc(t){return Zu(t.b,Ic,t.a)}function Sc(t,e,n){this.i={},this.w=0,this.D=t,this.u=e,this.m=n,this.h=[],this.f=!1,this.l=E(this.s,this),this.b=new jc,this.B=new Gc,this.g=new Ec(this.u+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.B,this.c.linkViaPopup=this.B,this.c.reauthViaPopup=this.B,this.a=Cc(this.D,this.u,this.m,k)}function Cc(t,e,n,i){var o=r.SDK_VERSION||null;return yr()?new yc(t,e,n,o,i):new lu(t,e,n,o,i)}function Ac(t){t.f||(t.f=!0,t.a.Ca(t.l));var e=t.a;return t.a.ka().o((function(n){throw t.a==e&&t.reset(),n}))}function kc(t){t.a.Ub()&&Ac(t).o((function(e){var n=new Uo("unknown",null,null,null,new C("operation-not-supported-in-this-environment"));Dc(e)&&t.s(n)})),t.a.Qb()||Vc(t.b)}function Nc(t,e){Q(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(Ic,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?Tc(t.g).then((function(){Ac(t).o((function(e){var n=new Uo("unknown",null,null,null,new C("operation-not-supported-in-this-environment"));Dc(e)&&t.s(n)}))})):kc(t)})).o((function(){kc(t)}))}function Oc(t,e){X(t.h,(function(t){return t==e}))}Sc.prototype.reset=function(){this.f=!1,this.a.Qa(this.l),this.a=Cc(this.D,this.u,this.m),this.i={}},Sc.prototype.s=function(t){if(!t)throw new C("invalid-auth-event");if(6e5<=T()-this.w&&(this.i={},this.w=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Cb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.w=T())),e=!0;break}}return Vc(this.b),e};var xc=new jr(2e3,1e4),Pc=new jr(3e4,6e4);function Rc(t,e,n,r,i,o,a){return t.a.Jb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ca(t.l))}),(function(){t.reset()}),i,o,a)}function Dc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Lc(t,e,n,r,i){var o;return function(t){return t.b.set(Ic,"pending",t.a)}(t.g).then((function(){return t.a.Kb(e,n,r,i).o((function(e){if(Dc(e))throw new C("operation-not-supported-in-this-environment");return o=e,Tc(t.g).then((function(){throw o}))})).then((function(){return t.a.Xb()?new we((function(){})):Tc(t.g).then((function(){return t.pa()})).then((function(){})).o((function(){}))}))}))}function Mc(t,e,n,r,i){return t.a.Lb(r,(function(t){e.la(n,null,t,i)}),xc.get())}Sc.prototype.pa=function(){return this.b.pa()};var Fc={};function Uc(t,e,n){var r=e+":"+n;return Fc[r]||(Fc[r]=new Sc(t,e,n)),Fc[r]}function jc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Vc(t){t.g||(t.g=!0,zc(t,!1,null,null))}function qc(t){t.g&&!t.i&&zc(t,!1,null,null)}function Bc(t,e){if(t.b=function(){return Ae(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function zc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return ke(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Bc(t,n):Bc(t,{user:null}),t.f=[],t.c=[]}function Gc(){}function Wc(){this.Bb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.Bb},set:function(t){this.Bb=t},enumerable:!1})}function Hc(t,e){this.a=e,Kr(this,"verificationId",t)}function Kc(t,e,n,r){return new Do(t).cb(e,n).then((function(t){return new Hc(t,r)}))}function Qc(t){var e=Bi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new C("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Qr(this,{token:t,expirationTime:qr(1e3*e.exp),authTime:qr(1e3*e.auth_time),issuedAtTime:qr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function Yc(t,e,n){var r=e&&e[$c];if(!r)throw new C("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=vt(e),this.g=n,this.c=new ro(null,r),this.b=[];var i=this;G(e[Xc]||[],(function(t){(t=Jr(t))&&i.b.push(t)})),Kr(this,"auth",this.a),Kr(this,"session",this.c),Kr(this,"hints",this.b)}jc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},jc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(zc(this,!0,null,t.a),Ae()):e.Da(n,r)?function(t,e,n){n=n.Da(e.c,e.b);var r=e.g,i=e.f,o=e.i,a=e.S(),s=!!e.c.match(/Redirect$/);n(r,i,a,o).then((function(e){zc(t,s,e,null)})).o((function(e){zc(t,s,null,e)}))}(this,t,e):ke(new C("invalid-auth-event")):(zc(this,!1,null,null),Ae())}else ke(new C("invalid-auth-event"))},jc.prototype.pa=function(){var t=this;return new we((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new C("timeout");t.a&&t.a.cancel(),t.a=Sn(Pc.get()).then((function(){t.b||(t.g=!0,zc(t,!0,null,e))}))}(t))}))},Gc.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.la(t.c,null,t.a,t.b),Ae()):e.Da(n,r)?function(t,e){var n=t.b,r=t.c;e.Da(r,n)(t.g,t.f,t.S(),t.i).then((function(t){e.la(r,t,null,n)})).o((function(t){e.la(r,null,t,n)}))}(t,e):ke(new C("invalid-auth-event"))}else ke(new C("invalid-auth-event"))},Hc.prototype.confirm=function(t){return t=Lo(this.verificationId,t),this.a(t)};var Xc="mfaInfo",$c="mfaPendingCredential";function Jc(t,e,n,r){C.call(this,"multi-factor-auth-required",r,e),this.b=new Yc(t,e,n),Kr(this,"resolver",this.b)}function Zc(t,e,n){if(t&&y(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new Jc(e,t.serverResponse,n,t.message)}catch(r){}return null}function tl(){}function el(t){Kr(this,"factorId",t.ea),this.a=t}function nl(t){if(el.call(this,t),this.a.ea!=Do.PROVIDER_ID)throw new C("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function rl(t,e){for(var n in Ye.call(this,t),e)this[n]=e[n]}function il(t,e){this.a=t,this.b=[],this.c=E(this.wc,this),un(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&G(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[ei]=t.uid),t.displayName&&(r[Zr]=t.displayName),t.enrollmentTime&&(r[ti]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[ni]=t.phoneNumber);try{e=new ri(r)}catch(i){}t=e}else t=null;t&&n.push(t)})),ol(this,n)}function ol(t,e){t.b=e,Kr(t,"enrolledFactors",e)}function al(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function sl(t){this.c=t,this.b=this.a=null}function ul(t){return t.b&&1e3*t.b.c||0}function cl(t,e){var n=e.refreshToken;t.b=qi(e[Xa]||""),t.a=n}function ll(t,e){return function(t,e){return new we((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?rs(t,t.u+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(eu(t)):t.access_token&&t.refresh_token?n(t):r(new C("internal-error")):r(new C("network-request-failed"))}),"POST",Xn(e).toString(),t.g,t.m.get()):r(new C("internal-error"))}))}(t.c,e).then((function(e){return t.b=qi(e.access_token),t.a=e.refresh_token,{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}function hl(t,e){this.a=t||null,this.b=e||null,Qr(this,{lastSignInTime:qr(e||null),creationTime:qr(t||null)})}function fl(t,e,n,r,i,o){Qr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function pl(t,e,n){this.N=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null,t=r.SDK_VERSION?Sr(r.SDK_VERSION):null,this.a=new Qa(this.l,P(k),t),this.b=new sl(this.a),wl(this,e[Xa]),cl(this.b,e),Kr(this,"refreshToken",this.b.a),Il(this,n||{}),wn.call(this),this.P=!1,this.s&&Nr()&&(this.i=Uc(this.s,this.l,this.m)),this.R=[],this.h=null,this.B=function(t){return new al((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=ul(t.b)-T()-3e5;return 0<e?e:0}))}(this),this.Z=E(this.Ma,this);var i=this;this.oa=null,this.za=function(t){i.va(t.g)},this.aa=null,this.W=[],this.ya=function(t){vl(i,t.c)},this.$=null,this.O=new il(this,n),Kr(this,"multiFactor",this.O)}function dl(t,e){t.aa&&hn(t.aa,"languageCodeChanged",t.za),(t.aa=e)&&un(e,"languageCodeChanged",t.za)}function vl(t,e){t.W=e,ns(t.a,r.SDK_VERSION?Sr(r.SDK_VERSION,t.W):null)}function yl(t,e){t.$&&hn(t.$,"frameworkChanged",t.ya),(t.$=e)&&un(e,"frameworkChanged",t.ya)}function gl(t){try{return r.app(t.m).auth()}catch(e){throw new C("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function ml(t){t.D||t.B.b||(t.B.start(),hn(t,"tokenChanged",t.Z),un(t,"tokenChanged",t.Z))}function bl(t){hn(t,"tokenChanged",t.Z),t.B.stop()}function wl(t,e){t.xa=e,Kr(t,"_lat",e)}function _l(t){for(var e=[],n=0;n<t.R.length;n++)e.push(t.R[n](t));return Oe(e).then((function(){return t}))}function El(t){t.i&&!t.P&&(t.P=!0,Nc(t.i,t))}function Il(t,e){Qr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new hl(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Tl(){}function Sl(t){return Ae().then((function(){if(t.D)throw new C("app-deleted")}))}function Cl(t){return H(t.providerData,(function(t){return t.providerId}))}function Al(t,e){e&&(kl(t,e.providerId),t.providerData.push(e))}function kl(t,e){X(t.providerData,(function(t){return t.providerId==e}))}function Nl(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Kr(t,e,n)}function Ol(t,e){t!=e&&(Qr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?Kr(t,"metadata",function(t){return new hl(t.a,t.b)}(e.metadata)):Kr(t,"metadata",new hl),G(e.providerData,(function(e){Al(t,e)})),function(t,e){t.b=e.b,t.a=e.a}(t.b,e.b),Kr(t,"refreshToken",t.b.a),ol(t.O,e.O.b))}function xl(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return Zs(t.a,Os,{idToken:e}).then(E(t.Ic,t))}(t,e).then((function(){return n||Nl(t,"isAnonymous",!1),e}))}))}function Pl(t,e){e[Xa]&&t.xa!=e[Xa]&&(cl(t.b,e),t.dispatchEvent(new rl("tokenChanged")),wl(t,e[Xa]),Nl(t,"refreshToken",t.b.a))}function Rl(t,e){return xl(t).then((function(){if(Q(Cl(t),e))return _l(t).then((function(){throw new C("provider-already-linked")}))}))}function Dl(t,e,n){return Yr({user:t,credential:Mo(e),additionalUserInfo:e=Ki(e),operationType:n})}function Ll(t,e){return Pl(t,e),t.reload().then((function(){return t}))}function Ml(t,e,n,i,o){if(!Nr())return ke(new C("operation-not-supported-in-this-environment"));if(t.h&&!o)return ke(t.h);var a=Hi(n.providerId),s=Mr(t.uid+":::"),u=null;(!Pr()||gr())&&t.s&&n.isOAuthProvider&&(u=du(t.s,t.l,t.m,e,n,null,s,r.SDK_VERSION||null,null,null,t.tenantId));var c=fr(u,a&&a.ta,a&&a.sa);return i=i().then((function(){if(Ul(t),!o)return t.I().then((function(){}))})).then((function(){return Rc(t.i,c,e,n,s,!!u,t.tenantId)})).then((function(){return new we((function(n,r){t.la(e,null,new C("cancelled-popup-request"),t.g||null),t.f=n,t.w=r,t.g=s,t.c=Mc(t.i,t,e,c,s)}))})).then((function(t){return c&&hr(c),t?Yr(t):null})).o((function(t){throw c&&hr(c),t})),jl(t,i,o)}function Fl(t,e,n,r,i){if(!Nr())return ke(new C("operation-not-supported-in-this-environment"));if(t.h&&!i)return ke(t.h);var o=null,a=Mr(t.uid+":::");return r=r().then((function(){if(Ul(t),!i)return t.I().then((function(){}))})).then((function(){return t.fa=a,_l(t)})).then((function(e){return t.ga&&(e=(e=t.ga).b.set(Bl,t.v(),e.a)),e})).then((function(){return Lc(t.i,e,n,a,t.tenantId)})).o((function(e){if(o=e,t.ga)return zl(t.ga);throw o})).then((function(){if(o)throw o})),jl(t,r,i)}function Ul(t){if(!t.i||!t.P){if(t.i&&!t.P)throw new C("internal-error");throw new C("auth-domain-config-required")}}function jl(t,e,n){var r=function(t,e,n){return t.h&&!n?(e.cancel(),ke(t.h)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new rl("userInvalidated")),t.h=e),e}))}(t,e,n);return t.N.push(r),r.ma((function(){Y(t.N,r)})),r.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Zc(e.v(),gl(t),E(t.hc,t))),n||e}))}function Vl(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Xa]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=new pl(e,n,t);return t.providerData&&G(t.providerData,(function(t){t&&Al(r,Yr(t))})),t.redirectEventId&&(r.fa=t.redirectEventId),r}function ql(t){this.a=t,this.b=Xu()}Yc.prototype.Pc=function(t){var e=this;return t.ob(this.a.b,this.c).then((function(t){var n=vt(e.f);return delete n[Xc],delete n[$c],gt(n,t),e.g(n)}))},S(Jc,C),tl.prototype.ob=function(t,e,n){return e.type==io?function(t,e,n,r){return n.Fa().then((function(n){return n={idToken:n},"undefined"!==typeof r&&(n.displayName=r),gt(n,{phoneVerificationInfo:Ro(t.a)}),Zs(e,ks,n)}))}(this,t,e,n):function(t,e,n){return n.Fa().then((function(n){return gt(n={mfaPendingCredential:n},{phoneVerificationInfo:Ro(t.a)}),Zs(e,Ns,n)}))}(this,t,e)},S(el,tl),S(nl,el),S(rl,Ye),(e=il.prototype).wc=function(t){ol(this,function(t){var e=[];return G(t.mfaInfo||[],(function(t){(t=Jr(t))&&e.push(t)})),e}(t.ed))},e.Ob=function(){return this.a.I().then((function(t){return new ro(t,null)}))},e.dc=function(t,e){var n=this,r=this.a.a;return this.Ob().then((function(n){return t.ob(r,n,e)})).then((function(t){return Pl(n.a,t),n.a.reload()}))},e.$c=function(t){var e=this,n="string"===typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return Zs(r,Js,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=W(e.b,(function(t){return t.uid!=n}));return ol(e,r),Pl(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},e.v=function(){return{multiFactor:{enrolledFactors:H(this.b,(function(t){return t.v()}))}}},al.prototype.start=function(){this.a=this.c,function t(e,n){e.stop(),e.b=Sn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,n)).then((function(){return function(){var t=c.document,e=null;return Vr()||!t?Ae():new we((function(n){e=function(){Vr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return e.h()})).then((function(){t(e,!0)})).o((function(n){e.i(n)&&t(e,!1)}))}(this,!0)},al.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},sl.prototype.v=function(){return{apiKey:this.c.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:ul(this)}},sl.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?ke(new C("user-token-expired")):t||!this.b||T()>ul(this)-3e4?this.a?ll(this,{grant_type:"refresh_token",refresh_token:this.a}):Ae(null):Ae({accessToken:this.b.toString(),refreshToken:this.a})},hl.prototype.v=function(){return{lastLoginAt:this.b,createdAt:this.a}},S(pl,wn),pl.prototype.va=function(t){this.oa=t,es(this.a,t)},pl.prototype.ja=function(){return this.oa},pl.prototype.Ea=function(){return J(this.W)},pl.prototype.Ma=function(){this.B.b&&(this.B.stop(),this.B.start())},Kr(pl.prototype,"providerId","firebase"),(e=pl.prototype).reload=function(){var t=this;return jl(this,Sl(this).then((function(){return xl(t).then((function(){return _l(t)})).then(Tl)})))},e.mc=function(t){return this.I(t).then((function(t){return new Qc(t)}))},e.I=function(t){var e=this;return jl(this,Sl(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new C("internal-error");return t.accessToken!=e.xa&&(wl(e,t.accessToken),e.dispatchEvent(new rl("tokenChanged"))),Nl(e,"refreshToken",t.refreshToken),t.accessToken})))},e.Ic=function(t){if(!(t=t.users)||!t.length)throw new C("internal-error");Il(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?H(t,(function(t){return new fl(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)Al(this,e[n]);Nl(this,"isAnonymous",!(this.email&&t.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new rl("userReloaded",{ed:t}))},e.Jc=function(t){return Wr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.pb(t)},e.pb=function(t){var e=this,n=null;return jl(this,t.c(this.a,this.uid).then((function(t){return Pl(e,t),n=Dl(e,t,"reauthenticate"),e.h=null,e.reload()})).then((function(){return n})),!0)},e.Ac=function(t){return Wr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.mb(t)},e.mb=function(t){var e=this,n=null;return jl(this,Rl(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=Dl(e,t,"link"),Ll(e,t)})).then((function(){return n})))},e.Bc=function(t,e){var n=this;return jl(this,Rl(this,"phone").then((function(){return Kc(gl(n),t,e,E(n.mb,n))})))},e.Kc=function(t,e){var n=this;return jl(this,Ae().then((function(){return Kc(gl(n),t,e,E(n.pb,n))})),!0)},e.xb=function(t){var e=this;return jl(this,this.I().then((function(n){return e.a.xb(n,t)})).then((function(t){return Pl(e,t),e.reload()})))},e.cd=function(t){var e=this;return jl(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return Pl(e,t),e.reload()})))},e.yb=function(t){var e=this;return jl(this,this.I().then((function(n){return e.a.yb(n,t)})).then((function(t){return Pl(e,t),e.reload()})))},e.zb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Sl(this);var e=this;return jl(this,this.I().then((function(n){return e.a.zb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return Pl(e,t),Nl(e,"displayName",t.displayName||null),Nl(e,"photoURL",t.photoUrl||null),G(e.providerData,(function(t){"password"===t.providerId&&(Kr(t,"displayName",e.displayName),Kr(t,"photoURL",e.photoURL))})),_l(e)})).then(Tl))},e.ad=function(t){var e=this;return jl(this,xl(this).then((function(n){return Q(Cl(e),t)?function(t,e,n){return Zs(t,Ss,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return G(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),G(Cl(e),(function(t){n[t]||kl(e,t)})),n[Do.PROVIDER_ID]||Kr(e,"phoneNumber",null),_l(e)})):_l(e).then((function(){throw new C("no-such-provider")}))})))},e.delete=function(){var t=this;return jl(this,this.I().then((function(e){return Zs(t.a,Ts,{idToken:e})})).then((function(){t.dispatchEvent(new rl("userDeleted"))}))).then((function(){for(var e=0;e<t.N.length;e++)t.N[e].cancel("app-deleted");dl(t,null),yl(t,null),t.N=[],t.D=!0,bl(t),Kr(t,"refreshToken",null),t.i&&Oc(t.i,t)}))},e.Cb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.fa||null)==e||"reauthViaRedirect"==t&&(this.fa||null)==e)},e.la=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.w?this.w(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},e.Da=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?E(this.Hb,this):"reauthViaPopup"==t&&e==(this.g||null)?E(this.Ib,this):"linkViaRedirect"==t&&(this.fa||null)==e?E(this.Hb,this):"reauthViaRedirect"==t&&(this.fa||null)==e?E(this.Ib,this):null},e.Cc=function(t){var e=this;return Ml(this,"linkViaPopup",t,(function(){return Rl(e,t.providerId).then((function(){return _l(e)}))}),!1)},e.Lc=function(t){return Ml(this,"reauthViaPopup",t,(function(){return Ae()}),!0)},e.Dc=function(t){var e=this;return Fl(this,"linkViaRedirect",t,(function(){return Rl(e,t.providerId)}),!1)},e.Mc=function(t){return Fl(this,"reauthViaRedirect",t,(function(){return Ae()}),!0)},e.Hb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return jl(this,this.I().then((function(n){return gs(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=Dl(i,t,"link"),Ll(i,t)})).then((function(){return o})))},e.Ib=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return jl(this,Ae().then((function(){return so(ms(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=Dl(i,t,"reauthenticate"),Pl(i,t),i.h=null,i.reload()})).then((function(){return o})),!0)},e.qb=function(t){var e=this,n=null;return jl(this,this.I().then((function(e){return n=e,"undefined"===typeof t||dt(t)?{}:Fi(new Ai(t))})).then((function(t){return e.a.qb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},e.Ab=function(t,e){var n=this,r=null;return jl(this,this.I().then((function(t){return r=t,"undefined"===typeof e||dt(e)?{}:Fi(new Ai(e))})).then((function(e){return n.a.Ab(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},e.hc=function(t){var e=null,n=this;return jl(this,t=so(Ae(t),n.uid).then((function(t){return e=Dl(n,t,"reauthenticate"),Pl(n,t),n.h=null,n.reload()})).then((function(){return e})),!0)},e.toJSON=function(){return this.v()},e.v=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.v(),redirectEventId:this.fa||null};return this.metadata&&gt(t,this.metadata.v()),G(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),gt(t,this.O.v()),t};var Bl={name:"redirectUser",F:"session"};function zl(t){return Zu(t.b,Bl,t.a)}function Gl(t){this.a=t,this.b=Xu(),this.c=null,this.f=function(t){var e=Kl("local"),n=Kl("session"),r=Kl("none");return function(t,e,n){var r=Ju(e,n),i=$u(t,e.F);return t.get(e,n).then((function(o){var a=null;try{a=Lr(c.localStorage.getItem(r))}catch(s){}if(a&&!o)return c.localStorage.removeItem(r),t.set(e,a,n);a&&o&&"localStorage"!=i.type&&c.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(Hl,t.a).then((function(t){return t?Kl(t):e}))}))}))})).then((function(e){return t.c=e,Wl(t,e.F)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener(Kl("local"),this.a,E(this.g,this))}function Wl(t,e){var n,r=[];for(n in Qu)Qu[n]!==e&&r.push(Zu(t.b,Kl(Qu[n]),t.a));return r.push(Zu(t.b,Hl,t.a)),function(t){return new we((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},a=function(t){n(t)},s=0;s<t.length;s++)Ne(t[s],I(o,s),a);else e(i)}))}(r)}Gl.prototype.g=function(){var t=this,e=Kl("local");$l(this,(function(){return Ae().then((function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null})).then((function(n){if(n)return Wl(t,"local").then((function(){t.c=e}))}))}))};var Hl={name:"persistence",F:"session"};function Kl(t){return{name:"authUser",F:t}}function Ql(t,e){return $l(t,(function(){return t.b.set(t.c,e.v(),t.a)}))}function Yl(t){return $l(t,(function(){return Zu(t.b,t.c,t.a)}))}function Xl(t,e){return $l(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),Vl(t||{})}))}))}function $l(t,e){return t.f=t.f.then(e,e),t.f}function Jl(t){if(this.l=!1,Kr(this,"settings",new Wc),Kr(this,"app",t),!ah(this).options||!ah(this).options.apiKey)throw new C("invalid-api-key");t=r.SDK_VERSION?Sr(r.SDK_VERSION):null,this.b=new Qa(ah(this).options&&ah(this).options.apiKey,P(k),t),this.P=[],this.m=[],this.O=[],this.$b=r.INTERNAL.createSubscribe(E(this.xc,this)),this.W=void 0,this.ac=r.INTERNAL.createSubscribe(E(this.yc,this)),ih(this,null),this.i=new Gl(ah(this).options.apiKey+":"+ah(this).name),this.B=new ql(ah(this).options.apiKey+":"+ah(this).name),this.Z=lh(this,function(t){var e=ah(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Bl,t.a).then((function(t){return t&&e&&(t.authDomain=e),Vl(t||{})}))}(t.B,ah(t).options.authDomain).then((function(e){return(t.D=e)&&(e.ga=t.B),zl(t.B)}));return lh(t,e)}(t).then((function(){return Xl(t.i,e)})).then((function(e){return e?(e.ga=t.B,t.D&&(t.D.fa||null)==(e.fa||null)?e:e.reload().then((function(){return Ql(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:Yl(t.i)}))):null})).then((function(e){ih(t,e||null)}));return lh(t,n)}(this)),this.h=lh(this,function(t){return t.Z.then((function(){return nh(t)})).o((function(){})).then((function(){if(!t.l)return t.oa()})).o((function(){})).then((function(){if(!t.l){t.aa=!0;var e=t.i;e.b.addListener(Kl("local"),e.a,t.oa)}}))}(this)),this.aa=!1,this.oa=E(this.Xc,this),this.Ma=E(this.ca,this),this.xa=E(this.jc,this),this.ya=E(this.uc,this),this.za=E(this.vc,this),this.a=null,function(t){var e=ah(t).options.authDomain,n=ah(t).options.apiKey;e&&Nr()&&(t.Zb=t.Z.then((function(){if(!t.l){if(t.a=Uc(e,n,ah(t).name),Nc(t.a,t),sh(t)&&El(sh(t)),t.D){El(t.D);var r=t.D;r.va(t.ja()),dl(r,t),vl(r=t.D,t.N),yl(r,t),t.D=null}return t.a}})))}(this),this.INTERNAL={},this.INTERNAL.delete=E(this.delete,this),this.INTERNAL.logFramework=E(this.Ec,this),this.s=0,wn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ja()},set:function(t){this.va(t)},enumerable:!1}),t.$=null,Object.defineProperty(t,"ti",{get:function(){return this.S()},set:function(t){this.ub(t)},enumerable:!1}),t.R=null}(this),this.N=[]}function Zl(t){Ye.call(this,"languageCodeChanged"),this.g=t}function th(t){Ye.call(this,"frameworkChanged"),this.c=t}function eh(t){return t.Zb||ke(new C("auth-domain-config-required"))}function nh(t){if(!Nr())return ke(new C("operation-not-supported-in-this-environment"));var e=eh(t).then((function(){return t.a.pa()})).then((function(t){return t?Yr(t):null}));return lh(t,e)}function rh(t,e){var n={};return n.apiKey=ah(t).options.apiKey,n.authDomain=ah(t).options.authDomain,n.appName=ah(t).name,t.Z.then((function(){return function(t,e,n,r){var i=new pl(t,e);return n&&(i.ga=n),r&&vl(i,r),i.reload().then((function(){return i}))}(n,e,t.B,t.Ea())})).then((function(e){return sh(t)&&e.uid==sh(t).uid?(Ol(sh(t),e),t.ca(e)):(ih(t,e),El(e),t.ca(e))})).then((function(){ch(t)}))}function ih(t,e){sh(t)&&(function(t,e){X(t.R,(function(t){return t==e}))}(sh(t),t.Ma),hn(sh(t),"tokenChanged",t.xa),hn(sh(t),"userDeleted",t.ya),hn(sh(t),"userInvalidated",t.za),bl(sh(t))),e&&(e.R.push(t.Ma),un(e,"tokenChanged",t.xa),un(e,"userDeleted",t.ya),un(e,"userInvalidated",t.za),0<t.s&&ml(e)),Kr(t,"currentUser",e),e&&(e.va(t.ja()),dl(e,t),vl(e,t.N),yl(e,t))}function oh(t,e){var n=null,r=null;return lh(t,e.then((function(e){return n=Mo(e),r=Ki(e),rh(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Zc(e.v(),t,E(t.ic,t))),n||e})).then((function(){return Yr({user:sh(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function ah(t){return t.app}function sh(t){return t.currentUser}function uh(t){return sh(t)&&sh(t)._lat||null}function ch(t){if(t.aa){for(var e=0;e<t.m.length;e++)t.m[e]&&t.m[e](uh(t));if(t.W!==t.getUid()&&t.O.length)for(t.W=t.getUid(),e=0;e<t.O.length;e++)t.O[e]&&t.O[e](uh(t))}}function lh(t,e){return t.P.push(e),e.ma((function(){Y(t.P,e)})),e}function hh(){}function fh(){this.a={},this.b=1e12}Gl.prototype.tb=function(t){var e=null,n=this;return function(t){var e=new C("invalid-persistence-type"),n=new C("unsupported-persistence-type");t:{for(r in Qu)if(Qu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!==typeof t)throw e;switch(br()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Au()&&"none"!==t)throw n;break;default:if(!kr()&&"none"!==t)throw n}}(t),$l(this,(function(){return t!=n.c.F?n.b.get(n.c,n.a).then((function(r){return e=r,Wl(n,t)})).then((function(){if(n.c=Kl(t),e)return n.b.set(n.c,e,n.a)})):Ae()}))},S(Jl,wn),S(Zl,Ye),S(th,Ye),(e=Jl.prototype).tb=function(t){return lh(this,t=this.i.tb(t))},e.va=function(t){this.$===t||this.l||(this.$=t,es(this.b,this.$),this.dispatchEvent(new Zl(this.ja())))},e.ja=function(){return this.$},e.dd=function(){var t=c.navigator;this.va(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},e.Ec=function(t){this.N.push(t),ns(this.b,r.SDK_VERSION?Sr(r.SDK_VERSION,this.N):null),this.dispatchEvent(new th(this.N))},e.Ea=function(){return J(this.N)},e.ub=function(t){this.R===t||this.l||(this.R=t,this.b.b=this.R)},e.S=function(){return this.R},e.toJSON=function(){return{apiKey:ah(this).options.apiKey,authDomain:ah(this).options.authDomain,appName:ah(this).name,currentUser:sh(this)&&sh(this).v()}},e.Cb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},e.la=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.w?this.w(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},e.Da=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?E(this.gc,this):null},e.gc=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.Z.then((function(){return oh(i,ys(i.b,o))}))},e.Vc=function(t){if(!Nr())return ke(new C("operation-not-supported-in-this-environment"));var e=this,n=Hi(t.providerId),i=Mr(),o=null;(!Pr()||gr())&&ah(this).options.authDomain&&t.isOAuthProvider&&(o=du(ah(this).options.authDomain,ah(this).options.apiKey,ah(this).name,"signInViaPopup",t,null,i,r.SDK_VERSION||null,null,null,this.S()));var a=fr(o,n&&n.ta,n&&n.sa);return lh(this,n=eh(this).then((function(n){return Rc(n,a,"signInViaPopup",t,i,!!o,e.S())})).then((function(){return new we((function(t,n){e.la("signInViaPopup",null,new C("cancelled-popup-request"),e.g),e.f=t,e.w=n,e.g=i,e.c=Mc(e.a,e,"signInViaPopup",a,i)}))})).then((function(t){return a&&hr(a),t?Yr(t):null})).o((function(t){throw a&&hr(a),t})))},e.Wc=function(t){if(!Nr())return ke(new C("operation-not-supported-in-this-environment"));var e=this;return lh(this,eh(this).then((function(){return function(t){return $l(t,(function(){return t.b.set(Hl,t.c.F,t.a)}))}(e.i)})).then((function(){return Lc(e.a,"signInViaRedirect",t,void 0,e.S())})))},e.pa=function(){var t=this;return nh(this).then((function(e){return t.a&&qc(t.a.b),e})).o((function(e){throw t.a&&qc(t.a.b),e}))},e.bd=function(t){if(!t)return ke(new C("null-user"));if(this.R!=t.tenantId)return ke(new C("tenant-id-mismatch"));var e=this,n={};n.apiKey=ah(this).options.apiKey,n.authDomain=ah(this).options.authDomain,n.appName=ah(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[Xa]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new pl(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ga=n),r&&vl(e,r),Ol(e,t),e}(t,n,e.B,e.Ea());return lh(this,this.h.then((function(){if(ah(e).options.apiKey!=t.l)return r.reload()})).then((function(){return sh(e)&&t.uid==sh(e).uid?(Ol(sh(e),t),e.ca(t)):(ih(e,r),El(r),e.ca(r))})).then((function(){ch(e)})))},e.wb=function(){var t=this;return lh(this,this.h.then((function(){return t.a&&qc(t.a.b),sh(t)?(ih(t,null),Yl(t.i).then((function(){ch(t)}))):Ae()})))},e.Xc=function(){var t=this;return Xl(this.i,ah(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=sh(t)&&e){n=sh(t).uid;var r=e.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return Ol(sh(t),e),sh(t).I();(sh(t)||e)&&(ih(t,e),e&&(El(e),e.ga=t.B),t.a&&Nc(t.a,t),ch(t))}}))},e.ca=function(t){return Ql(this.i,t)},e.jc=function(){ch(this),this.ca(sh(this))},e.uc=function(){this.wb()},e.vc=function(){this.wb()},e.ic=function(t){var e=this;return this.h.then((function(){return oh(e,Ae(t))}))},e.xc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(sh(e))}))},e.yc=function(t){var e=this;!function(t,e){t.O.push(e),lh(t,t.h.then((function(){!t.l&&Q(t.O,e)&&t.W!==t.getUid()&&(t.W=t.getUid(),e(uh(t)))})))}(this,(function(){t.next(sh(e))}))},e.Gc=function(t,e,n){var r=this;return this.aa&&Promise.resolve().then((function(){"function"===typeof t?t(sh(r)):"function"===typeof t.next&&t.next(sh(r))})),this.$b(t,e,n)},e.Fc=function(t,e,n){var r=this;return this.aa&&Promise.resolve().then((function(){r.W=r.getUid(),"function"===typeof t?t(sh(r)):"function"===typeof t.next&&t.next(sh(r))})),this.ac(t,e,n)},e.kc=function(t){var e=this;return lh(this,this.h.then((function(){return sh(e)?sh(e).I(t).then((function(t){return{accessToken:t}})):null})))},e.Rc=function(t){var e=this;return this.h.then((function(){return oh(e,Zs(e.b,Ks,{token:t}))})).then((function(t){var n=t.user;return Nl(n,"isAnonymous",!1),e.ca(n),t}))},e.Sc=function(t,e){var n=this;return this.h.then((function(){return oh(n,Zs(n.b,Qs,{email:t,password:e}))}))},e.cc=function(t,e){var n=this;return this.h.then((function(){return oh(n,Zs(n.b,Es,{email:t,password:e}))}))},e.Ya=function(t){var e=this;return this.h.then((function(){return oh(e,t.ia(e.b))}))},e.Qc=function(t){return Wr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Ya(t)},e.vb=function(){var t=this;return this.h.then((function(){var e=sh(t);if(e&&e.isAnonymous){var n=Yr({providerId:null,isNewUser:!1});return Yr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return oh(t,t.b.vb()).then((function(e){var n=e.user;return Nl(n,"isAnonymous",!0),t.ca(n),e}))}))},e.getUid=function(){return sh(this)&&sh(this).uid||null},e.bc=function(t){this.addAuthTokenListener(t),this.s++,0<this.s&&sh(this)&&ml(sh(this))},e.Nc=function(t){var e=this;G(this.m,(function(n){n==t&&e.s--})),0>this.s&&(this.s=0),0==this.s&&sh(this)&&bl(sh(this)),this.removeAuthTokenListener(t)},e.addAuthTokenListener=function(t){var e=this;this.m.push(t),lh(this,this.h.then((function(){e.l||Q(e.m,t)&&t(uh(e))})))},e.removeAuthTokenListener=function(t){X(this.m,(function(e){return e==t}))},e.delete=function(){this.l=!0;for(var t=0;t<this.P.length;t++)this.P[t].cancel("app-deleted");return this.P=[],this.i&&(t=this.i).b.removeListener(Kl("local"),t.a,this.oa),this.a&&(Oc(this.a,this),qc(this.a.b)),Promise.resolve()},e.fc=function(t){return lh(this,function(t,e){return Zs(t,Is,{identifier:e,continueUri:Or()?ur():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.b,t))},e.zc=function(t){return!!Oo(t)},e.sb=function(t,e){var n=this;return lh(this,Ae().then((function(){var t=new Ai(e);if(!t.c)throw new C("argument-error",Oi+" must be true when sending sign in link to email");return Fi(t)})).then((function(e){return n.b.sb(t,e)})).then((function(){})))},e.fd=function(t){return this.Pa(t).then((function(t){return t.data.email}))},e.jb=function(t,e){return lh(this,this.b.jb(t,e).then((function(){})))},e.Pa=function(t){return lh(this,this.b.Pa(t).then((function(t){return new ii(t)})))},e.fb=function(t){return lh(this,this.b.fb(t).then((function(){})))},e.rb=function(t,e){var n=this;return lh(this,Ae().then((function(){return"undefined"===typeof e||dt(e)?{}:Fi(new Ai(e))})).then((function(e){return n.b.rb(t,e)})).then((function(){})))},e.Uc=function(t,e){return lh(this,Kc(this,t,e,E(this.Ya,this)))},e.Tc=function(t,e){var n=this;return lh(this,Ae().then((function(){var r=e||ur(),i=No(t,r);if(!(r=Oo(r)))throw new C("argument-error","Invalid email link!");if(r.tenantId!==n.S())throw new C("tenant-id-mismatch");return n.Ya(i)})))},hh.prototype.render=function(){},hh.prototype.reset=function(){},hh.prototype.getResponse=function(){},hh.prototype.execute=function(){};var ph=null;function dh(t,e){return(e=vh(e))&&t.a[e]||null}function vh(t){return(t="undefined"===typeof t?1e12:t)?t.toString():null}function yh(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ae(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():un(this.f,"click",this.i)}function gh(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function mh(){}function bh(){}fh.prototype.render=function(t,e){return this.a[this.b.toString()]=new yh(t,e),this.b++},fh.prototype.reset=function(t){var e=dh(this,t);t=vh(t),e&&t&&(e.delete(),delete this.a[t])},fh.prototype.getResponse=function(t){return(t=dh(this,t))?t.getResponse():null},fh.prototype.execute=function(t){(t=dh(this,t))&&t.execute()},yh.prototype.getResponse=function(){return gh(this),this.b},yh.prototype.execute=function(){gh(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()}),6e4)}),500))},yh.prototype.delete=function(){gh(this),this.g=!0,clearTimeout(this.a),this.a=null,hn(this.f,"click",this.i)},Kr(mh,"FACTOR_ID","phone"),bh.prototype.g=function(){return ph||(ph=new fh),Ae(ph)},bh.prototype.c=function(){};var wh=null;function _h(){this.b=c.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Eh=new bt(Et,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Ih=new jr(3e4,6e4);_h.prototype.g=function(t){var e=this;return new we((function(n,r){var i=setTimeout((function(){r(new C("network-request-failed"))}),Ih.get());!c.grecaptcha||t!==e.f&&!e.b?(c[e.a]=function(){if(c.grecaptcha){e.f=t;var o=c.grecaptcha.render;c.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(c.grecaptcha)}else clearTimeout(i),r(new C("internal-error"));delete c[e.a]},Ae(qa(Ct(Eh,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(i),r(new C("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(c.grecaptcha))}))},_h.prototype.c=function(){this.b--};var Th=null;function Sh(t,e,n,r,i,o,a){if(Kr(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.u=e,this.g=null,a?(wh||(wh=new bh),a=wh):(Th||(Th=new _h),a=Th),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[kh])throw new C("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Nh],!c.document)throw new C("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ae(e)||!this.i&&ae(e).hasChildNodes())throw new C("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Qa(t,o||null,i||null),this.w=r||function(){return null};var s=this;this.l=[];var u=this.a[Ch];this.a[Ch]=function(t){if(Oh(s,t),"function"===typeof u)u(t);else if("string"===typeof u){var e=Ar(u,c);"function"===typeof e&&e(t)}};var l=this.a[Ah];this.a[Ah]=function(){if(Oh(s,null),"function"===typeof l)l();else if("string"===typeof l){var t=Ar(l,c);"function"===typeof t&&t()}}}var Ch="callback",Ah="expired-callback",kh="sitekey",Nh="size";function Oh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function xh(t,e){return t.h.push(e),e.ma((function(){Y(t.h,e)})),e}function Ph(t){if(t.D)throw new C("internal-error","RecaptchaVerifier instance has been destroyed.")}function Rh(t,e,n){var i=!1;try{this.b=n||r.app()}catch(s){throw new C("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new C("invalid-api-key");n=this.b.options.apiKey;var o=this,a=null;try{a=this.b.auth().Ea()}catch(s){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(s){}a=r.SDK_VERSION?Sr(r.SDK_VERSION,a):null,Sh.call(this,n,t,e,(function(){try{var t=o.b.auth().ja()}catch(e){t=null}return t}),a,P(k),i)}function Dh(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new C("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].K(n[i])&&!o){if(e=e[i],0>i||i>=Lh.length)throw new C("internal-error","Argument validator received an unsupported number of arguments.");n=Lh[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.J+".";break t}r=null}}if(r)throw new C("argument-error",t+" failed: "+r)}(e=Sh.prototype).Ga=function(){var t=this;return this.f?this.f:this.f=xh(this,Ae().then((function(){if(Or()&&!mr())return vr();throw new C("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.w())})).then((function(e){return t.g=e,Zs(t.s,Ms,{})})).then((function(e){t.a[kh]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},e.render=function(){Ph(this);var t=this;return xh(this,this.Ga().then((function(){if(null===t.c){var e=t.u;if(!t.i){var n=ae(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!oe&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',zt(a.name),'"'),a.type){o.push(' type="',zt(a.type),'"');var s={};gt(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=fe(i,o),a&&("string"===typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):se(o,a)),2<r.length&&he(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},e.verify=function(){Ph(this);var t=this;return xh(this,this.render().then((function(e){return new we((function(n){var r=t.g.getResponse(e);if(r)n(r);else{t.l.push((function e(r){r&&(function(t,e){X(t.l,(function(t){return t==e}))}(t,e),n(r))})),t.i&&t.g.execute(t.c)}}))})))},e.reset=function(){Ph(this),null!==this.c&&this.g.reset(this.c)},e.clear=function(){Ph(this),this.D=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=ae(this.u);for(var e;e=t.firstChild;)t.removeChild(e)}},S(Rh,Sh);var Lh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Mh(t,e){return{name:t||"",J:"a valid string",optional:!!e,K:function(t){return"string"===typeof t}}}function Fh(t,e){return{name:t||"",J:"a boolean",optional:!!e,K:function(t){return"boolean"===typeof t}}}function Uh(t,e){return{name:t||"",J:"a valid object",optional:!!e,K:y}}function jh(t,e){return{name:t||"",J:"a function",optional:!!e,K:function(t){return"function"===typeof t}}}function Vh(t,e){return{name:t||"",J:"null",optional:!!e,K:function(t){return null===t}}}function qh(t){return{name:t?t+"Credential":"credential",J:t?"a valid "+t+" credential":"a valid credential",optional:!1,K:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ia||!n)}}}function Bh(t,e){return y(t)&&"string"===typeof t.type&&t.type===e&&"function"===typeof t.Fa}function zh(t){return y(t)&&"string"===typeof t.uid}function Gh(t,e,n,r){return{name:n||"",J:t.J+" or "+e.J,optional:!!r,K:function(n){return t.K(n)||e.K(n)}}}function Wh(t,e){for(var n in e){var r=e[n].name;t[r]=Qh(r,t[n],e[n].j)}}function Hh(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:I((function(t){return this[t]}),n),set:I((function(t,e,n,r){Dh(t,[n],[r],!0),this[e]=r}),r,n,e[n].gb),enumerable:!0})}}function Kh(t,e,n,r){t[e]=Qh(e,n,r)}function Qh(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Dh(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}Wh(Jl.prototype,{fb:{name:"applyActionCode",j:[Mh("code")]},Pa:{name:"checkActionCode",j:[Mh("code")]},jb:{name:"confirmPasswordReset",j:[Mh("code"),Mh("newPassword")]},cc:{name:"createUserWithEmailAndPassword",j:[Mh("email"),Mh("password")]},fc:{name:"fetchSignInMethodsForEmail",j:[Mh("email")]},pa:{name:"getRedirectResult",j:[]},zc:{name:"isSignInWithEmailLink",j:[Mh("emailLink")]},Fc:{name:"onAuthStateChanged",j:[Gh(Uh(),jh(),"nextOrObserver"),jh("opt_error",!0),jh("opt_completed",!0)]},Gc:{name:"onIdTokenChanged",j:[Gh(Uh(),jh(),"nextOrObserver"),jh("opt_error",!0),jh("opt_completed",!0)]},rb:{name:"sendPasswordResetEmail",j:[Mh("email"),Gh(Uh("opt_actionCodeSettings",!0),Vh(null,!0),"opt_actionCodeSettings",!0)]},sb:{name:"sendSignInLinkToEmail",j:[Mh("email"),Uh("actionCodeSettings")]},tb:{name:"setPersistence",j:[Mh("persistence")]},Qc:{name:"signInAndRetrieveDataWithCredential",j:[qh()]},vb:{name:"signInAnonymously",j:[]},Ya:{name:"signInWithCredential",j:[qh()]},Rc:{name:"signInWithCustomToken",j:[Mh("token")]},Sc:{name:"signInWithEmailAndPassword",j:[Mh("email"),Mh("password")]},Tc:{name:"signInWithEmailLink",j:[Mh("email"),Mh("emailLink",!0)]},Uc:{name:"signInWithPhoneNumber",j:[Mh("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}]},Vc:{name:"signInWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Wc:{name:"signInWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},bd:{name:"updateCurrentUser",j:[Gh({name:"user",J:"an instance of Firebase User",optional:!1,K:function(t){return!!(t&&t instanceof pl)}},Vh(),"user")]},wb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Mh(null,!0)]},dd:{name:"useDeviceLanguage",j:[]},fd:{name:"verifyPasswordResetCode",j:[Mh("code")]}}),Hh(Jl.prototype,{lc:{name:"languageCode",gb:Gh(Mh(),Vh(),"languageCode")},ti:{name:"tenantId",gb:Gh(Mh(),Vh(),"tenantId")}}),Jl.Persistence=Qu,Jl.Persistence.LOCAL="local",Jl.Persistence.SESSION="session",Jl.Persistence.NONE="none",Wh(pl.prototype,{delete:{name:"delete",j:[]},mc:{name:"getIdTokenResult",j:[Fh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Fh("opt_forceRefresh",!0)]},Ac:{name:"linkAndRetrieveDataWithCredential",j:[qh()]},mb:{name:"linkWithCredential",j:[qh()]},Bc:{name:"linkWithPhoneNumber",j:[Mh("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}]},Cc:{name:"linkWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Dc:{name:"linkWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Jc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[qh()]},pb:{name:"reauthenticateWithCredential",j:[qh()]},Kc:{name:"reauthenticateWithPhoneNumber",j:[Mh("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}]},Lc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Mc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},qb:{name:"sendEmailVerification",j:[Gh(Uh("opt_actionCodeSettings",!0),Vh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Mh(null,!0)]},ad:{name:"unlink",j:[Mh("provider")]},xb:{name:"updateEmail",j:[Mh("email")]},yb:{name:"updatePassword",j:[Mh("password")]},cd:{name:"updatePhoneNumber",j:[qh("phone")]},zb:{name:"updateProfile",j:[Uh("profile")]},Ab:{name:"verifyBeforeUpdateEmail",j:[Mh("email"),Gh(Uh("opt_actionCodeSettings",!0),Vh(null,!0),"opt_actionCodeSettings",!0)]}}),Wh(fh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Wh(hh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Wh(we.prototype,{ma:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Hh(Wc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",gb:Fh("appVerificationDisabledForTesting")}}),Wh(Hc.prototype,{confirm:{name:"confirm",j:[Mh("verificationCode")]}}),Kh(ao,"fromJSON",(function(t){t="string"===typeof t?JSON.parse(t):t;for(var e,n=[po,Ao,Po,lo],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[Gh(Mh(),Uh(),"json")]),Kh(ko,"credential",(function(t,e){return new Co(t,e)}),[Mh("email"),Mh("password")]),Wh(Co.prototype,{v:{name:"toJSON",j:[Mh(null,!0)]}}),Wh(mo.prototype,{Aa:{name:"addScope",j:[Mh("scope")]},Ia:{name:"setCustomParameters",j:[Uh("customOAuthParameters")]}}),Kh(mo,"credential",bo,[Gh(Mh(),Uh(),"token")]),Kh(ko,"credentialWithLink",No,[Mh("email"),Mh("emailLink")]),Wh(wo.prototype,{Aa:{name:"addScope",j:[Mh("scope")]},Ia:{name:"setCustomParameters",j:[Uh("customOAuthParameters")]}}),Kh(wo,"credential",_o,[Gh(Mh(),Uh(),"token")]),Wh(Eo.prototype,{Aa:{name:"addScope",j:[Mh("scope")]},Ia:{name:"setCustomParameters",j:[Uh("customOAuthParameters")]}}),Kh(Eo,"credential",Io,[Gh(Mh(),Gh(Uh(),Vh()),"idToken"),Gh(Mh(),Vh(),"accessToken",!0)]),Wh(To.prototype,{Ia:{name:"setCustomParameters",j:[Uh("customOAuthParameters")]}}),Kh(To,"credential",So,[Gh(Mh(),Uh(),"token"),Mh("secret",!0)]),Wh(go.prototype,{Aa:{name:"addScope",j:[Mh("scope")]},credential:{name:"credential",j:[Gh(Mh(),Gh(Uh(),Vh()),"optionsOrIdToken"),Gh(Mh(),Vh(),"accessToken",!0)]},Ia:{name:"setCustomParameters",j:[Uh("customOAuthParameters")]}}),Wh(ho.prototype,{v:{name:"toJSON",j:[Mh(null,!0)]}}),Wh(uo.prototype,{v:{name:"toJSON",j:[Mh(null,!0)]}}),Kh(Do,"credential",Lo,[Mh("verificationId"),Mh("verificationCode")]),Wh(Do.prototype,{cb:{name:"verifyPhoneNumber",j:[Gh(Mh(),{name:"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(t){return!!t&&(t.session&&t.phoneNumber?Bh(t.session,io)&&"string"===typeof t.phoneNumber:t.session&&t.multiFactorHint?Bh(t.session,oo)&&zh(t.multiFactorHint):t.session&&t.multiFactorUid?Bh(t.session,oo)&&"string"===typeof t.multiFactorUid:!!t.phoneNumber&&"string"===typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}]}}),Wh(xo.prototype,{v:{name:"toJSON",j:[Mh(null,!0)]}}),Wh(C.prototype,{toJSON:{name:"toJSON",j:[Mh(null,!0)]}}),Wh(Go.prototype,{toJSON:{name:"toJSON",j:[Mh(null,!0)]}}),Wh(zo.prototype,{toJSON:{name:"toJSON",j:[Mh(null,!0)]}}),Wh(Jc.prototype,{toJSON:{name:"toJSON",j:[Mh(null,!0)]}}),Wh(Yc.prototype,{Pc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.ob}}]}}),Wh(il.prototype,{Ob:{name:"getSession",j:[]},dc:{name:"enroll",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.ob}},Mh("displayName",!0)]},$c:{name:"unenroll",j:[Gh({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:zh},Mh(),"multiFactorInfoIdentifier")]}}),Wh(Rh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Kh(mi,"parseLink",Ci,[Mh("link")]),Kh(mh,"assertion",(function(t){return new nl(t)}),[qh("phone")]),function(){if("undefined"===typeof r||!r.INTERNAL||!r.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ai,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:oi,VERIFY_AND_CHANGE_EMAIL:si,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Jl,AuthCredential:ao,Error:C};Kh(t,"EmailAuthProvider",ko,[]),Kh(t,"FacebookAuthProvider",mo,[]),Kh(t,"GithubAuthProvider",wo,[]),Kh(t,"GoogleAuthProvider",Eo,[]),Kh(t,"TwitterAuthProvider",To,[]),Kh(t,"OAuthProvider",go,[Mh("providerId")]),Kh(t,"SAMLAuthProvider",yo,[Mh("providerId")]),Kh(t,"PhoneAuthProvider",Do,[{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(t){return!!(t&&t instanceof Jl)}}]),Kh(t,"RecaptchaVerifier",Rh,[Gh(Mh(),{name:"",J:"an HTML element",optional:!1,K:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Uh("recaptchaParameters",!0),{name:"app",J:"an instance of Firebase App",optional:!0,K:function(t){return!!(t&&t instanceof r.app.App)}}]),Kh(t,"ActionCodeURL",mi,[]),Kh(t,"PhoneMultiFactorGenerator",mh,[]),r.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new Jl(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),r.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:E((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:E(t.kc,t),addAuthTokenListener:E(t.bc,t),removeAuthTokenListener:E(t.Nc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),r.registerVersion("@firebase/auth","0.14.9"),r.INTERNAL.extendNamespace({User:pl})}()}).apply("undefined"!==typeof t?t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})}).call(this,n(14))},function(t,e,n){"use strict";n(49)},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r=n(16),i=n(26),o=n(28),a=n(18),s=n(50),u=n(27);var c=function(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}(i),l={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},h=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return r.__extends(e,t),e}(Error),f=new o.Logger("@firebase/firestore");function p(){return f.logLevel}function d(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(f.logLevel<=o.LogLevel.DEBUG){var i=e.map(g);f.debug.apply(f,r.__spreadArrays(["Firestore (7.22.0): "+t],i))}}function v(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(f.logLevel<=o.LogLevel.ERROR){var i=e.map(g);f.error.apply(f,r.__spreadArrays(["Firestore (7.22.0): "+t],i))}}function y(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(f.logLevel<=o.LogLevel.WARN){var i=e.map(g);f.warn.apply(f,r.__spreadArrays(["Firestore (7.22.0): "+t],i))}}function g(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}var e}function m(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (7.22.0) INTERNAL ASSERTION FAILED: "+t;throw v(e),new Error(e)}function b(t,e){t||m()}function w(t,e){return t}function _(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function E(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function I(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var T=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&m(),void 0===n?n=t.length-e:n>t.length-e&&m(),this.segments=t,this.offset=e,this.t=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.t},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.i(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.o(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.u=function(t){return t=void 0===t?1:t,this.o(this.segments,this.offset+t,this.length-t)},t.prototype.h=function(){return this.o(this.segments,this.offset,this.length-1)},t.prototype.l=function(){return this.segments[this.offset]},t.prototype._=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.m=function(){return 0===this.length},t.prototype.T=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.I=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.A=function(){return this.segments.slice(this.offset,this.limit())},t.i=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),S=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.o=function(t,n,r){return new e(t,n,r)},e.prototype.R=function(){return this.A().join("/")},e.prototype.toString=function(){return this.R()},e.P=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new h(l.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.g=function(){return new e([])},e}(T),C=/^[_a-zA-Z][_a-zA-Z0-9]*$/,A=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.o=function(t,n,r){return new e(t,n,r)},e.V=function(t){return C.test(t)},e.prototype.R=function(){return this.A().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.V(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.R()},e.prototype.p=function(){return 1===this.length&&"__name__"===this.get(0)},e.v=function(){return new e(["__name__"])},e.S=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new h(l.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new h(l.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new h(l.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new h(l.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.g=function(){return new e([])},e}(T),k=function(){function t(t){this.path=t}return t.D=function(e){return new t(S.P(e))},t.C=function(e){return new t(S.P(e).u(5))},t.prototype.N=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===S.i(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.i=function(t,e){return S.i(t.path,e.path)},t.F=function(t){return t.length%2==0},t.$=function(e){return new t(new S(e.slice()))},t}();function N(t,e){if(0!==e.length)throw new h(l.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+K(e.length,"argument")+".")}function O(t,e,n){if(e.length!==n)throw new h(l.INVALID_ARGUMENT,"Function "+t+"() requires "+K(n,"argument")+", but was called with "+K(e.length,"argument")+".")}function x(t,e,n){if(e.length<n)throw new h(l.INVALID_ARGUMENT,"Function "+t+"() requires at least "+K(n,"argument")+", but was called with "+K(e.length,"argument")+".")}function P(t,e,n,r){if(e.length<n||e.length>r)throw new h(l.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+K(e.length,"argument")+".")}function R(t,e,n,r){j(t,e,H(n)+" argument",r)}function D(t,e,n,r){void 0!==r&&R(t,e,n,r)}function L(t,e,n,r){j(t,e,n+" option",r)}function M(t,e,n,r){void 0!==r&&L(t,e,n,r)}function F(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){for(var o=[],a=0,s=i;a<s.length;a++){var u=s[a];if(u===r)return;o.push(q(u))}var c=q(r);throw new h(l.INVALID_ARGUMENT,"Invalid value "+c+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(t,0,n,r,i)}function U(t,e,n,r){if(!e.some((function(t){return t===r})))throw new h(l.INVALID_ARGUMENT,"Invalid value "+q(r)+" provided to function "+t+"() for its "+H(n)+" argument. Acceptable values: "+e.join(", "));return r}function j(t,e,n,r){if(!("object"===e?V(r):"non-empty string"===e?"string"==typeof r&&""!==r:typeof r===e)){var i=q(r);throw new h(l.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function V(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function q(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":m()}function B(t,e,n){if(void 0===n)throw new h(l.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+H(e)+" argument, but it was undefined.")}function z(t,e,n){E(e,(function(e,r){if(n.indexOf(e)<0)throw new h(l.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))}))}function G(t,e,n,r){var i=q(r);return new h(l.INVALID_ARGUMENT,"Function "+t+"() requires its "+H(n)+" argument to be a "+e+", but it was: "+i)}function W(t,e,n){if(n<=0)throw new h(l.INVALID_ARGUMENT,"Function "+t+"() requires its "+H(e)+" argument to be a positive number, but it was: "+n+".")}function H(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function K(t,e){return t+" "+e+(1===t?"":"s")}function Q(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Y=function(){function t(){}return t.k=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Q(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function X(t,e){return t<e?-1:t>e?1:0}function $(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function J(t){return t+"\0"}var Z=function(){function t(t){this.M=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.M,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.M)},t.prototype.O=function(){return 2*this.M.length},t.prototype.L=function(t){return X(this.M,t.M)},t.prototype.isEqual=function(t){return this.M===t.M},t}();Z.B=new Z("");var tt=function(){function t(t){this.q=t}return t.fromBase64String=function(e){try{return new t(Z.fromBase64String(e))}catch(e){throw new h(l.INVALID_ARGUMENT,"Failed to construct Bytes from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Z.fromUint8Array(e))},t.prototype.toBase64=function(){return this.q.toBase64()},t.prototype.toUint8Array=function(){return this.q.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.q.isEqual(t.q)},t}();function et(){if("undefined"==typeof Uint8Array)throw new h(l.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function nt(){if("undefined"==typeof atob)throw new h(l.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var rt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.fromBase64String=function(t){O("Blob.fromBase64String",arguments,1),R("Blob.fromBase64String","string",1,t),nt();try{return new e(Z.fromBase64String(t))}catch(t){throw new h(l.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},e.fromUint8Array=function(t){if(O("Blob.fromUint8Array",arguments,1),et(),!(t instanceof Uint8Array))throw G("Blob.fromUint8Array","Uint8Array",1,t);return new e(Z.fromUint8Array(t))},e.prototype.toBase64=function(){return O("Blob.toBase64",arguments,0),nt(),t.prototype.toBase64.call(this)},e.prototype.toUint8Array=function(){return O("Blob.toUint8Array",arguments,0),et(),t.prototype.toUint8Array.call(this)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(tt),it=function(t,e,n,r,i){this.U=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i},ot=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"W",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.L=function(t){return X(this.projectId,t.projectId)||X(this.database,t.database)},t}(),at=function(){function t(t,e){this.j=t,this.K=e,this.G={}}return t.prototype.get=function(t){var e=this.j(t),n=this.G[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.K(a,t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.j(t),r=this.G[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.K(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.G[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.j(t),n=this.G[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.K(n[r][0],t))return 1===n.length?delete this.G[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){E(this.G,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];t(a,s)}}))},t.prototype.m=function(){return I(this.G)},t}(),st=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new h(l.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new h(l.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new h(l.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new h(l.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.H=function(t){return this.seconds===t.seconds?X(this.nanoseconds,t.nanoseconds):X(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),ut=function(){function t(t){this.timestamp=t}return t.Y=function(e){return new t(e)},t.min=function(){return new t(new st(0,0))},t.prototype.L=function(t){return this.timestamp.H(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.J=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.X=function(){return this.timestamp},t}();function ct(t){return null==t}function lt(t){return 0===t&&1/t==-1/0}function ht(t){return"number"==typeof t&&Number.isInteger(t)&&!lt(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var ft=function(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.Z=null};function pt(t,e,n,r,i,o,a){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new ft(t,e,n,r,i,o,a)}function dt(t){var e=w(t);if(null===e.Z){var n=e.path.R();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.R()+t.op.toString()+ie(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return(e=t).field.R()+e.dir;var e})).join(","),ct(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=ar(e.startAt)),e.endAt&&(n+="|ub:",n+=ar(e.endAt)),e.Z=n}return e.Z}function vt(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!hr(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!te(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ur(t.startAt,e.startAt)&&ur(t.endAt,e.endAt)}function yt(t){return k.F(t.path)&&null===t.collectionGroup&&0===t.filters.length}var gt,mt,bt=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=ut.min()),void 0===o&&(o=ut.min()),void 0===a&&(a=Z.B),this.target=t,this.targetId=e,this.tt=n,this.sequenceNumber=r,this.et=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return t.prototype.nt=function(e){return new t(this.target,this.targetId,this.tt,e,this.et,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.st=function(e,n){return new t(this.target,this.targetId,this.tt,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.it=function(e){return new t(this.target,this.targetId,this.tt,this.sequenceNumber,this.et,e,this.resumeToken)},t}(),wt=function(t){this.count=t};function _t(t){switch(t){case l.OK:return m();case l.CANCELLED:case l.UNKNOWN:case l.DEADLINE_EXCEEDED:case l.RESOURCE_EXHAUSTED:case l.INTERNAL:case l.UNAVAILABLE:case l.UNAUTHENTICATED:return!1;case l.INVALID_ARGUMENT:case l.NOT_FOUND:case l.ALREADY_EXISTS:case l.PERMISSION_DENIED:case l.FAILED_PRECONDITION:case l.ABORTED:case l.OUT_OF_RANGE:case l.UNIMPLEMENTED:case l.DATA_LOSS:return!0;default:return m()}}function Et(t){if(void 0===t)return v("GRPC error has no .code"),l.UNKNOWN;switch(t){case gt.OK:return l.OK;case gt.CANCELLED:return l.CANCELLED;case gt.UNKNOWN:return l.UNKNOWN;case gt.DEADLINE_EXCEEDED:return l.DEADLINE_EXCEEDED;case gt.RESOURCE_EXHAUSTED:return l.RESOURCE_EXHAUSTED;case gt.INTERNAL:return l.INTERNAL;case gt.UNAVAILABLE:return l.UNAVAILABLE;case gt.UNAUTHENTICATED:return l.UNAUTHENTICATED;case gt.INVALID_ARGUMENT:return l.INVALID_ARGUMENT;case gt.NOT_FOUND:return l.NOT_FOUND;case gt.ALREADY_EXISTS:return l.ALREADY_EXISTS;case gt.PERMISSION_DENIED:return l.PERMISSION_DENIED;case gt.FAILED_PRECONDITION:return l.FAILED_PRECONDITION;case gt.ABORTED:return l.ABORTED;case gt.OUT_OF_RANGE:return l.OUT_OF_RANGE;case gt.UNIMPLEMENTED:return l.UNIMPLEMENTED;case gt.DATA_LOSS:return l.DATA_LOSS;default:return m()}}(mt=gt||(gt={}))[mt.OK=0]="OK",mt[mt.CANCELLED=1]="CANCELLED",mt[mt.UNKNOWN=2]="UNKNOWN",mt[mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mt[mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mt[mt.NOT_FOUND=5]="NOT_FOUND",mt[mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",mt[mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",mt[mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",mt[mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mt[mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mt[mt.ABORTED=10]="ABORTED",mt[mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",mt[mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",mt[mt.INTERNAL=13]="INTERNAL",mt[mt.UNAVAILABLE=14]="UNAVAILABLE",mt[mt.DATA_LOSS=15]="DATA_LOSS";var It=function(){function t(t,e){this.i=t,this.root=e||St.EMPTY}return t.prototype.rt=function(e,n){return new t(this.i,this.root.rt(e,n,this.i).copy(null,null,St.ot,null,null))},t.prototype.remove=function(e){return new t(this.i,this.root.remove(e,this.i).copy(null,null,St.ot,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.m();){var n=this.i(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.m();){var r=this.i(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.m=function(){return this.root.m()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.at=function(){return this.root.at()},t.prototype.ct=function(){return this.root.ct()},t.prototype.ut=function(t){return this.root.ut(t)},t.prototype.forEach=function(t){this.ut((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.ut((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.ht=function(t){return this.root.ht(t)},t.prototype.lt=function(){return new Tt(this.root,null,this.i,!1)},t.prototype._t=function(t){return new Tt(this.root,t,this.i,!1)},t.prototype.ft=function(){return new Tt(this.root,null,this.i,!0)},t.prototype.dt=function(t){return new Tt(this.root,t,this.i,!0)},t}(),Tt=function(){function t(t,e,n,r){this.wt=r,this.Tt=[];for(var i=1;!t.m();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.wt?t.left:t.right;else{if(0===i){this.Tt.push(t);break}this.Tt.push(t),t=this.wt?t.right:t.left}}return t.prototype.Et=function(){var t=this.Tt.pop(),e={key:t.key,value:t.value};if(this.wt)for(t=t.left;!t.m();)this.Tt.push(t),t=t.right;else for(t=t.right;!t.m();)this.Tt.push(t),t=t.left;return e},t.prototype.It=function(){return this.Tt.length>0},t.prototype.At=function(){if(0===this.Tt.length)return null;var t=this.Tt[this.Tt.length-1];return{key:t.key,value:t.value}},t}(),St=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.m=function(){return!1},t.prototype.ut=function(t){return this.left.ut(t)||t(this.key,this.value)||this.right.ut(t)},t.prototype.ht=function(t){return this.right.ht(t)||t(this.key,this.value)||this.left.ht(t)},t.prototype.min=function(){return this.left.m()?this:this.left.min()},t.prototype.at=function(){return this.min().key},t.prototype.ct=function(){return this.right.m()?this.key:this.right.ct()},t.prototype.rt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.rt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.rt(t,e,n))).Rt()},t.prototype.Pt=function(){if(this.left.m())return t.EMPTY;var e=this;return e.left.gt()||e.left.left.gt()||(e=e.yt()),(e=e.copy(null,null,null,e.left.Pt(),null)).Rt()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.m()||i.left.gt()||i.left.left.gt()||(i=i.yt()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.gt()&&(i=i.Vt()),i.right.m()||i.right.gt()||i.right.left.gt()||(i=i.bt()),0===n(e,i.key)){if(i.right.m())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.Pt())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.Rt()},t.prototype.gt=function(){return this.color},t.prototype.Rt=function(){var t=this;return t.right.gt()&&!t.left.gt()&&(t=t.vt()),t.left.gt()&&t.left.left.gt()&&(t=t.Vt()),t.left.gt()&&t.right.gt()&&(t=t.St()),t},t.prototype.yt=function(){var t=this.St();return t.right.left.gt()&&(t=(t=(t=t.copy(null,null,null,null,t.right.Vt())).vt()).St()),t},t.prototype.bt=function(){var t=this.St();return t.left.left.gt()&&(t=(t=t.Vt()).St()),t},t.prototype.vt=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.Vt=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.St=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Dt=function(){var t=this.Ct();return Math.pow(2,t)<=this.size+1},t.prototype.Ct=function(){if(this.gt()&&this.left.gt())throw m();if(this.right.gt())throw m();var t=this.left.Ct();if(t!==this.right.Ct())throw m();return t+(this.gt()?0:1)},t}();St.EMPTY=null,St.RED=!0,St.ot=!1,St.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw m()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw m()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw m()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw m()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw m()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.rt=function(t,e,n){return new St(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.m=function(){return!0},t.prototype.ut=function(t){return!1},t.prototype.ht=function(t){return!1},t.prototype.at=function(){return null},t.prototype.ct=function(){return null},t.prototype.gt=function(){return!1},t.prototype.Dt=function(){return!0},t.prototype.Ct=function(){return 0},t}());var Ct=function(){function t(t){this.i=t,this.data=new It(this.i)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.at()},t.prototype.last=function(){return this.data.ct()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.ut((function(e,n){return t(e),!1}))},t.prototype.Nt=function(t,e){for(var n=this.data._t(t[0]);n.It();){var r=n.Et();if(this.i(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Ft=function(t,e){var n;for(n=void 0!==e?this.data._t(e):this.data.lt();n.It();)if(!t(n.Et().key))return},t.prototype.$t=function(t){var e=this.data._t(t);return e.It()?e.Et().key:null},t.prototype.lt=function(){return new At(this.data.lt())},t.prototype._t=function(t){return new At(this.data._t(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).rt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.m=function(){return this.data.m()},t.prototype.xt=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.lt(),r=e.data.lt();n.It();){var i=n.Et().key,o=r.Et().key;if(0!==this.i(i,o))return!1}return!0},t.prototype.A=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.i);return n.data=e,n},t}(),At=function(){function t(t){this.kt=t}return t.prototype.Et=function(){return this.kt.Et().key},t.prototype.It=function(){return this.kt.It()},t}(),kt=new It(k.i);function Nt(){return kt}function Ot(){return Nt()}var xt=new It(k.i);function Pt(){return xt}var Rt=new It(k.i),Dt=new Ct(k.i);function Lt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Dt,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Mt=new Ct(X);function Ft(){return Mt}var Ut=function(){function t(t){this.i=t?function(e,n){return t(e,n)||k.i(e.key,n.key)}:function(t,e){return k.i(t.key,e.key)},this.Mt=Pt(),this.Ot=new It(this.i)}return t.Lt=function(e){return new t(e.i)},t.prototype.has=function(t){return null!=this.Mt.get(t)},t.prototype.get=function(t){return this.Mt.get(t)},t.prototype.first=function(){return this.Ot.at()},t.prototype.last=function(){return this.Ot.ct()},t.prototype.m=function(){return this.Ot.m()},t.prototype.indexOf=function(t){var e=this.Mt.get(t);return e?this.Ot.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Ot.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Ot.ut((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Mt.rt(t.key,t),e.Ot.rt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Mt.remove(t),this.Ot.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Ot.lt(),r=e.Ot.lt();n.It();){var i=n.Et().key,o=r.Et().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.i=this.i,r.Mt=e,r.Ot=n,r},t}(),jt=function(){function t(){this.Bt=new It(k.i)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Bt.get(e);n?0!==t.type&&3===n.type?this.Bt=this.Bt.rt(e,t):3===t.type&&1!==n.type?this.Bt=this.Bt.rt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Bt=this.Bt.rt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Bt=this.Bt.rt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Bt=this.Bt.remove(e):1===t.type&&2===n.type?this.Bt=this.Bt.rt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Bt=this.Bt.rt(e,{type:2,doc:t.doc}):m():this.Bt=this.Bt.rt(e,t)},t.prototype.qt=function(){var t=[];return this.Bt.ut((function(e,n){t.push(n)})),t},t}(),Vt=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.Ut=n,this.docChanges=r,this.Qt=i,this.fromCache=o,this.Wt=a,this.jt=s}return t.Kt=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,Ut.Lt(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Qt.m()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Wt===t.Wt&&this.Qt.isEqual(t.Qt)&&Wn(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Ut.isEqual(t.Ut)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),qt=function(){function t(t,e,n,r,i){this.et=t,this.Gt=e,this.zt=n,this.Ht=r,this.Yt=i}return t.Jt=function(e,n){var r=new Map;return r.set(e,Bt.Xt(e,n)),new t(ut.min(),r,Ft(),Nt(),Lt())},t}(),Bt=function(){function t(t,e,n,r,i){this.resumeToken=t,this.Zt=e,this.te=n,this.ee=r,this.ne=i}return t.Xt=function(e,n){return new t(Z.B,n,Lt(),Lt(),Lt())},t}(),zt=function(t,e,n,r){this.se=t,this.removedTargetIds=e,this.key=n,this.ie=r},Gt=function(t,e){this.targetId=t,this.re=e},Wt=function(t,e,n,r){void 0===n&&(n=Z.B),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Ht=function(){function t(){this.oe=0,this.ae=Yt(),this.ce=Z.B,this.ue=!1,this.he=!0}return Object.defineProperty(t.prototype,"Zt",{get:function(){return this.ue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.ce},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"le",{get:function(){return 0!==this.oe},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_e",{get:function(){return this.he},enumerable:!1,configurable:!0}),t.prototype.fe=function(t){t.O()>0&&(this.he=!0,this.ce=t)},t.prototype.de=function(){var t=Lt(),e=Lt(),n=Lt();return this.ae.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:m()}})),new Bt(this.ce,this.ue,t,e,n)},t.prototype.we=function(){this.he=!1,this.ae=Yt()},t.prototype.me=function(t,e){this.he=!0,this.ae=this.ae.rt(t,e)},t.prototype.Te=function(t){this.he=!0,this.ae=this.ae.remove(t)},t.prototype.Ee=function(){this.oe+=1},t.prototype.Ie=function(){this.oe-=1},t.prototype.Ae=function(){this.he=!0,this.ue=!0},t}(),Kt=function(){function t(t){this.Re=t,this.Pe=new Map,this.ge=Nt(),this.ye=Qt(),this.Ve=new Ct(X)}return t.prototype.pe=function(t){for(var e=0,n=t.se;e<n.length;e++){var r=n[e];t.ie instanceof Nn?this.be(r,t.ie):t.ie instanceof On&&this.ve(r,t.key,t.ie)}for(var i=0,o=t.removedTargetIds;i<o.length;i++){var a=o[i];this.ve(a,t.key,t.ie)}},t.prototype.Se=function(t){var e=this;this.De(t,(function(n){var r=e.Ce(n);switch(t.state){case 0:e.Ne(n)&&r.fe(t.resumeToken);break;case 1:r.Ie(),r.le||r.we(),r.fe(t.resumeToken);break;case 2:r.Ie(),r.le||e.removeTarget(n);break;case 3:e.Ne(n)&&(r.Ae(),r.fe(t.resumeToken));break;case 4:e.Ne(n)&&(e.Fe(n),r.fe(t.resumeToken));break;default:m()}}))},t.prototype.De=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Pe.forEach((function(t,r){n.Ne(r)&&e(r)}))},t.prototype.$e=function(t){var e=t.targetId,n=t.re.count,r=this.xe(e);if(r){var i=r.target;if(yt(i))if(0===n){var o=new k(i.path);this.ve(e,o,new On(o,ut.min()))}else b(1===n);else this.ke(e)!==n&&(this.Fe(e),this.Ve=this.Ve.add(e))}},t.prototype.Me=function(t){var e=this,n=new Map;this.Pe.forEach((function(r,i){var o=e.xe(i);if(o){if(r.Zt&&yt(o.target)){var a=new k(o.target.path);null!==e.ge.get(a)||e.Oe(i,a)||e.ve(i,a,new On(a,t))}r._e&&(n.set(i,r.de()),r.we())}}));var r=Lt();this.ye.forEach((function(t,n){var i=!0;n.Ft((function(t){var n=e.xe(t);return!n||2===n.tt||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new qt(t,n,this.Ve,this.ge,r);return this.ge=Nt(),this.ye=Qt(),this.Ve=new Ct(X),i},t.prototype.be=function(t,e){if(this.Ne(t)){var n=this.Oe(t,e.key)?2:0;this.Ce(t).me(e.key,n),this.ge=this.ge.rt(e.key,e),this.ye=this.ye.rt(e.key,this.Le(e.key).add(t))}},t.prototype.ve=function(t,e,n){if(this.Ne(t)){var r=this.Ce(t);this.Oe(t,e)?r.me(e,1):r.Te(e),this.ye=this.ye.rt(e,this.Le(e).delete(t)),n&&(this.ge=this.ge.rt(e,n))}},t.prototype.removeTarget=function(t){this.Pe.delete(t)},t.prototype.ke=function(t){var e=this.Ce(t).de();return this.Re.Be(t).size+e.te.size-e.ne.size},t.prototype.Ee=function(t){this.Ce(t).Ee()},t.prototype.Ce=function(t){var e=this.Pe.get(t);return e||(e=new Ht,this.Pe.set(t,e)),e},t.prototype.Le=function(t){var e=this.ye.get(t);return e||(e=new Ct(X),this.ye=this.ye.rt(t,e)),e},t.prototype.Ne=function(t){var e=null!==this.xe(t);return e||d("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.xe=function(t){var e=this.Pe.get(t);return e&&e.le?null:this.Re.qe(t)},t.prototype.Fe=function(t){var e=this;this.Pe.set(t,new Ht),this.Re.Be(t).forEach((function(n){e.ve(t,n,null)}))},t.prototype.Oe=function(t,e){return this.Re.Be(t).has(e)},t}();function Qt(){return new It(k.i)}function Yt(){return new It(k.i)}function Xt(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function $t(t){var e=oe(t.mapValue.fields.__local_write_time__.timestampValue);return new st(e.seconds,e.nanos)}var Jt=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zt(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Xt(t)?4:10:m()}function te(t,e){var n=Zt(t);if(n!==Zt(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return $t(t).isEqual($t(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=oe(t.timestampValue),r=oe(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return se(t.bytesValue).isEqual(se(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return ae(t.geoPointValue.latitude)===ae(e.geoPointValue.latitude)&&ae(t.geoPointValue.longitude)===ae(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return ae(t.integerValue)===ae(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=ae(t.doubleValue),r=ae(e.doubleValue);return n===r?lt(n)===lt(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return $(t.arrayValue.values||[],e.arrayValue.values||[],te);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(_(n)!==_(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!te(n[i],r[i])))return!1;return!0}(t,e);default:return m()}}function ee(t,e){return void 0!==(t.values||[]).find((function(t){return te(t,e)}))}function ne(t,e){var n=Zt(t),r=Zt(e);if(n!==r)return X(n,r);switch(n){case 0:return 0;case 1:return X(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=ae(t.integerValue||t.doubleValue),r=ae(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return re(t.timestampValue,e.timestampValue);case 4:return re($t(t),$t(e));case 5:return X(t.stringValue,e.stringValue);case 6:return function(t,e){var n=se(t),r=se(e);return n.L(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=X(n[i],r[i]);if(0!==o)return o}return X(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=X(ae(t.latitude),ae(e.latitude));return 0!==n?n:X(ae(t.longitude),ae(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=ne(n[i],r[i]);if(o)return o}return X(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=X(r[a],o[a]);if(0!==s)return s;var u=ne(n[r[a]],i[o[a]]);if(0!==u)return u}return X(r.length,o.length)}(t.mapValue,e.mapValue);default:throw m()}}function re(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return X(t,e);var n=oe(t),r=oe(e),i=X(n.seconds,r.seconds);return 0!==i?i:X(n.nanos,r.nanos)}function ie(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=oe(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?se(e.bytesValue).toBase64():"referenceValue"in e?(r=e.referenceValue,k.C(r).toString()):"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++){var a=o[i];r?r=!1:n+=",",n+=t(a)}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var a=o[i];r?r=!1:n+=",",n+=a+":"+t(e.fields[a])}return n+"}"}(e.mapValue):m();var n,r}(t)}function oe(t){if(b(!!t),"string"==typeof t){var e=0,n=Jt.exec(t);if(b(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ae(t.seconds),nanos:ae(t.nanos)}}function ae(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function se(t){return"string"==typeof t?Z.fromBase64String(t):Z.fromUint8Array(t)}function ue(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.R()}}function ce(t){return!!t&&"integerValue"in t}function le(t){return!!t&&"arrayValue"in t}function he(t){return!!t&&"nullValue"in t}function fe(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function pe(t){return!!t&&"mapValue"in t}var de={asc:"ASCENDING",desc:"DESCENDING"},ve={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ye=function(t,e){this.U=t,this.Ue=e};function ge(t){return{integerValue:""+t}}function me(t,e){if(t.Ue){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lt(e)?"-0":e}}function be(t,e){return ht(e)?ge(e):me(t,e)}function we(t,e){return t.Ue?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function _e(t,e){return t.Ue?e.toBase64():e.toUint8Array()}function Ee(t,e){return we(t,e.X())}function Ie(t){return b(!!t),ut.Y(function(t){var e=oe(t);return new st(e.seconds,e.nanos)}(t))}function Te(t,e){return function(t){return new S(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).R()}function Se(t){var e=S.P(t);return b(He(e)),e}function Ce(t,e){return Te(t.U,e.path)}function Ae(t,e){var n=Se(e);return b(n.get(1)===t.U.projectId),b(!n.get(3)&&!t.U.database||n.get(3)===t.U.database),new k(xe(n))}function ke(t,e){return Te(t.U,e)}function Ne(t){var e=Se(t);return 4===e.length?S.g():xe(e)}function Oe(t){return new S(["projects",t.U.projectId,"databases",t.U.database]).R()}function xe(t){return b(t.length>4&&"documents"===t.get(4)),t.u(5)}function Pe(t,e,n){return{name:Ce(t,e),fields:n.proto.mapValue.fields}}function Re(t,e){var n;if(e instanceof gn)n={update:Pe(t,e.key,e.value)};else if(e instanceof In)n={delete:Ce(t,e.key)};else if(e instanceof mn)n={update:Pe(t,e.key,e.data),updateMask:We(e.Qe)};else if(e instanceof wn)n={transform:{document:Ce(t,e.key),fieldTransforms:e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof $e)return{fieldPath:e.field.R(),setToServerValue:"REQUEST_TIME"};if(n instanceof Je)return{fieldPath:e.field.R(),appendMissingElements:{values:n.elements}};if(n instanceof tn)return{fieldPath:e.field.R(),removeAllFromArray:{values:n.elements}};if(n instanceof nn)return{fieldPath:e.field.R(),increment:n.We};throw m()}(0,t)}))}};else{if(!(e instanceof Tn))return m();n={verify:Ce(t,e.key)}}return e.Ke.je||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Ee(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:m()}(t,e.Ke)),n}function De(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?cn.updateTime(Ie(t.updateTime)):void 0!==t.exists?cn.exists(t.exists):cn.Ge()}(e.currentDocument):cn.Ge();if(e.update){e.update.name;var r=Ae(t,e.update.name),i=new Sn({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){var e=t.fieldPaths||[];return new an(e.map((function(t){return A.S(t)})))}(e.updateMask);return new mn(r,i,o,n)}return new gn(r,i,n)}if(e.delete){var a=Ae(t,e.delete);return new In(a,n)}if(e.transform){var s=Ae(t,e.transform.document),u=e.transform.fieldTransforms.map((function(e){return function(t,e){var n=null;if("setToServerValue"in e)b("REQUEST_TIME"===e.setToServerValue),n=new $e;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new Je(r)}else if("removeAllFromArray"in e){var i=e.removeAllFromArray.values||[];n=new tn(i)}else"increment"in e?n=new nn(t,e.increment):m();var o=A.S(e.fieldPath);return new sn(o,n)}(t,e)}));return b(!0===n.exists),new wn(s,u)}if(e.verify){var c=Ae(t,e.verify);return new Tn(c,n)}return m()}function Le(t,e){return{documents:[ke(t,e.path)]}}function Me(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=ke(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=ke(t,r.h()),n.structuredQuery.from=[{collectionId:r._()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(fe(t.value))return{unaryFilter:{field:qe(t.field),op:"IS_NAN"}};if(he(t.value))return{unaryFilter:{field:qe(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(fe(t.value))return{unaryFilter:{field:qe(t.field),op:"IS_NOT_NAN"}};if(he(t.value))return{unaryFilter:{field:qe(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qe(t.field),op:Ve(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:qe(t.field),direction:je(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(t,e){return t.Ue||ct(e)?e:{value:e}}(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=Fe(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Fe(e.endAt)),n}function Fe(t){return{before:t.before,values:t.position}}function Ue(t){var e=!!t.before,n=t.values||[];return new or(n,e)}function je(t){return de[t]}function Ve(t){return ve[t]}function qe(t){return{fieldPath:t.R()}}function Be(t){return A.S(t.fieldPath)}function ze(t){return Xn.create(Be(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return m()}}(t.fieldFilter.op),t.fieldFilter.value)}function Ge(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Be(t.unaryFilter.field);return Xn.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Be(t.unaryFilter.field);return Xn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Be(t.unaryFilter.field);return Xn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Be(t.unaryFilter.field);return Xn.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return m()}}function We(t){var e=[];return t.fields.forEach((function(t){return e.push(t.R())})),{fieldPaths:e}}function He(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var Ke=function(){this.ze=void 0};function Qe(t,e,n){return t instanceof $e?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Je?Ze(t,e):t instanceof tn?en(t,e):function(t,e){var n=Xe(t,e),r=rn(n)+rn(t.We);return ce(n)&&ce(t.We)?ge(r):me(t.serializer,r)}(t,e)}function Ye(t,e,n){return t instanceof Je?Ze(t,e):t instanceof tn?en(t,e):n}function Xe(t,e){return t instanceof nn?ce(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var $e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e}(Ke),Je=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return r.__extends(e,t),e}(Ke);function Ze(t,e){for(var n=on(e),r=function(t){n.some((function(e){return te(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var tn=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return r.__extends(e,t),e}(Ke);function en(t,e){for(var n=on(e),r=function(t){n=n.filter((function(e){return!te(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var nn=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).serializer=e,r.We=n,r}return r.__extends(e,t),e}(Ke);function rn(t){return ae(t.integerValue||t.doubleValue)}function on(t){return le(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var an=function(){function t(t){this.fields=t,t.sort(A.i)}return t.prototype.He=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].T(t))return!0;return!1},t.prototype.isEqual=function(t){return $(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),sn=function(t,e){this.field=t,this.transform=e},un=function(t,e){this.version=t,this.transformResults=e},cn=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.Ge=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"je",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function ln(t,e){return void 0!==t.updateTime?e instanceof Nn&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof Nn}var hn=function(){};function fn(t,e,n){return t instanceof gn?function(t,e,n){return new Nn(t.key,n.version,t.value,{hasCommittedMutations:!0})}(t,0,n):t instanceof mn?function(t,e,n){if(!ln(t.Ke,e))return new xn(t.key,n.version);var r=bn(t,e);return new Nn(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof wn?function(t,e,n){if(b(null!=n.transformResults),!ln(t.Ke,e))return new xn(t.key,n.version);var r=_n(t,e),i=function(t,e,n){var r=[];b(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,s=null;e instanceof Nn&&(s=e.field(o.field)),r.push(Ye(a,s,n[i]))}return r}(t.fieldTransforms,e,n.transformResults),o=n.version,a=En(t,r.data(),i);return new Nn(t.key,o,a,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new On(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function pn(t,e,n,r){return t instanceof gn?function(t,e){if(!ln(t.Ke,e))return e;var n=yn(e);return new Nn(t.key,n,t.value,{Ye:!0})}(t,e):t instanceof mn?function(t,e){if(!ln(t.Ke,e))return e;var n=yn(e),r=bn(t,e);return new Nn(t.key,n,r,{Ye:!0})}(t,e):t instanceof wn?function(t,e,n,r){if(!ln(t.Ke,e))return e;var i=_n(t,e),o=function(t,e,n,r){for(var i=[],o=0,a=t;o<a.length;o++){var s=a[o],u=s.transform,c=null;n instanceof Nn&&(c=n.field(s.field)),null===c&&r instanceof Nn&&(c=r.field(s.field)),i.push(Qe(u,c,e))}return i}(t.fieldTransforms,n,e,r),a=En(t,i.data(),o);return new Nn(t.key,i.version,a,{Ye:!0})}(t,e,r,n):function(t,e){return ln(t.Ke,e)?new On(t.key,ut.min()):e}(t,e)}function dn(t,e){return t instanceof wn?function(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],a=e instanceof Nn?e.field(o.field):void 0,s=Xe(o.transform,a||null);null!=s&&(n=null==n?(new Cn).set(o.field,s):n.set(o.field,s))}return n?n.Je():null}(t,e):null}function vn(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Ke.isEqual(e.Ke)&&(0===t.type?t.value.isEqual(e.value):1===t.type?t.data.isEqual(e.data)&&t.Qe.isEqual(e.Qe):2!==t.type||$(t.fieldTransforms,t.fieldTransforms,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Je&&e instanceof Je||t instanceof tn&&e instanceof tn?$(t.elements,e.elements,te):t instanceof nn&&e instanceof nn?te(t.We,e.We):t instanceof $e&&e instanceof $e}(t.transform,e.transform)}(t,e)})))}function yn(t){return t instanceof Nn?t.version:ut.min()}var gn=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.Ke=r,i.type=0,i}return r.__extends(e,t),e}(hn),mn=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.Qe=r,o.Ke=i,o.type=1,o}return r.__extends(e,t),e}(hn);function bn(t,e){return function(t,e){var n=new Cn(e);return t.Qe.fields.forEach((function(e){if(!e.m()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.Je()}(t,e instanceof Nn?e.data():Sn.empty())}var wn=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.fieldTransforms=n,r.type=2,r.Ke=cn.exists(!0),r}return r.__extends(e,t),e}(hn);function _n(t,e){return e}function En(t,e,n){for(var r=new Cn(e),i=0;i<t.fieldTransforms.length;i++){var o=t.fieldTransforms[i];r.set(o.field,n[i])}return r.Je()}var In=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Ke=n,r.type=3,r}return r.__extends(e,t),e}(hn),Tn=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Ke=n,r.type=4,r}return r.__extends(e,t),e}(hn),Sn=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.m())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!pe(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t._()])||null},t.prototype.isEqual=function(t){return te(this.proto,t.proto)},t}(),Cn=function(){function t(t){void 0===t&&(t=Sn.empty()),this.Xe=t,this.Ze=new Map}return t.prototype.set=function(t,e){return this.tn(t,e),this},t.prototype.delete=function(t){return this.tn(t,null),this},t.prototype.tn=function(t,e){for(var n=this.Ze,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Zt(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t._(),e)},t.prototype.Je=function(){var t=this.en(A.g(),this.Ze);return null!=t?new Sn(t):this.Xe},t.prototype.en=function(t,e){var n=this,r=!1,i=this.Xe.field(t),o=pe(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var a=n.en(t.child(i),e);null!=a&&(o[i]=a,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},t}();function An(t){var e=[];return E(t.fields||{},(function(t,n){var r=new A([t]);if(pe(n)){var i=An(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];e.push(r.child(s))}}else e.push(r)})),new an(e)}var kn=function(t,e){this.key=t,this.version=e},Nn=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).nn=r,o.Ye=!!i.Ye,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return r.__extends(e,t),e.prototype.field=function(t){return this.nn.field(t)},e.prototype.data=function(){return this.nn},e.prototype.sn=function(){return this.nn.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Ye===t.Ye&&this.hasCommittedMutations===t.hasCommittedMutations&&this.nn.isEqual(t.nn)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.nn.toString()+", {hasLocalMutations: "+this.Ye+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Ye||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(kn),On=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return r.__extends(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(kn),xn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(kn),Pn=function(t,e,n,r,i,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.rn=n,this.filters=r,this.limit=i,this.on=o,this.startAt=a,this.endAt=s,this.an=null,this.cn=null,this.startAt,this.endAt};function Rn(t,e,n,r,i,o,a,s){return new Pn(t,e,n,r,i,o,a,s)}function Dn(t){return new Pn(t)}function Ln(t){return!ct(t.limit)&&"F"===t.on}function Mn(t){return!ct(t.limit)&&"L"===t.on}function Fn(t){return t.rn.length>0?t.rn[0].field:null}function Un(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.un())return r.field}return null}function jn(t){return null!==t.collectionGroup}function Vn(t){var e=w(t);if(null===e.an){e.an=[];var n=Un(e),r=Fn(e);if(null!==n&&null===r)n.p()||e.an.push(new cr(n)),e.an.push(new cr(A.v(),"asc"));else{for(var i=!1,o=0,a=e.rn;o<a.length;o++){var s=a[o];e.an.push(s),s.field.p()&&(i=!0)}if(!i){var u=e.rn.length>0?e.rn[e.rn.length-1].dir:"asc";e.an.push(new cr(A.v(),u))}}}return e.an}function qn(t){var e=w(t);if(!e.cn)if("F"===e.on)e.cn=pt(e.path,e.collectionGroup,Vn(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Vn(e);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new cr(o.field,a))}var s=e.endAt?new or(e.endAt.position,!e.endAt.before):null,u=e.startAt?new or(e.startAt.position,!e.startAt.before):null;e.cn=pt(e.path,e.collectionGroup,n,e.filters,e.limit,s,u)}return e.cn}function Bn(t,e,n){return new Pn(t.path,t.collectionGroup,t.rn.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function zn(t,e){return new Pn(t.path,t.collectionGroup,t.rn.slice(),t.filters.slice(),t.limit,t.on,e,t.endAt)}function Gn(t,e){return new Pn(t.path,t.collectionGroup,t.rn.slice(),t.filters.slice(),t.limit,t.on,t.startAt,e)}function Wn(t,e){return vt(qn(t),qn(e))&&t.on===e.on}function Hn(t){return dt(qn(t))+"|lt:"+t.on}function Kn(t){return"Query(target="+function(t){var e=t.path.R();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.R()+" "+e.op+" "+ie(e.value);var e})).join(", ")+"]"),ct(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return(e=t).field.R()+" ("+e.dir+")";var e})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+ar(t.startAt)),t.endAt&&(e+=", endAt: "+ar(t.endAt)),"Target("+e+")"}(qn(t))+"; limitType="+t.on+")"}function Qn(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.N(t.collectionGroup)&&t.path.T(n):k.F(t.path)?t.path.isEqual(n):t.path.I(n)}(t,e)&&function(t,e){for(var n=0,r=t.rn;n<r.length;n++){var i=r[n];if(!i.field.p()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!sr(t.startAt,Vn(t),e))&&(!t.endAt||!sr(t.endAt,Vn(t),e))}(t,e)}function Yn(t){return function(e,n){for(var r=!1,i=0,o=Vn(t);i<o.length;i++){var a=o[i],s=lr(a,e,n);if(0!==s)return s;r=r||a.field.p()}return 0}}var Xn=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return r.__extends(e,t),e.create=function(t,n,r){if(t.p())return"in"===n||"not-in"===n?this.hn(t,n,r):new $n(t,n,r);if(he(r)){if("=="!==n&&"!="!==n)throw new h(l.INVALID_ARGUMENT,"Invalid query. Null only supports '==' and '!=' comparisons.");return new e(t,n,r)}if(fe(r)){if("=="!==n&&"!="!==n)throw new h(l.INVALID_ARGUMENT,"Invalid query. NaN only supports '==' and '!=' comparisons.");return new e(t,n,r)}return"array-contains"===n?new er(t,r):"in"===n?new nr(t,r):"not-in"===n?new rr(t,r):"array-contains-any"===n?new ir(t,r):new e(t,n,r)},e.hn=function(t,e,n){return"in"===e?new Jn(t,n):new Zn(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.ln(ne(e,this.value)):null!==e&&Zt(this.value)===Zt(e)&&this.ln(ne(e,this.value))},e.prototype.ln=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return m()}},e.prototype.un=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),$n=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=k.C(r.referenceValue),i}return r.__extends(e,t),e.prototype.matches=function(t){var e=k.i(t.key,this.key);return this.ln(e)},e}(Xn),Jn=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=tr("in",n),r}return r.__extends(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Xn),Zn=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=tr("not-in",n),r}return r.__extends(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Xn);function tr(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return k.C(t.referenceValue)}))}var er=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return r.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return le(e)&&ee(e.arrayValue,this.value)},e}(Xn),nr=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return r.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&ee(this.value.arrayValue,e)},e}(Xn),rr=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return r.__extends(e,t),e.prototype.matches=function(t){if(ee(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!ee(this.value.arrayValue,e)},e}(Xn),ir=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return r.__extends(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!le(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return ee(e.value.arrayValue,t)}))},e}(Xn),or=function(t,e){this.position=t,this.before=e};function ar(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return ie(t)})).join(",")}function sr(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.p()?k.i(k.C(a.referenceValue),n.key):ne(a,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function ur(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!te(t.position[n],e.position[n]))return!1;return!0}var cr=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function lr(t,e,n){var r=t.field.p()?k.i(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?ne(r,i):m()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return m()}}function hr(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var fr=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},pr=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this._n=t,this.fn=e,this.dn=n,this.wn=r,this.mn=i,this.Tn=0,this.En=null,this.In=Date.now(),this.reset()}return t.prototype.reset=function(){this.Tn=0},t.prototype.An=function(){this.Tn=this.mn},t.prototype.Rn=function(t){var e=this;this.cancel();var n=Math.floor(this.Tn+this.Pn()),r=Math.max(0,Date.now()-this.In),i=Math.max(0,n-r);i>0&&d("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Tn+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.En=this._n.gn(this.fn,i,(function(){return e.In=Date.now(),t()})),this.Tn*=this.wn,this.Tn<this.dn&&(this.Tn=this.dn),this.Tn>this.mn&&(this.Tn=this.mn)},t.prototype.yn=function(){null!==this.En&&(this.En.Vn(),this.En=null)},t.prototype.cancel=function(){null!==this.En&&(this.En.cancel(),this.En=null)},t.prototype.Pn=function(){return(Math.random()-.5)*this.Tn},t}(),dr=function(){function t(t){var e=this;this.pn=null,this.bn=null,this.result=void 0,this.error=void 0,this.vn=!1,this.Sn=!1,t((function(t){e.vn=!0,e.result=t,e.pn&&e.pn(t)}),(function(t){e.vn=!0,e.error=t,e.bn&&e.bn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Sn&&m(),this.Sn=!0,this.vn?this.error?this.Dn(n,this.error):this.Cn(e,this.result):new t((function(t,i){r.pn=function(n){r.Cn(e,n).next(t,i)},r.bn=function(e){r.Dn(n,e).next(t,i)}}))},t.prototype.Nn=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.Fn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.Cn=function(e,n){return e?this.Fn((function(){return e(n)})):t.resolve(n)},t.prototype.Dn=function(e,n){return e?this.Fn((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.$n=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.xn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.$n(r)},t}(),vr=function(){function e(t,n,r){this.name=t,this.version=n,this.kn=r,12.2===e.Mn(a.getUA())&&v("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return d("SimpleDb","Removing database:",t),_r(window.indexedDB.deleteDatabase(t)).Nn()},e.On=function(){if("undefined"==typeof indexedDB)return!1;if(e.Ln())return!0;var t=a.getUA(),n=e.Mn(t),r=0<n&&n<10,i=e.Bn(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.Ln=function(){var e;return"undefined"!=typeof t&&"YES"===(null===(e=Object({NODE_ENV:"production",PUBLIC_URL:"/Transport",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}))||void 0===e?void 0:e.qn)},e.Un=function(t,e){return t.store(e)},e.Mn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.Bn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.Qn=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e=this;return r.__generator(this,(function(n){switch(n.label){case 0:return this.db?[3,2]:(d("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,n){var r=indexedDB.open(e.name,e.version);r.onsuccess=function(e){var n=e.target.result;t(n)},r.onblocked=function(){n(new gr("Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=function(t){var e=t.target.error;"VersionError"===e.name?n(new h(l.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):n(new gr(e))},r.onupgradeneeded=function(t){d("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',t.oldVersion);var n=t.target.result;e.kn.createOrUpgrade(n,r.transaction,t.oldVersion,e.version).next((function(){d("SimpleDb","Database upgrade to version "+e.version+" complete")}))}}))]);case 1:t.db=n.sent(),n.label=2;case 2:return[2,(this.Wn&&(this.db.onversionchange=function(t){return e.Wn(t)}),this.db)]}}))}))},e.prototype.jn=function(t){this.Wn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},e.prototype.runTransaction=function(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,a,s,u;return r.__generator(this,(function(c){switch(c.label){case 0:i="readonly"===t,o=0,a=function(){var t,a,u,c,l;return r.__generator(this,(function(r){switch(r.label){case 0:++o,r.label=1;case 1:return r.trys.push([1,4,,5]),[4,s.Qn()];case 2:return s.db=r.sent(),t=br.open(s.db,i?"readonly":"readwrite",e),a=n(t).catch((function(e){return t.abort(e),dr.reject(e)})).Nn(),u={},a.catch((function(){})),[4,t.Kn];case 3:return[2,(u.value=(r.sent(),a),u)];case 4:return c=r.sent(),l="FirebaseError"!==c.name&&o<3,d("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),s.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),yr=function(){function t(t){this.Gn=t,this.zn=!1,this.Hn=null}return Object.defineProperty(t.prototype,"vn",{get:function(){return this.zn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Yn",{get:function(){return this.Hn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Gn=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.zn=!0},t.prototype.Jn=function(t){this.Hn=t},t.prototype.delete=function(){return _r(this.Gn.delete())},t}(),gr=function(t){function e(e){var n=this;return(n=t.call(this,l.UNAVAILABLE,"IndexedDB transaction failed: "+e)||this).name="IndexedDbTransactionError",n}return r.__extends(e,t),e}(h);function mr(t){return"IndexedDbTransactionError"===t.name}var br=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this.Xn=new fr,this.transaction.oncomplete=function(){e.Xn.resolve()},this.transaction.onabort=function(){t.error?e.Xn.reject(new gr(t.error)):e.Xn.resolve()},this.transaction.onerror=function(t){var n=Ir(t.target.error);e.Xn.reject(new gr(n))}}return t.open=function(e,n,r){try{return new t(e.transaction(r,n))}catch(e){throw new gr(e)}},Object.defineProperty(t.prototype,"Kn",{get:function(){return this.Xn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.Xn.reject(t),this.aborted||(d("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new wr(e)},t}(),wr=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(d("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(d("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),_r(n)},t.prototype.add=function(t){return d("SimpleDb","ADD",this.store.name,t,t),_r(this.store.add(t))},t.prototype.get=function(t){var e=this;return _r(this.store.get(t)).next((function(n){return void 0===n&&(n=null),d("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return d("SimpleDb","DELETE",this.store.name,t),_r(this.store.delete(t))},t.prototype.count=function(){return d("SimpleDb","COUNT",this.store.name),_r(this.store.count())},t.prototype.Zn=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.ts(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.es=function(t,e){d("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.ns=!1;var r=this.cursor(n);return this.ts(r,(function(t,e,n){return n.delete()}))},t.prototype.ss=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.ts(r,e)},t.prototype.rs=function(t){var e=this.cursor({});return new dr((function(n,r){e.onerror=function(t){var e=Ir(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.ts=function(t,e){var n=[];return new dr((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new yr(i),a=e(i.primaryKey,i.value,o);if(a instanceof dr){var s=a.catch((function(t){return o.done(),dr.reject(t)}));n.push(s)}o.vn?r():null===o.Yn?i.continue():i.continue(o.Yn)}else r()}})).next((function(){return dr.$n(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.ns?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function _r(t){return new dr((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=Ir(t.target.error);n(e)}}))}var Er=!1;function Ir(t){var e=vr.Mn(a.getUA());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new h("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Er||(Er=!0,setTimeout((function(){throw r}),0)),r}}return t}function Tr(){return"undefined"!=typeof window?window:null}function Sr(){return"undefined"!=typeof document?document:null}var Cr=function(){function t(t,e,n,r,i){this.os=t,this.fn=e,this.cs=n,this.op=r,this.us=i,this.hs=new fr,this.then=this.hs.promise.then.bind(this.hs.promise),this.hs.promise.catch((function(t){}))}return t.ls=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this._s=setTimeout((function(){return e.fs()}),t)},t.prototype.Vn=function(){return this.fs()},t.prototype.cancel=function(t){null!==this._s&&(this.clearTimeout(),this.hs.reject(new h(l.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.fs=function(){var t=this;this.os.ds((function(){return null!==t._s?(t.clearTimeout(),t.op().then((function(e){return t.hs.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this._s&&(this.us(this),clearTimeout(this._s),this._s=null)},t}(),Ar=function(){function t(){var t=this;this.ws=Promise.resolve(),this.Ts=[],this.Es=!1,this.Is=[],this.As=null,this.Rs=!1,this.Ps=[],this.gs=new pr(this,"async_queue_retry"),this.ys=function(){var e=Sr();e&&d("AsyncQueue","Visibility state changed to  ",e.visibilityState),t.gs.yn()};var e=Sr();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.ys)}return Object.defineProperty(t.prototype,"Vs",{get:function(){return this.Es},enumerable:!1,configurable:!0}),t.prototype.ds=function(t){this.enqueue(t)},t.prototype.ps=function(t){this.bs(),this.vs(t)},t.prototype.Ss=function(){if(!this.Es){this.Es=!0;var t=Sr();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.ys)}},t.prototype.enqueue=function(t){return this.bs(),this.Es?new Promise((function(t){})):this.vs(t)},t.prototype.Ds=function(t){var e=this;this.Ts.push(t),this.ds((function(){return e.Cs()}))},t.prototype.Cs=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e=this;return r.__generator(this,(function(n){switch(n.label){case 0:if(0===this.Ts.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Ts[0]()];case 2:return n.sent(),this.Ts.shift(),this.gs.reset(),[3,4];case 3:if(!mr(t=n.sent()))throw t;return d("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Ts.length>0&&this.gs.Rn((function(){return e.Cs()})),n.label=5;case 5:return[2]}}))}))},t.prototype.vs=function(t){var e=this,n=this.ws.then((function(){return e.Rs=!0,t().catch((function(t){throw e.As=t,e.Rs=!1,v("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.Rs=!1,t}))}));return this.ws=n,n},t.prototype.gn=function(t,e,n){var r=this;this.bs(),this.Ps.indexOf(t)>-1&&(e=0);var i=Cr.ls(this,t,e,n,(function(t){return r.Ns(t)}));return this.Is.push(i),i},t.prototype.bs=function(){this.As&&m()},t.prototype.Fs=function(){},t.prototype.$s=function(){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(e){switch(e.label){case 0:return[4,t=this.ws];case 1:e.sent(),e.label=2;case 2:if(t!==this.ws)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.xs=function(t){for(var e=0,n=this.Is;e<n.length;e++)if(n[e].fn===t)return!0;return!1},t.prototype.ks=function(t){var e=this;return this.$s().then((function(){e.Is.sort((function(t,e){return t.cs-e.cs}));for(var n=0,r=e.Is;n<r.length;n++){var i=r[n];if(i.Vn(),"all"!==t&&i.fn===t)break}return e.$s()}))},t.prototype.Ms=function(t){this.Ps.push(t)},t.prototype.Ns=function(t){var e=this.Is.indexOf(t);this.Is.splice(e,1)},t}();function kr(t,e){if(v("AsyncQueue",e+": "+t),mr(t))return new h(l.UNAVAILABLE,e+": "+t);throw t}var Nr=function(){this.Os=void 0,this.listeners=[]},Or=function(){this.Ls=new at((function(t){return Hn(t)}),Wn),this.onlineState="Unknown",this.Bs=new Set};function xr(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,a,s,u,c;return r.__generator(this,(function(r){switch(r.label){case 0:if(n=w(t),i=e.query,o=!1,(a=n.Ls.get(i))||(o=!0,a=new Nr),!o)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),s=a,[4,n.qs(i)];case 2:return s.Os=r.sent(),[3,4];case 3:return u=r.sent(),c=kr(u,"Initialization of query '"+Kn(e.query)+"' failed"),[2,void e.onError(c)];case 4:return n.Ls.set(i,a),a.listeners.push(e),e.Us(n.onlineState),a.Os&&e.Qs(a.Os)&&Lr(n),[2]}}))}))}function Pr(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,a,s;return r.__generator(this,(function(r){return n=w(t),i=e.query,o=!1,(a=n.Ls.get(i))&&(s=a.listeners.indexOf(e))>=0&&(a.listeners.splice(s,1),o=0===a.listeners.length),o?[2,(n.Ls.delete(i),n.Ws(i))]:[2]}))}))}function Rr(t,e){for(var n=w(t),r=!1,i=0,o=e;i<o.length;i++){var a=o[i],s=a.query,u=n.Ls.get(s);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].Qs(a)&&(r=!0);u.Os=a}}r&&Lr(n)}function Dr(t,e,n){var r=w(t),i=r.Ls.get(e);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.Ls.delete(e)}function Lr(t){t.Bs.forEach((function(t){t.next()}))}var Mr=function(){function t(t,e,n){this.query=t,this.js=e,this.Ks=!1,this.Gs=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Qs=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Vt(t.query,t.docs,t.Ut,e,t.Qt,t.fromCache,t.Wt,!0)}var o=!1;return this.Ks?this.zs(t)&&(this.js.next(t),o=!0):this.Hs(t,this.onlineState)&&(this.Ys(t),o=!0),this.Gs=t,o},t.prototype.onError=function(t){this.js.error(t)},t.prototype.Us=function(t){this.onlineState=t;var e=!1;return this.Gs&&!this.Ks&&this.Hs(this.Gs,t)&&(this.Ys(this.Gs),e=!0),e},t.prototype.Hs=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.Js&&n||t.docs.m()&&"Offline"!==e)},t.prototype.zs=function(t){if(t.docChanges.length>0)return!0;var e=this.Gs&&this.Gs.hasPendingWrites!==t.hasPendingWrites;return!(!t.Wt&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.Ys=function(t){t=Vt.Kt(t.query,t.docs,t.Qt,t.fromCache),this.Ks=!0,this.js.next(t)},t}(),Fr=function(){function t(t){this.uid=t}return t.prototype.Xs=function(){return null!=this.uid},t.prototype.Zs=function(){return this.Xs()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();Fr.UNAUTHENTICATED=new Fr(null),Fr.ti=new Fr("google-credentials-uid"),Fr.ei=new Fr("first-party-uid");var Ur=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.ni=function(t){return n.si(t)},this.ii=function(t){return e.ri(t)})}return t.prototype.si=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.ii&&this.ii(t),t},t}();function jr(t,e){return"firestore_clients_"+t+"_"+e}function Vr(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.Xs()&&(r+="_"+e.uid),r}function qr(t,e){return"firestore_targets_"+t+"_"+e}Ur.oi=-1;var Br=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.ai=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),a=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(a=new h(i.error.code,i.error.message)),o?new t(e,n,i.state,a):(v("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ci=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),zr=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.ai=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new h(r.error.code,r.error.message)),i?new t(e,r.state,o):(v("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ci=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Gr=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.ai=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Ft(),a=0;i&&a<r.activeTargetIds.length;++a)i=ht(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(v("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Wr=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.ai=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(v("SharedClientState","Failed to parse online state: "+e),null)},t}(),Hr=function(){function t(){this.activeTargetIds=Ft()}return t.prototype.ui=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.hi=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ci=function(){var t={activeTargetIds:this.activeTargetIds.A(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Kr=function(){function t(t,e,n,r,i){this.window=t,this._n=e,this.persistenceKey=n,this.li=r,this._i=null,this.fi=null,this.ni=null,this.di=this.wi.bind(this),this.mi=new It(X),this.Ti=!1,this.Ei=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Ii=jr(this.persistenceKey,this.li),this.Ai=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.mi=this.mi.rt(this.li,new Hr),this.Ri=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Pi=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.gi=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.yi=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.di)}return t.On=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e,n,i,o,a,s,u,c,l,h,f=this;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,this._i.Vi()];case 1:for(t=r.sent(),e=0,n=t;e<n.length;e++)(i=n[e])!==this.li&&(o=this.getItem(jr(this.persistenceKey,i)))&&(a=Gr.ai(i,o))&&(this.mi=this.mi.rt(a.clientId,a));for(this.pi(),(s=this.storage.getItem(this.yi))&&(u=this.bi(s))&&this.vi(u),c=0,l=this.Ei;c<l.length;c++)h=l[c],this.wi(h);return this.Ei=[],this.window.addEventListener("unload",(function(){return f.Si()})),this.Ti=!0,[2]}}))}))},t.prototype.ri=function(t){this.setItem(this.Ai,JSON.stringify(t))},t.prototype.Di=function(){return this.Ci(this.mi)},t.prototype.Ni=function(t){var e=!1;return this.mi.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.Fi=function(t){this.$i(t,"pending")},t.prototype.xi=function(t,e,n){this.$i(t,e,n),this.ki(t)},t.prototype.Mi=function(t){var e="not-current";if(this.Ni(t)){var n=this.storage.getItem(qr(this.persistenceKey,t));if(n){var r=zr.ai(t,n);r&&(e=r.state)}}return this.Oi.ui(t),this.pi(),e},t.prototype.Li=function(t){this.Oi.hi(t),this.pi()},t.prototype.Bi=function(t){return this.Oi.activeTargetIds.has(t)},t.prototype.qi=function(t){this.removeItem(qr(this.persistenceKey,t))},t.prototype.Ui=function(t,e,n){this.Qi(t,e,n)},t.prototype.Wi=function(t,e,n){var r=this;e.forEach((function(t){r.ki(t)})),this.currentUser=t,n.forEach((function(t){r.Fi(t)}))},t.prototype.ji=function(t){this.Ki(t)},t.prototype.Si=function(){this.Ti&&(this.window.removeEventListener("storage",this.di),this.removeItem(this.Ii),this.Ti=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return d("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){d("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){d("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.wi=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(d("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ii)return void v("Received WebStorage notification for local change. Another client might have garbage-collected our state");this._n.Ds((function(){return r.__awaiter(e,void 0,void 0,(function(){var t,e,i,o,a,s;return r.__generator(this,(function(r){if(this.Ti){if(null!==n.key)if(this.Ri.test(n.key)){if(null==n.newValue)return t=this.Gi(n.key),[2,this.zi(t,null)];if(e=this.Hi(n.key,n.newValue))return[2,this.zi(e.clientId,e)]}else if(this.Pi.test(n.key)){if(null!==n.newValue&&(i=this.Yi(n.key,n.newValue)))return[2,this.Ji(i)]}else if(this.gi.test(n.key)){if(null!==n.newValue&&(o=this.Xi(n.key,n.newValue)))return[2,this.Zi(o)]}else if(n.key===this.yi){if(null!==n.newValue&&(a=this.bi(n.newValue)))return[2,this.vi(a)]}else n.key===this.Ai&&(s=function(t){var e=Ur.oi;if(null!=t)try{var n=JSON.parse(t);b("number"==typeof n),e=n}catch(t){v("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Ur.oi&&this.ni(s)}else this.Ei.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Oi",{get:function(){return this.mi.get(this.li)},enumerable:!1,configurable:!0}),t.prototype.pi=function(){this.setItem(this.Ii,this.Oi.ci())},t.prototype.$i=function(t,e,n){var r=new Br(this.currentUser,t,e,n),i=Vr(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ci())},t.prototype.ki=function(t){var e=Vr(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Ki=function(t){var e={clientId:this.li,onlineState:t};this.storage.setItem(this.yi,JSON.stringify(e))},t.prototype.Qi=function(t,e,n){var r=qr(this.persistenceKey,t),i=new zr(t,e,n);this.setItem(r,i.ci())},t.prototype.Gi=function(t){var e=this.Ri.exec(t);return e?e[1]:null},t.prototype.Hi=function(t,e){var n=this.Gi(t);return Gr.ai(n,e)},t.prototype.Yi=function(t,e){var n=this.Pi.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Br.ai(new Fr(i),r,e)},t.prototype.Xi=function(t,e){var n=this.gi.exec(t),r=Number(n[1]);return zr.ai(r,e)},t.prototype.bi=function(t){return Wr.ai(t)},t.prototype.Ji=function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this._i.tr(t.batchId,t.state,t.error)]:(d("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.Zi=function(t){return this._i.er(t.targetId,t.state,t.error)},t.prototype.zi=function(t,e){var n=this,r=e?this.mi.rt(t,e):this.mi.remove(t),i=this.Ci(this.mi),o=this.Ci(r),a=[],s=[];return o.forEach((function(t){i.has(t)||a.push(t)})),i.forEach((function(t){o.has(t)||s.push(t)})),this._i.nr(a,s).then((function(){n.mi=r}))},t.prototype.vi=function(t){this.mi.get(t.clientId)&&this.fi(t.onlineState)},t.prototype.Ci=function(t){var e=Ft();return t.forEach((function(t,n){e=e.xt(n.activeTargetIds)})),e},t}(),Qr=function(){function t(){this.sr=new Hr,this.ir={},this.fi=null,this.ni=null}return t.prototype.Fi=function(t){},t.prototype.xi=function(t,e,n){},t.prototype.Mi=function(t){return this.sr.ui(t),this.ir[t]||"not-current"},t.prototype.Ui=function(t,e,n){this.ir[t]=e},t.prototype.Li=function(t){this.sr.hi(t)},t.prototype.Bi=function(t){return this.sr.activeTargetIds.has(t)},t.prototype.qi=function(t){delete this.ir[t]},t.prototype.Di=function(){return this.sr.activeTargetIds},t.prototype.Ni=function(t){return this.sr.activeTargetIds.has(t)},t.prototype.start=function(){return this.sr=new Hr,Promise.resolve()},t.prototype.Wi=function(t,e,n){},t.prototype.ji=function(t){},t.prototype.Si=function(){},t.prototype.ri=function(t){},t}(),Yr=function(){function t(t,e,n,r){this.batchId=t,this.rr=e,this.baseMutations=n,this.mutations=r}return t.prototype.ar=function(t,e,n){for(var r=n.cr,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=fn(o,e,r[i]))}return e},t.prototype.ur=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=pn(i,e,e,this.rr))}for(var o=e,a=0,s=this.mutations;a<s.length;a++){var u=s[a];u.key.isEqual(t)&&(e=pn(u,e,o,this.rr))}return e},t.prototype.hr=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.ur(r.key,t.get(r.key));i&&(n=n.rt(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Lt())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&$(this.mutations,t.mutations,(function(t,e){return vn(t,e)}))&&$(this.baseMutations,t.baseMutations,(function(t,e){return vn(t,e)}))},t}(),Xr=function(){function t(t,e,n,r){this.batch=t,this.lr=e,this.cr=n,this._r=r}return t.from=function(e,n,r){b(e.mutations.length===r.length);for(var i=Rt,o=e.mutations,a=0;a<o.length;a++)i=i.rt(o[a].key,r[a].version);return new t(e,n,r,i)},t}(),$r=function(){function t(){this.dr=new at((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.wr=!1}return Object.defineProperty(t.prototype,"readTime",{get:function(){return this.mr},set:function(t){this.mr=t},enumerable:!1,configurable:!0}),t.prototype.Tr=function(t,e){this.Er(),this.readTime=e,this.dr.set(t.key,t)},t.prototype.Ir=function(t,e){this.Er(),e&&(this.readTime=e),this.dr.set(t,null)},t.prototype.Ar=function(t,e){this.Er();var n=this.dr.get(e);return void 0!==n?dr.resolve(n):this.Rr(t,e)},t.prototype.getEntries=function(t,e){return this.Pr(t,e)},t.prototype.apply=function(t){return this.Er(),this.wr=!0,this.gr(t)},t.prototype.Er=function(){},t}(),Jr="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Zr=function(){function t(){this.yr=[]}return t.prototype.Vr=function(t){this.yr.push(t)},t.prototype.pr=function(){this.yr.forEach((function(t){return t()}))},t}(),ti=function(){function t(t,e,n){this.br=t,this.vr=e,this.Sr=n}return t.prototype.Dr=function(t,e){var n=this;return this.vr.Cr(t,e).next((function(r){return n.Nr(t,e,r)}))},t.prototype.Nr=function(t,e,n){return this.br.Ar(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].ur(e,t);return t}))},t.prototype.Fr=function(t,e,n){var r=Ot();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].ur(t,e);r=r.rt(t,e)})),r},t.prototype.$r=function(t,e){var n=this;return this.br.getEntries(t,e).next((function(e){return n.kr(t,e)}))},t.prototype.kr=function(t,e){var n=this;return this.vr.Mr(t,e).next((function(r){var i=n.Fr(t,e,r),o=Nt();return i.forEach((function(t,e){e||(e=new On(t,ut.min())),o=o.rt(t,e)})),o}))},t.prototype.Or=function(t,e,n){return function(t){return k.F(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Lr(t,e.path):jn(e)?this.Br(t,e,n):this.qr(t,e,n)},t.prototype.Lr=function(t,e){return this.Dr(t,new k(e)).next((function(t){var e=Pt();return t instanceof Nn&&(e=e.rt(t.key,t)),e}))},t.prototype.Br=function(t,e,n){var r=this,i=e.collectionGroup,o=Pt();return this.Sr.Ur(t,i).next((function(a){return dr.forEach(a,(function(a){var s=function(t,e){return new Pn(e,null,t.rn.slice(),t.filters.slice(),t.limit,t.on,t.startAt,t.endAt)}(e,a.child(i));return r.qr(t,s,n).next((function(t){t.forEach((function(t,e){o=o.rt(t,e)}))}))})).next((function(){return o}))}))},t.prototype.qr=function(t,e,n){var r,i,o=this;return this.br.Or(t,e,n).next((function(n){return r=n,o.vr.Qr(t,e)})).next((function(e){return i=e,o.Wr(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c),h=pn(u,l,l,o.rr);r=h instanceof Nn?r.rt(c,h):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){Qn(e,n)||(r=r.remove(t))})),r}))},t.prototype.Wr=function(t,e,n){for(var r=Lt(),i=0,o=e;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof mn&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.br.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof Nn&&(c=c.rt(t,e))})),c}))},t}(),ei=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.jr=n,this.Kr=r}return t.Gr=function(e,n){for(var r=Lt(),i=Lt(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new t(e,n.fromCache,r,i)},t}();function ni(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=X(n,i);return 0===a?X(r,o):a}var ri=function(){function t(t){this.zr=t,this.buffer=new Ct(ni),this.Hr=0}return t.prototype.Yr=function(){return++this.Hr},t.prototype.Jr=function(t){var e=[t,this.Yr()];if(this.buffer.size<this.zr)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();ni(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),ii={Xr:!1,Zr:0,eo:0,no:0},oi=function(){function t(t,e,n){this.so=t,this.io=e,this.ro=n}return t.oo=function(e){return new t(e,t.ao,t.co)},t}();oi.uo=-1,oi.ho=1048576,oi.lo=41943040,oi.ao=10,oi.co=1e3,oi._o=new oi(oi.lo,oi.ao,oi.co),oi.fo=new oi(oi.uo,0,0);var ai=function(){function t(t,e){this.do=t,this.os=e,this.wo=!1,this.mo=null}return t.prototype.start=function(t){this.do.params.so!==oi.uo&&this.To(t)},t.prototype.stop=function(){this.mo&&(this.mo.cancel(),this.mo=null)},Object.defineProperty(t.prototype,"Ti",{get:function(){return null!==this.mo},enumerable:!1,configurable:!0}),t.prototype.To=function(t){var e=this,n=this.wo?3e5:6e4;d("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.mo=this.os.gn("lru_garbage_collection",n,(function(){return r.__awaiter(e,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:this.mo=null,this.wo=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Eo(this.do)];case 2:return n.sent(),[3,7];case 3:return mr(e=n.sent())?(d("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Io(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.To(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),si=function(){function t(t,e){this.Io=t,this.params=e}return t.prototype.Ao=function(t,e){return this.Io.Ro(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.Po=function(t,e){var n=this;if(0===e)return dr.resolve(Ur.oi);var r=new ri(e);return this.Io.De(t,(function(t){return r.Jr(t.sequenceNumber)})).next((function(){return n.Io.yo(t,(function(t){return r.Jr(t)}))})).next((function(){return r.maxValue}))},t.prototype.Vo=function(t,e,n){return this.Io.Vo(t,e,n)},t.prototype.po=function(t,e){return this.Io.po(t,e)},t.prototype.bo=function(t,e){var n=this;return this.params.so===oi.uo?(d("LruGarbageCollector","Garbage collection skipped; disabled"),dr.resolve(ii)):this.vo(t).next((function(r){return r<n.params.so?(d("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.so),ii):n.So(t,e)}))},t.prototype.vo=function(t){return this.Io.vo(t)},t.prototype.So=function(t,e){var n,r,i,a,s,u,c,l=this,h=Date.now();return this.Ao(t,this.params.io).next((function(e){return e>l.params.ro?(d("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.ro+" from "+e),r=l.params.ro):r=e,a=Date.now(),l.Po(t,r)})).next((function(r){return n=r,s=Date.now(),l.Vo(t,n,e)})).next((function(e){return i=e,u=Date.now(),l.po(t,n)})).next((function(t){return c=Date.now(),p()<=o.LogLevel.DEBUG&&d("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(a-h)+"ms\n\tDetermined least recently used "+r+" in "+(s-a)+"ms\n\tRemoved "+i+" targets in "+(u-s)+"ms\n\tRemoved "+t+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-h)+"ms"),dr.resolve({Xr:!0,Zr:r,eo:i,no:t})}))},t}();function ui(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=li(e)),e=ci(t.get(n),e);return li(e)}function ci(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function li(t){return t+"\x01\x01"}function hi(t){var e=t.length;if(b(e>=2),2===e)return b("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),S.g();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("\x01",o);switch((a<0||a>n)&&m(),t.charAt(a+1)){case"\x01":var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=t.substring(o,a),i+="\0";break;case"\x11":i+=t.substring(o,a+1);break;default:m()}o=a+2}return new S(r)}var fi=function(t){this.Do=t};function pi(t,e){if(e.document)return function(t,e,n){var r=Ae(t,e.name),i=Ie(e.updateTime),o=new Sn({mapValue:{fields:e.fields}});return new Nn(r,i,o,{hasCommittedMutations:!!n})}(t.Do,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=k.$(e.noDocument.path),r=mi(e.noDocument.readTime);return new On(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=k.$(e.unknownDocument.path),o=mi(e.unknownDocument.version);return new xn(i,o)}return m()}function di(t,e,n){var r=vi(n),i=e.key.path.h().A();if(e instanceof Nn){var o=function(t,e){return{name:Ce(t,e.key),fields:e.sn().mapValue.fields,updateTime:we(t,e.version.X())}}(t.Do,e),a=e.hasCommittedMutations;return new zi(null,null,o,a,r,i)}if(e instanceof On){var s=e.key.path.A(),u=gi(e.version),c=e.hasCommittedMutations;return new zi(null,new qi(s,u),null,c,r,i)}if(e instanceof xn){var l=e.key.path.A(),h=gi(e.version);return new zi(new Bi(l,h),null,null,!0,r,i)}return m()}function vi(t){var e=t.X();return[e.seconds,e.nanoseconds]}function yi(t){var e=new st(t[0],t[1]);return ut.Y(e)}function gi(t){var e=t.X();return new Mi(e.seconds,e.nanoseconds)}function mi(t){var e=new st(t.seconds,t.nanoseconds);return ut.Y(e)}function bi(t,e){var n=(e.baseMutations||[]).map((function(e){return De(t.Do,e)})),r=e.mutations.map((function(e){return De(t.Do,e)})),i=st.fromMillis(e.localWriteTimeMs);return new Yr(e.batchId,i,n,r)}function wi(t){var e,n,r=mi(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?mi(t.lastLimboFreeSnapshotVersion):ut.min();return void 0!==t.query.documents?(b(1===(n=t.query).documents.length),e=qn(Dn(Ne(n.documents[0])))):e=function(t){var e=Ne(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){b(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=function t(e){return e?void 0!==e.unaryFilter?[Ge(e)]:void 0!==e.fieldFilter?[ze(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):m():[]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(t){return function(t){return new cr(Be(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return ct(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Ue(n.startAt));var l=null;return n.endAt&&(l=Ue(n.endAt)),qn(Rn(e,i,s,a,u,"F",c,l))}(t.query),new bt(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Z.fromBase64String(t.resumeToken))}function _i(t,e){var n,r=gi(e.et),i=gi(e.lastLimboFreeSnapshotVersion);n=yt(e.target)?Le(t.Do,e.target):Me(t.Do,e.target);var o=e.resumeToken.toBase64();return new Wi(e.targetId,dt(e.target),r,o,e.sequenceNumber,i,n)}var Ei=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.Sr=n,this.Co=r,this.No={}}return t.Fo=function(e,n,r,i){return b(""!==e.uid),new t(e.Xs()?e.uid:"",n,r,i)},t.prototype.$o=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Si(t).ss({index:ji.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.xo=function(t,e,n,r){var i=this,o=Ci(t),a=Si(t);return a.add({}).next((function(s){b("number"==typeof s);for(var u=new Yr(s,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return Re(t.Do,e)})),i=n.mutations.map((function(e){return Re(t.Do,e)}));return new ji(e,n.batchId,n.rr.toMillis(),r,i)}(i.serializer,i.userId,u),l=[],h=new Ct((function(t,e){return X(t.R(),e.R())})),f=0,p=r;f<p.length;f++){var d=p[f],v=Vi.key(i.userId,d.key.path,s);h=h.add(d.key.path.h()),l.push(a.put(c)),l.push(o.put(v,Vi.PLACEHOLDER))}return h.forEach((function(e){l.push(i.Sr.ko(t,e))})),t.Vr((function(){i.No[s]=u.keys()})),dr.$n(l).next((function(){return u}))}))},t.prototype.Mo=function(t,e){var n=this;return Si(t).get(e).next((function(t){return t?(b(t.userId===n.userId),bi(n.serializer,t)):null}))},t.prototype.Oo=function(t,e){var n=this;return this.No[e]?dr.resolve(this.No[e]):this.Mo(t,e).next((function(t){if(t){var r=t.keys();return n.No[e]=r,r}return null}))},t.prototype.Lo=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Si(t).ss({index:ji.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(b(e.batchId>=r),o=bi(n.serializer,e)),i.done()})).next((function(){return o}))},t.prototype.Bo=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Si(t).ss({index:ji.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.qo=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Si(t).Zn(ji.userMutationsIndex,n).next((function(t){return t.map((function(t){return bi(e.serializer,t)}))}))},t.prototype.Cr=function(t,e){var n=this,r=Vi.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Ci(t).ss({range:i},(function(r,i,a){var s=r[0],u=r[1],c=r[2],l=hi(u);if(s===n.userId&&e.path.isEqual(l))return Si(t).get(c).next((function(t){if(!t)throw m();b(t.userId===n.userId),o.push(bi(n.serializer,t))}));a.done()})).next((function(){return o}))},t.prototype.Mr=function(t,e){var n=this,r=new Ct(X),i=[];return e.forEach((function(e){var o=Vi.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=Ci(t).ss({range:a},(function(t,i,o){var a=t[0],s=t[1],u=t[2],c=hi(s);a===n.userId&&e.path.isEqual(c)?r=r.add(u):o.done()}));i.push(s)})),dr.$n(i).next((function(){return n.Uo(t,r)}))},t.prototype.Qr=function(t,e){var n=this,r=e.path,i=r.length+1,o=Vi.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new Ct(X);return Ci(t).ss({range:a},(function(t,e,o){var a=t[0],u=t[1],c=t[2],l=hi(u);a===n.userId&&r.T(l)?l.length===i&&(s=s.add(c)):o.done()})).next((function(){return n.Uo(t,s)}))},t.prototype.Uo=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(Si(t).get(e).next((function(t){if(null===t)throw m();b(t.userId===n.userId),r.push(bi(n.serializer,t))})))})),dr.$n(i).next((function(){return r}))},t.prototype.Qo=function(t,e){var n=this;return Ti(t.Wo,this.userId,e).next((function(r){return t.Vr((function(){n.jo(e.batchId)})),dr.forEach(r,(function(e){return n.Co.Ko(t,e)}))}))},t.prototype.jo=function(t){delete this.No[t]},t.prototype.Go=function(t){var e=this;return this.$o(t).next((function(n){if(!n)return dr.resolve();var r=IDBKeyRange.lowerBound(Vi.prefixForUser(e.userId)),i=[];return Ci(t).ss({range:r},(function(t,n,r){if(t[0]===e.userId){var o=hi(t[1]);i.push(o)}else r.done()})).next((function(){b(0===i.length)}))}))},t.prototype.zo=function(t,e){return Ii(t,this.userId,e)},t.prototype.Ho=function(t){var e=this;return Ai(t).get(this.userId).next((function(t){return t||new Ui(e.userId,-1,"")}))},t}();function Ii(t,e,n){var r=Vi.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Ci(t).ss({range:o,ns:!0},(function(t,n,r){var o=t[0],s=t[1];t[2],o===e&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function Ti(t,e,n){var r=t.store(ji.store),i=t.store(Vi.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.ss({range:a},(function(t,e,n){return s++,n.delete()}));o.push(u.next((function(){b(1===s)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],p=Vi.key(e,f.key.path,n.batchId);o.push(i.delete(p)),c.push(f.key)}return dr.$n(o).next((function(){return c}))}function Si(t){return so.Un(t,ji.store)}function Ci(t){return so.Un(t,Vi.store)}function Ai(t){return so.Un(t,Ui.store)}var ki=function(){function t(t,e){this.serializer=t,this.Sr=e}return t.prototype.Tr=function(t,e,n){return Oi(t).put(xi(e),n)},t.prototype.Ir=function(t,e){var n=Oi(t),r=xi(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.Yo(t,r)}))},t.prototype.Ar=function(t,e){var n=this;return Oi(t).get(xi(e)).next((function(t){return n.Jo(t)}))},t.prototype.Xo=function(t,e){var n=this;return Oi(t).get(xi(e)).next((function(t){var e=n.Jo(t);return e?{Zo:e,size:Pi(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=Ot();return this.ta(t,e,(function(t,e){var i=n.Jo(e);r=r.rt(t,i)})).next((function(){return r}))},t.prototype.ea=function(t,e){var n=this,r=Ot(),i=new It(k.i);return this.ta(t,e,(function(t,e){var o=n.Jo(e);o?(r=r.rt(t,o),i=i.rt(t,Pi(e))):(r=r.rt(t,null),i=i.rt(t,0))})).next((function(){return{na:r,sa:i}}))},t.prototype.ta=function(t,e,n){if(e.m())return dr.resolve();var r=IDBKeyRange.bound(e.first().path.A(),e.last().path.A()),i=e.lt(),o=i.Et();return Oi(t).ss({range:r},(function(t,e,r){for(var a=k.$(t);o&&k.i(o,a)<0;)n(o,null),o=i.Et();o&&o.isEqual(a)&&(n(o,e),o=i.It()?i.Et():null),o?r.Jn(o.path.A()):r.done()})).next((function(){for(;o;)n(o,null),o=i.It()?i.Et():null}))},t.prototype.Or=function(t,e,n){var r=this,i=Pt(),o=e.path.length+1,a={};if(n.isEqual(ut.min())){var s=e.path.A();a.range=IDBKeyRange.lowerBound(s)}else{var u=e.path.A(),c=vi(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=zi.collectionReadTimeIndex}return Oi(t).ss(a,(function(t,n,a){if(t.length===o){var s=pi(r.serializer,n);e.path.T(s.key.path)?s instanceof Nn&&Qn(e,s)&&(i=i.rt(s.key,s)):a.done()}})).next((function(){return i}))},t.prototype.ia=function(t,e){var n=this,r=Nt(),i=vi(e),o=Oi(t),a=IDBKeyRange.lowerBound(i,!0);return o.ss({index:zi.readTimeIndex,range:a},(function(t,e){var o=pi(n.serializer,e);r=r.rt(o.key,o),i=e.readTime})).next((function(){return{ra:r,readTime:yi(i)}}))},t.prototype.oa=function(t){var e=Oi(t),n=ut.min();return e.ss({index:zi.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=yi(e.readTime)),r.done()})).next((function(){return n}))},t.prototype.aa=function(e){return new t.ca(this,!!e&&e.ua)},t.prototype.ha=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Ni(t).get(Gi.key).next((function(t){return b(!!t),t}))},t.prototype.Yo=function(t,e){return Ni(t).put(Gi.key,e)},t.prototype.Jo=function(t){if(t){var e=pi(this.serializer,t);return e instanceof On&&e.version.isEqual(ut.min())?null:e}return null},t}();function Ni(t){return so.Un(t,Gi.store)}function Oi(t){return so.Un(t,zi.store)}function xi(t){return t.path.A()}function Pi(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw m();e=t.noDocument}return JSON.stringify(e).length}ki.ca=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).la=e,r.ua=n,r._a=new at((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return r.__extends(e,t),e.prototype.gr=function(t){var e=this,n=[],r=0,i=new Ct((function(t,e){return X(t.R(),e.R())}));return this.dr.forEach((function(o,a){var s=e._a.get(o);if(a){var u=di(e.la.serializer,a,e.readTime);i=i.add(o.path.h());var c=Pi(u);r+=c-s,n.push(e.la.Tr(t,o,u))}else if(r-=s,e.ua){var l=di(e.la.serializer,new On(o,ut.min()),e.readTime);n.push(e.la.Tr(t,o,l))}else n.push(e.la.Ir(t,o))})),i.forEach((function(r){n.push(e.la.Sr.ko(t,r))})),n.push(this.la.updateMetadata(t,r)),dr.$n(n)},e.prototype.Rr=function(t,e){var n=this;return this.la.Xo(t,e).next((function(t){return null===t?(n._a.set(e,0),null):(n._a.set(e,t.size),t.Zo)}))},e.prototype.Pr=function(t,e){var n=this;return this.la.ea(t,e).next((function(t){var e=t.na;return t.sa.forEach((function(t,e){n._a.set(t,e)})),e}))},e}($r);var Ri=function(){function t(){this.fa=new Di}return t.prototype.ko=function(t,e){return this.fa.add(e),dr.resolve()},t.prototype.Ur=function(t,e){return dr.resolve(this.fa.getEntries(e))},t}(),Di=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t._(),n=t.h(),r=this.index[e]||new Ct(S.i),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t._(),n=t.h(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Ct(S.i)).A()},t}(),Li=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;b(n<r&&n>=0&&r<=10);var o=new br(e);n<1&&r>=1&&(function(t){t.createObjectStore(Fi.store)}(t),function(t){t.createObjectStore(Ui.store,{keyPath:Ui.keyPath}),t.createObjectStore(ji.store,{keyPath:ji.keyPath,autoIncrement:!0}).createIndex(ji.userMutationsIndex,ji.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Vi.store)}(t),Yi(t),function(t){t.createObjectStore(zi.store)}(t));var a=dr.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Hi.store),t.deleteObjectStore(Wi.store),t.deleteObjectStore(Ki.store)}(t),Yi(t)),a=a.next((function(){return function(t){var e=t.store(Ki.store),n=new Ki(0,0,ut.min().X(),0);return e.put(Ki.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(t,e){return e.store(ji.store).Zn().next((function(n){t.deleteObjectStore(ji.store),t.createObjectStore(ji.store,{keyPath:ji.keyPath,autoIncrement:!0}).createIndex(ji.userMutationsIndex,ji.userMutationsKeyPath,{unique:!0});var r=e.store(ji.store),i=n.map((function(t){return r.put(t)}));return dr.$n(i)}))}(t,o)}))),a=a.next((function(){!function(t){t.createObjectStore(Xi.store,{keyPath:Xi.keyPath})}(t)}))),n<5&&r>=5&&(a=a.next((function(){return i.removeAcknowledgedMutations(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(t){t.createObjectStore(Gi.store)}(t),i.addDocumentGlobal(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ensureSequenceNumbers(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.createCollectionParentIndex(t,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(zi.store);e.createIndex(zi.readTimeIndex,zi.readTimeIndexPath,{unique:!1}),e.createIndex(zi.collectionReadTimeIndex,zi.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(a=a.next((function(){return i.rewriteCanonicalIds(o)}))),a},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(zi.store).ss((function(t,n){e+=Pi(n)})).next((function(){var n=new Gi(e);return t.store(Gi.store).put(Gi.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(Ui.store),r=t.store(ji.store);return n.Zn().next((function(n){return dr.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Zn(ji.userMutationsIndex,i).next((function(r){return dr.forEach(r,(function(r){b(r.userId===n.userId);var i=bi(e.serializer,r);return Ti(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(Hi.store),n=t.store(zi.store);return t.store(Ki.store).get(Ki.key).next((function(t){var r=[];return n.ss((function(n,i){var o=new S(n),a=function(t){return[0,ui(t)]}(o);r.push(e.get(a).next((function(n){return n?dr.resolve():function(n){return e.put(new Hi(0,ui(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return dr.$n(r)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(Qi.store,{keyPath:Qi.keyPath});var n=e.store(Qi.store),r=new Di,i=function(t){if(r.add(t)){var e=t._(),i=t.h();return n.put({collectionId:e,parent:ui(i)})}};return e.store(zi.store).ss({ns:!0},(function(t,e){var n=new S(t);return i(n.h())})).next((function(){return e.store(Vi.store).ss({ns:!0},(function(t,e){t[0];var n=t[1],r=(t[2],hi(n));return i(r.h())}))}))},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(Wi.store);return n.ss((function(t,r){var i=wi(r),o=_i(e.serializer,i);return n.put(o)}))},t}(),Mi=function(t,e){this.seconds=t,this.nanoseconds=e},Fi=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Fi.store="owner",Fi.key="owner";var Ui=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Ui.store="mutationQueues",Ui.keyPath="userId";var ji=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};ji.store="mutations",ji.keyPath="batchId",ji.userMutationsIndex="userMutationsIndex",ji.userMutationsKeyPath=["userId","batchId"];var Vi=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,ui(e)]},t.key=function(t,e,n){return[t,ui(e),n]},t}();Vi.store="documentMutations",Vi.PLACEHOLDER=new Vi;var qi=function(t,e){this.path=t,this.readTime=e},Bi=function(t,e){this.path=t,this.version=e},zi=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};zi.store="remoteDocuments",zi.readTimeIndex="readTimeIndex",zi.readTimeIndexPath="readTime",zi.collectionReadTimeIndex="collectionReadTimeIndex",zi.collectionReadTimeIndexPath=["parentPath","readTime"];var Gi=function(t){this.byteSize=t};Gi.store="remoteDocumentGlobal",Gi.key="remoteDocumentGlobalKey";var Wi=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};Wi.store="targets",Wi.keyPath="targetId",Wi.queryTargetsIndexName="queryTargetsIndex",Wi.queryTargetsKeyPath=["canonicalId","targetId"];var Hi=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Hi.store="targetDocuments",Hi.keyPath=["targetId","path"],Hi.documentTargetsIndex="documentTargetsIndex",Hi.documentTargetsKeyPath=["path","targetId"];var Ki=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Ki.key="targetGlobalKey",Ki.store="targetGlobal";var Qi=function(t,e){this.collectionId=t,this.parent=e};function Yi(t){t.createObjectStore(Hi.store,{keyPath:Hi.keyPath}).createIndex(Hi.documentTargetsIndex,Hi.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Wi.store,{keyPath:Wi.keyPath}).createIndex(Wi.queryTargetsIndexName,Wi.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Ki.store)}Qi.store="collectionParents",Qi.keyPath=["collectionId","parent"];var Xi=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Xi.store="clientMetadata",Xi.keyPath="clientId";var $i=r.__spreadArrays(r.__spreadArrays(r.__spreadArrays([Ui.store,ji.store,Vi.store,zi.store,Wi.store,Fi.store,Ki.store,Hi.store],[Xi.store]),[Gi.store]),[Qi.store]),Ji=function(){function t(){this.da=new Di}return t.prototype.ko=function(t,e){var n=this;if(!this.da.has(e)){var r=e._(),i=e.h();t.Vr((function(){n.da.add(e)}));var o={collectionId:r,parent:ui(i)};return Zi(t).put(o)}return dr.resolve()},t.prototype.Ur=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[J(e),""],!1,!0);return Zi(t).Zn(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(hi(o.parent))}return n}))},t}();function Zi(t){return so.Un(t,Qi.store)}var to=function(){function t(t){this.wa=t}return t.prototype.next=function(){return this.wa+=2,this.wa},t.ma=function(){return new t(0)},t.Ta=function(){return new t(-1)},t}(),eo=function(){function t(t,e){this.Co=t,this.serializer=e}return t.prototype.Ea=function(t){var e=this;return this.Ia(t).next((function(n){var r=new to(n.highestTargetId);return n.highestTargetId=r.next(),e.Aa(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.Ra=function(t){return this.Ia(t).next((function(t){return ut.Y(new st(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.Pa=function(t){return this.Ia(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.ga=function(t,e,n){var r=this;return this.Ia(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.X()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Aa(t,i)}))},t.prototype.ya=function(t,e){var n=this;return this.Va(t,e).next((function(){return n.Ia(t).next((function(r){return r.targetCount+=1,n.pa(e,r),n.Aa(t,r)}))}))},t.prototype.ba=function(t,e){return this.Va(t,e)},t.prototype.va=function(t,e){var n=this;return this.Sa(t,e.targetId).next((function(){return no(t).delete(e.targetId)})).next((function(){return n.Ia(t)})).next((function(e){return b(e.targetCount>0),e.targetCount-=1,n.Aa(t,e)}))},t.prototype.Vo=function(t,e,n){var r=this,i=0,o=[];return no(t).ss((function(a,s){var u=wi(s);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.va(t,u)))})).next((function(){return dr.$n(o)})).next((function(){return i}))},t.prototype.De=function(t,e){return no(t).ss((function(t,n){var r=wi(n);e(r)}))},t.prototype.Ia=function(t){return ro(t).get(Ki.key).next((function(t){return b(null!==t),t}))},t.prototype.Aa=function(t,e){return ro(t).put(Ki.key,e)},t.prototype.Va=function(t,e){return no(t).put(_i(this.serializer,e))},t.prototype.pa=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.Da=function(t){return this.Ia(t).next((function(t){return t.targetCount}))},t.prototype.Ca=function(t,e){var n=dt(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return no(t).ss({range:r,index:Wi.queryTargetsIndexName},(function(t,n,r){var o=wi(n);vt(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.Na=function(t,e,n){var r=this,i=[],o=io(t);return e.forEach((function(e){var a=ui(e.path);i.push(o.put(new Hi(n,a))),i.push(r.Co.Fa(t,n,e))})),dr.$n(i)},t.prototype.$a=function(t,e,n){var r=this,i=io(t);return dr.forEach(e,(function(e){var o=ui(e.path);return dr.$n([i.delete([n,o]),r.Co.xa(t,n,e)])}))},t.prototype.Sa=function(t,e){var n=io(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.ka=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=io(t),i=Lt();return r.ss({range:n,ns:!0},(function(t,e,n){var r=hi(t[1]),o=new k(r);i=i.add(o)})).next((function(){return i}))},t.prototype.zo=function(t,e){var n=ui(e.path),r=IDBKeyRange.bound([n],[J(n)],!1,!0),i=0;return io(t).ss({index:Hi.documentTargetsIndex,ns:!0,range:r},(function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.qe=function(t,e){return no(t).get(e).next((function(t){return t?wi(t):null}))},t}();function no(t){return so.Un(t,Wi.store)}function ro(t){return so.Un(t,Ki.store)}function io(t){return so.Un(t,Hi.store)}var oo="Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",ao=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Wo=e,r.Ma=n,r}return r.__extends(e,t),e}(Zr),so=function(){function t(e,n,r,i,o,a,s,u,c,f){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this._n=o,this.window=a,this.document=s,this.Oa=c,this.La=f,this.Ba=null,this.qa=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ua=null,this.inForeground=!1,this.Qa=null,this.Wa=null,this.ja=Number.NEGATIVE_INFINITY,this.Ka=function(t){return Promise.resolve()},!t.On())throw new h(l.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Co=new lo(this,i),this.Ga=n+"main",this.serializer=new fi(u),this.za=new vr(this.Ga,10,new Li(this.serializer)),this.Ha=new eo(this.Co,this.serializer),this.Sr=new Ji,this.br=new ki(this.serializer,this.Sr),this.window&&this.window.localStorage?this.Ya=this.window.localStorage:(this.Ya=null,!1===f&&v("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.Un=function(t,e){if(t instanceof ao)return vr.Un(t.Wo,e);throw m()},t.prototype.start=function(){var t=this;return this.Ja().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new h(l.FAILED_PRECONDITION,oo);return t.Xa(),t.Za(),t.tc(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.Ha.Pa(e)}))})).then((function(e){t.Ba=new Ur(e,t.Oa)})).then((function(){t.qa=!0})).catch((function(e){return t.za&&t.za.close(),Promise.reject(e)}))},t.prototype.ec=function(t){var e=this;return this.Ka=function(n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.Ti?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.nc=function(t){var e=this;this.za.jn((function(n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.sc=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this._n.ds((function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.Ti?[4,this.Ja()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.Ja=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return co(e).put(new Xi(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.ic(e).next((function(e){e||(t.isPrimary=!1,t._n.Ds((function(){return t.Ka(!1)})))}))})).next((function(){return t.rc(e)})).next((function(n){return t.isPrimary&&!n?t.oc(e).next((function(){return!1})):!!n&&t.ac(e).next((function(){return!0}))}))})).catch((function(e){if(mr(e))return d("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return d("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t._n.Ds((function(){return t.Ka(e)})),t.isPrimary=e}))},t.prototype.ic=function(t){var e=this;return uo(t).get(Fi.key).next((function(t){return dr.resolve(e.cc(t))}))},t.prototype.uc=function(t){return co(t).delete(this.clientId)},t.prototype.hc=function(){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,o,a=this;return r.__generator(this,(function(r){switch(r.label){case 0:return!this.isPrimary||this.lc(this.ja,18e5)?[3,2]:(this.ja=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var n=t.Un(e,Xi.store);return n.Zn().next((function(t){var e=a._c(t,18e5),r=t.filter((function(t){return-1===e.indexOf(t)}));return dr.forEach(r,(function(t){return n.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=r.sent(),this.Ya)for(n=0,i=e;n<i.length;n++)o=i[n],this.Ya.removeItem(this.fc(o.clientId));r.label=2;case 2:return[2]}}))}))},t.prototype.tc=function(){var t=this;this.Wa=this._n.gn("client_metadata_refresh",4e3,(function(){return t.Ja().then((function(){return t.hc()})).then((function(){return t.tc()}))}))},t.prototype.cc=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.rc=function(t){var e=this;return this.La?dr.resolve(!0):uo(t).get(Fi.key).next((function(n){if(null!==n&&e.lc(n.leaseTimestampMs,5e3)&&!e.dc(n.ownerId)){if(e.cc(n)&&e.networkEnabled)return!0;if(!e.cc(n)){if(!n.allowTabSynchronization)throw new h(l.FAILED_PRECONDITION,oo);return!1}}return!(!e.networkEnabled||!e.inForeground)||co(t).Zn().next((function(t){return void 0===e._c(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&d("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.Si=function(){return r.__awaiter(this,void 0,void 0,(function(){var t=this;return r.__generator(this,(function(e){switch(e.label){case 0:return this.qa=!1,this.wc(),this.Wa&&(this.Wa.cancel(),this.Wa=null),this.mc(),this.Tc(),[4,this.za.runTransaction("readwrite",[Fi.store,Xi.store],(function(e){var n=new ao(e,Ur.oi);return t.oc(n).next((function(){return t.uc(n)}))}))];case 1:return e.sent(),this.za.close(),this.Ec(),[2]}}))}))},t.prototype._c=function(t,e){var n=this;return t.filter((function(t){return n.lc(t.updateTimeMs,e)&&!n.dc(t.clientId)}))},t.prototype.Vi=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return co(e).Zn().next((function(e){return t._c(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"Ti",{get:function(){return this.qa},enumerable:!1,configurable:!0}),t.prototype.Ic=function(t){return Ei.Fo(t,this.serializer,this.Sr,this.Co)},t.prototype.Ac=function(){return this.Ha},t.prototype.Rc=function(){return this.br},t.prototype.Pc=function(){return this.Sr},t.prototype.runTransaction=function(t,e,n){var r=this;d("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this.za.runTransaction(o,$i,(function(o){return i=new ao(o,r.Ba?r.Ba.next():Ur.oi),"readwrite-primary"===e?r.ic(i).next((function(t){return!!t||r.rc(i)})).next((function(e){if(!e)throw v("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r._n.Ds((function(){return r.Ka(!1)})),new h(l.FAILED_PRECONDITION,Jr);return n(i)})).next((function(t){return r.ac(i).next((function(){return t}))})):r.gc(i).next((function(){return n(i)}))})).then((function(t){return i.pr(),t}))},t.prototype.gc=function(t){var e=this;return uo(t).get(Fi.key).next((function(t){if(null!==t&&e.lc(t.leaseTimestampMs,5e3)&&!e.dc(t.ownerId)&&!e.cc(t)&&!(e.La||e.allowTabSynchronization&&t.allowTabSynchronization))throw new h(l.FAILED_PRECONDITION,oo)}))},t.prototype.ac=function(t){var e=new Fi(this.clientId,this.allowTabSynchronization,Date.now());return uo(t).put(Fi.key,e)},t.On=function(){return vr.On()},t.prototype.oc=function(t){var e=this,n=uo(t);return n.get(Fi.key).next((function(t){return e.cc(t)?(d("IndexedDbPersistence","Releasing primary lease."),n.delete(Fi.key)):dr.resolve()}))},t.prototype.lc=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(v("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Xa=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Qa=function(){t._n.ds((function(){return t.inForeground="visible"===t.document.visibilityState,t.Ja()}))},this.document.addEventListener("visibilitychange",this.Qa),this.inForeground="visible"===this.document.visibilityState)},t.prototype.mc=function(){this.Qa&&(this.document.removeEventListener("visibilitychange",this.Qa),this.Qa=null)},t.prototype.Za=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Ua=function(){e.wc(),e._n.ds((function(){return e.Si()}))},this.window.addEventListener("unload",this.Ua))},t.prototype.Tc=function(){this.Ua&&(this.window.removeEventListener("unload",this.Ua),this.Ua=null)},t.prototype.dc=function(t){var e;try{var n=null!==(null===(e=this.Ya)||void 0===e?void 0:e.getItem(this.fc(t)));return d("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return v("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.wc=function(){if(this.Ya)try{this.Ya.setItem(this.fc(this.clientId),String(Date.now()))}catch(r){v("Failed to set zombie client id.",r)}},t.prototype.Ec=function(){if(this.Ya)try{this.Ya.removeItem(this.fc(this.clientId))}catch(r){}},t.prototype.fc=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function uo(t){return so.Un(t,Fi.store)}function co(t){return so.Un(t,Xi.store)}var lo=function(){function t(t,e){this.db=t,this.do=new si(this,e)}return t.prototype.Ro=function(t){var e=this.yc(t);return this.db.Ac().Da(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.yc=function(t){var e=0;return this.yo(t,(function(t){e++})).next((function(){return e}))},t.prototype.De=function(t,e){return this.db.Ac().De(t,e)},t.prototype.yo=function(t,e){return this.Vc(t,(function(t,n){return e(n)}))},t.prototype.Fa=function(t,e,n){return ho(t,n)},t.prototype.xa=function(t,e,n){return ho(t,n)},t.prototype.Vo=function(t,e,n){return this.db.Ac().Vo(t,e,n)},t.prototype.Ko=function(t,e){return ho(t,e)},t.prototype.bc=function(t,e){return function(t,e){var n=!1;return Ai(t).rs((function(r){return Ii(t,r,e).next((function(t){return t&&(n=!0),dr.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.po=function(t,e){var n=this,r=this.db.Rc().aa(),i=[],o=0;return this.Vc(t,(function(a,s){if(s<=e){var u=n.bc(t,a).next((function(e){if(!e)return o++,r.Ar(t,a).next((function(){return r.Ir(a),io(t).delete([0,ui(a.path)])}))}));i.push(u)}})).next((function(){return dr.$n(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.nt(t.Ma);return this.db.Ac().ba(t,n)},t.prototype.vc=function(t,e){return ho(t,e)},t.prototype.Vc=function(t,e){var n,r=io(t),i=Ur.oi;return r.ss({index:Hi.documentTargetsIndex},(function(t,r){var o=t[0],a=(t[1],r.path),s=r.sequenceNumber;0===o?(i!==Ur.oi&&e(new k(hi(n)),i),i=s,n=a):i=Ur.oi})).next((function(){i!==Ur.oi&&e(new k(hi(n)),i)}))},t.prototype.vo=function(t){return this.db.Rc().ha(t)},t}();function ho(t,e){return io(t).put(function(t,e){return new Hi(0,ui(t.path),e)}(e,t.Ma))}function fo(t,e){var n=t.projectId;return t.W||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var po=function(){function t(t,e,n){this.persistence=t,this.Sc=e,this.Dc=new It(X),this.Cc=new at((function(t){return dt(t)}),vt),this.Nc=ut.min(),this.vr=t.Ic(n),this.Fc=t.Rc(),this.Ha=t.Ac(),this.$c=new ti(this.Fc,this.vr,this.persistence.Pc()),this.Sc.xc(this.$c)}return t.prototype.Eo=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.bo(n,e.Dc)}))},t}();function vo(t,e){var n=w(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.Fc.aa({ua:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),a=dr.resolve();return o.forEach((function(t){a=a.next((function(){return r.Ar(e,t)})).next((function(e){var o=e,a=n._r.get(t);b(null!==a),(!o||o.version.L(a)<0)&&(o=i.ar(t,o,n))&&r.Tr(o,n.lr)}))})),a.next((function(){return t.vr.Qo(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.vr.Go(t)})).next((function(){return n.$c.$r(t,r)}))}))}function yo(t){var e=w(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.Ha.Ra(t)}))}function go(t,e){var n=w(t),r=e.et,i=n.Dc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.Fc.aa({ua:!0});i=n.Dc;var a=[];e.Gt.forEach((function(e,o){var s=i.get(o);if(s){a.push(n.Ha.$a(t,e.ne,o).next((function(){return n.Ha.Na(t,e.te,o)})));var u=e.resumeToken;if(u.O()>0){var c=s.st(u,r).nt(t.Ma);i=i.rt(o,c),function(t,e,n){return b(e.resumeToken.O()>0),0===t.resumeToken.O()||e.et.J()-t.et.J()>=3e8||n.te.size+n.ee.size+n.ne.size>0}(s,c,e)&&a.push(n.Ha.ba(t,c))}}}));var s=Nt(),u=Lt();if(e.Ht.forEach((function(t,e){u=u.add(t)})),a.push(o.getEntries(t,u).next((function(i){e.Ht.forEach((function(u,c){var l=i.get(u);c instanceof On&&c.version.isEqual(ut.min())?(o.Ir(u,r),s=s.rt(u,c)):null==l||c.version.L(l.version)>0||0===c.version.L(l.version)&&l.hasPendingWrites?(o.Tr(c,r),s=s.rt(u,c)):d("LocalStore","Ignoring outdated watch update for ",u,". Current version:",l.version," Watch version:",c.version),e.Yt.has(u)&&a.push(n.persistence.Co.vc(t,u))}))}))),!r.isEqual(ut.min())){var c=n.Ha.Ra(t).next((function(e){return n.Ha.ga(t,t.Ma,r)}));a.push(c)}return dr.$n(a).next((function(){return o.apply(t)})).next((function(){return n.$c.kr(t,s)}))})).then((function(t){return n.Dc=i,t}))}function mo(t,e){var n=w(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.vr.Lo(t,e)}))}function bo(t,e){var n=w(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.Ha.Ca(t,e).next((function(i){return i?(r=i,dr.resolve(r)):n.Ha.Ea(t).next((function(i){return r=new bt(e,i,0,t.Ma),n.Ha.ya(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.Dc.get(t.targetId);return(null===r||t.et.L(r.et)>0)&&(n.Dc=n.Dc.rt(t.targetId,t),n.Cc.set(e,t.targetId)),t}))}function wo(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,a,s;return r.__generator(this,(function(r){switch(r.label){case 0:i=w(t),o=i.Dc.get(e),a=n?"readwrite":"readwrite-primary",r.label=1;case 1:return r.trys.push([1,4,,5]),n?[3,3]:[4,i.persistence.runTransaction("Release target",a,(function(t){return i.persistence.Co.removeTarget(t,o)}))];case 2:r.sent(),r.label=3;case 3:return[3,5];case 4:if(!mr(s=r.sent()))throw s;return d("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return i.Dc=i.Dc.remove(e),i.Cc.delete(o.target),[2]}}))}))}function _o(t,e,n){var r=w(t),i=ut.min(),o=Lt();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=w(t),i=r.Cc.get(n);return void 0!==i?dr.resolve(r.Dc.get(i)):r.Ha.Ca(e,n)}(r,t,qn(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.Ha.ka(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.Sc.Or(t,e,n?i:ut.min(),n?o:Lt())})).next((function(t){return{documents:t,kc:o}}))}))}function Eo(t,e){var n=w(t),r=w(n.Ha),i=n.Dc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.qe(t,e).next((function(t){return t?t.target:null}))}))}function Io(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){if(t.code!==l.FAILED_PRECONDITION||t.message!==Jr)throw t;return d("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}var To=function(){function t(){this.Mc=new Ct(So.Oc),this.Lc=new Ct(So.Bc)}return t.prototype.m=function(){return this.Mc.m()},t.prototype.Fa=function(t,e){var n=new So(t,e);this.Mc=this.Mc.add(n),this.Lc=this.Lc.add(n)},t.prototype.qc=function(t,e){var n=this;t.forEach((function(t){return n.Fa(t,e)}))},t.prototype.xa=function(t,e){this.Uc(new So(t,e))},t.prototype.Qc=function(t,e){var n=this;t.forEach((function(t){return n.xa(t,e)}))},t.prototype.Wc=function(t){var e=this,n=new k(new S([])),r=new So(n,t),i=new So(n,t+1),o=[];return this.Lc.Nt([r,i],(function(t){e.Uc(t),o.push(t.key)})),o},t.prototype.jc=function(){var t=this;this.Mc.forEach((function(e){return t.Uc(e)}))},t.prototype.Uc=function(t){this.Mc=this.Mc.delete(t),this.Lc=this.Lc.delete(t)},t.prototype.Kc=function(t){var e=new k(new S([])),n=new So(e,t),r=new So(e,t+1),i=Lt();return this.Lc.Nt([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.zo=function(t){var e=new So(t,0),n=this.Mc.$t(e);return null!==n&&t.isEqual(n.key)},t}(),So=function(){function t(t,e){this.key=t,this.Gc=e}return t.Oc=function(t,e){return k.i(t.key,e.key)||X(t.Gc,e.Gc)},t.Bc=function(t,e){return X(t.Gc,e.Gc)||k.i(t.key,e.key)},t}(),Co=function(t,e){this.user=e,this.type="OAuth",this.zc={},this.zc.Authorization="Bearer "+t},Ao=function(){function t(){this.Hc=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.Yc=function(){},t.prototype.Jc=function(t){this.Hc=t,t(Fr.UNAUTHENTICATED)},t.prototype.Xc=function(){this.Hc=null},t}(),ko=function(){function t(t){var e=this;this.Zc=null,this.currentUser=Fr.UNAUTHENTICATED,this.tu=!1,this.eu=0,this.Hc=null,this.forceRefresh=!1,this.Zc=function(){e.eu++,e.currentUser=e.nu(),e.tu=!0,e.Hc&&e.Hc(e.currentUser)},this.eu=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.Zc):(this.Zc(null),t.get().then((function(t){e.auth=t,e.Zc&&e.auth.addAuthTokenListener(e.Zc)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.eu,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.eu!==e?(d("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(b("string"==typeof n.accessToken),new Co(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.Yc=function(){this.forceRefresh=!0},t.prototype.Jc=function(t){this.Hc=t,this.tu&&t(this.currentUser)},t.prototype.Xc=function(){this.auth&&this.auth.removeAuthTokenListener(this.Zc),this.Zc=null,this.Hc=null},t.prototype.nu=function(){var t=this.auth&&this.auth.getUid();return b(null===t||"string"==typeof t),new Fr(t)},t}(),No=function(){function t(t,e){this.su=t,this.iu=e,this.type="FirstParty",this.user=Fr.ei}return Object.defineProperty(t.prototype,"zc",{get:function(){var t={"X-Goog-AuthUser":this.iu},e=this.su.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),Oo=function(){function t(t,e){this.su=t,this.iu=e}return t.prototype.getToken=function(){return Promise.resolve(new No(this.su,this.iu))},t.prototype.Jc=function(t){t(Fr.ei)},t.prototype.Xc=function(){},t.prototype.Yc=function(){},t}(),xo=function(){function t(t,e,n,r,i,o){this._n=t,this.ru=n,this.ou=r,this.au=i,this.listener=o,this.state=0,this.cu=0,this.uu=null,this.stream=null,this.gs=new pr(t,e)}return t.prototype.hu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.lu=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this._u()},t.prototype.stop=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.hu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.fu=function(){this.state=0,this.gs.reset()},t.prototype.du=function(){var t=this;this.lu()&&null===this.uu&&(this.uu=this._n.gn(this.ru,6e4,(function(){return t.wu()})))},t.prototype.mu=function(t){this.Tu(),this.stream.send(t)},t.prototype.wu=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){return this.lu()?[2,this.close(0)]:[2]}))}))},t.prototype.Tu=function(){this.uu&&(this.uu.cancel(),this.uu=null)},t.prototype.close=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(n){switch(n.label){case 0:return this.Tu(),this.gs.cancel(),this.cu++,3!==t?this.gs.reset():e&&e.code===l.RESOURCE_EXHAUSTED?(v(e.toString()),v("Using maximum backoff delay to prevent overloading the backend."),this.gs.An()):e&&e.code===l.UNAUTHENTICATED&&this.au.Yc(),null!==this.stream&&(this.Eu(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Iu(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.Eu=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.Au(this.cu),n=this.cu;this.au.getToken().then((function(e){t.cu===n&&t.Ru(e)}),(function(n){e((function(){var e=new h(l.UNKNOWN,"Fetching auth token failed: "+n.message);return t.Pu(e)}))}))},t.prototype.Ru=function(t){var e=this,n=this.Au(this.cu);this.stream=this.gu(t),this.stream.yu((function(){n((function(){return e.state=2,e.listener.yu()}))})),this.stream.Iu((function(t){n((function(){return e.Pu(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype._u=function(){var t=this;this.state=4,this.gs.Rn((function(){return r.__awaiter(t,void 0,void 0,(function(){return r.__generator(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.Pu=function(t){return d("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.Au=function(t){var e=this;return function(n){e._n.ds((function(){return e.cu===t?n():(d("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Po=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).serializer=i,a}return r.__extends(e,t),e.prototype.gu=function(t){return this.ou.Vu("Listen",t)},e.prototype.onMessage=function(t){this.gs.reset();var e=function(t,e){var n;if("targetChange"in e){e.targetChange;var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:m()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.Ue?(b(void 0===e||"string"==typeof e),Z.fromBase64String(e||"")):(b(void 0===e||e instanceof Uint8Array),Z.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,s=a&&function(t){var e=void 0===t.code?l.UNKNOWN:Et(t.code);return new h(e,t.message||"")}(a);n=new Wt(r,i,o,s||null)}else if("documentChange"in e){e.documentChange;var u=e.documentChange;u.document,u.document.name,u.document.updateTime;var c=Ae(t,u.document.name),f=Ie(u.document.updateTime),p=new Sn({mapValue:{fields:u.document.fields}}),d=new Nn(c,f,p,{}),v=u.targetIds||[],y=u.removedTargetIds||[];n=new zt(v,y,d.key,d)}else if("documentDelete"in e){e.documentDelete;var g=e.documentDelete;g.document;var w=Ae(t,g.document),_=g.readTime?Ie(g.readTime):ut.min(),E=new On(w,_),I=g.removedTargetIds||[];n=new zt([],I,E.key,E)}else if("documentRemove"in e){e.documentRemove;var T=e.documentRemove;T.document;var S=Ae(t,T.document),C=T.removedTargetIds||[];n=new zt([],C,S,null)}else{if(!("filter"in e))return m();e.filter;var A=e.filter;A.targetId;var k=A.count||0,N=new wt(k),O=A.targetId;n=new Gt(O,N)}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return ut.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?ut.min():e.readTime?Ie(e.readTime):ut.min()}(t);return this.listener.pu(e,n)},e.prototype.bu=function(t){var e={};e.database=Oe(this.serializer),e.addTarget=function(t,e){var n,r=e.target;return(n=yt(r)?{documents:Le(t,r)}:{query:Me(t,r)}).targetId=e.targetId,e.resumeToken.O()>0&&(n.resumeToken=_e(t,e.resumeToken)),n}(this.serializer,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return m()}}(0,e.tt);return null==n?null:{"goog-listen-tags":n}}(this.serializer,t);n&&(e.labels=n),this.mu(e)},e.prototype.vu=function(t){var e={};e.database=Oe(this.serializer),e.removeTarget=t,this.mu(e)},e}(xo),Ro=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).serializer=i,a.Su=!1,a}return r.__extends(e,t),Object.defineProperty(e.prototype,"Du",{get:function(){return this.Su},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.Su=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.Eu=function(){this.Su&&this.Cu([])},e.prototype.gu=function(t){return this.ou.Vu("Write",t)},e.prototype.onMessage=function(t){if(b(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Su){this.gs.reset();var e=function(t,e){return t&&t.length>0?(b(void 0!==e),t.map((function(t){return function(t,e){var n=t.updateTime?Ie(t.updateTime):Ie(e);n.isEqual(ut.min())&&(n=Ie(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new un(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=Ie(t.commitTime);return this.listener.Nu(n,e)}return b(!t.writeResults||0===t.writeResults.length),this.Su=!0,this.listener.Fu()},e.prototype.$u=function(){var t={};t.database=Oe(this.serializer),this.mu(t)},e.prototype.Cu=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return Re(e.serializer,t)}))};this.mu(n)},e}(xo),Do=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.ou=n,i.serializer=r,i.xu=!1,i}return r.__extends(e,t),e.prototype.ku=function(){if(this.xu)throw new h(l.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Mu=function(t,e,n){var r=this;return this.ku(),this.credentials.getToken().then((function(i){return r.ou.Mu(t,e,n,i)})).catch((function(t){throw t.code===l.UNAUTHENTICATED&&r.credentials.Yc(),t}))},e.prototype.Ou=function(t,e,n){var r=this;return this.ku(),this.credentials.getToken().then((function(i){return r.ou.Ou(t,e,n,i)})).catch((function(t){throw t.code===l.UNAUTHENTICATED&&r.credentials.Yc(),t}))},e.prototype.terminate=function(){this.xu=!1},e}((function(){})),Lo=function(){function t(t,e){this.os=t,this.fi=e,this.state="Unknown",this.Lu=0,this.Bu=null,this.qu=!0}return t.prototype.Uu=function(){var t=this;0===this.Lu&&(this.Qu("Unknown"),this.Bu=this.os.gn("online_state_timeout",1e4,(function(){return t.Bu=null,t.Wu("Backend didn't respond within 10 seconds."),t.Qu("Offline"),Promise.resolve()})))},t.prototype.ju=function(t){"Online"===this.state?this.Qu("Unknown"):(this.Lu++,this.Lu>=1&&(this.Ku(),this.Wu("Connection failed 1 times. Most recent error: "+t.toString()),this.Qu("Offline")))},t.prototype.set=function(t){this.Ku(),this.Lu=0,"Online"===t&&(this.qu=!1),this.Qu(t)},t.prototype.Qu=function(t){t!==this.state&&(this.state=t,this.fi(t))},t.prototype.Wu=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.qu?(v(e),this.qu=!1):d("OnlineStateTracker",e)},t.prototype.Ku=function(){null!==this.Bu&&(this.Bu.cancel(),this.Bu=null)},t}(),Mo=function(t,e,n,i,o){var a=this;this.Gu=t,this.zu=e,this.os=n,this.Hu={},this.Yu=[],this.Ju=new Map,this.Xu=new Set,this.Zu=[],this.th=o,this.th.eh((function(t){n.ds((function(){return r.__awaiter(a,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return Ho(this)?(d("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:return(e=w(t)).Xu.add(4),[4,Uo(e)];case 1:return n.sent(),e.nh.set("Unknown"),e.Xu.delete(4),[4,Fo(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.nh=new Lo(n,i)};function Fo(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n;return r.__generator(this,(function(r){switch(r.label){case 0:if(!Ho(t))return[3,4];e=0,n=t.Zu,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Uo(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n;return r.__generator(this,(function(r){switch(r.label){case 0:e=0,n=t.Zu,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function jo(t){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:return e=w(t),d("RemoteStore","RemoteStore shutting down."),e.Xu.add(5),[4,Uo(e)];case 1:return n.sent(),e.th.Si(),e.nh.set("Unknown"),[2]}}))}))}function Vo(t,e){var n=w(t);n.Ju.has(e.targetId)||(n.Ju.set(e.targetId,e),Wo(n)?Go(n):sa(n).lu()&&Bo(n,e))}function qo(t,e){var n=w(t),r=sa(n);n.Ju.delete(e),r.lu()&&zo(n,e),0===n.Ju.size&&(r.lu()?r.du():Ho(n)&&n.nh.set("Unknown"))}function Bo(t,e){t.sh.Ee(e.targetId),sa(t).bu(e)}function zo(t,e){t.sh.Ee(e),sa(t).vu(e)}function Go(t){t.sh=new Kt({Be:function(e){return t.Hu.Be(e)},qe:function(e){return t.Ju.get(e)||null}}),sa(t).start(),t.nh.Uu()}function Wo(t){return Ho(t)&&!sa(t).hu()&&t.Ju.size>0}function Ho(t){return 0===w(t).Xu.size}function Ko(t){t.sh=void 0}function Qo(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return t.Ju.forEach((function(e,n){Bo(t,e)})),[2]}))}))}function Yo(t,e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(n){return Ko(t),Wo(t)?(t.nh.ju(e),Go(t)):t.nh.set("Unknown"),[2]}))}))}function Xo(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,a;return r.__generator(this,(function(s){switch(s.label){case 0:if(t.nh.set("Online"),!(e instanceof Wt&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,a;return r.__generator(this,(function(r){switch(r.label){case 0:n=e.cause,i=0,o=e.targetIds,r.label=1;case 1:return i<o.length?(a=o[i],t.Ju.has(a)?[4,t.Hu.ih(a,n)]:[3,3]):[3,5];case 2:r.sent(),t.Ju.delete(a),t.sh.removeTarget(a),r.label=3;case 3:r.label=4;case 4:return i++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return s.sent(),[3,5];case 3:return i=s.sent(),d("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),[4,$o(t,i)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof zt?t.sh.pe(e):e instanceof Gt?t.sh.$e(e):t.sh.Se(e),n.isEqual(ut.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,yo(t.Gu)];case 8:return o=s.sent(),n.L(o)>=0?[4,function(t,e){var n=t.sh.Me(e);return n.Gt.forEach((function(n,r){if(n.resumeToken.O()>0){var i=t.Ju.get(r);i&&t.Ju.set(r,i.st(n.resumeToken,e))}})),n.zt.forEach((function(e){var n=t.Ju.get(e);if(n){t.Ju.set(e,n.st(Z.B,n.et)),zo(t,e);var r=new bt(n.target,e,1,n.sequenceNumber);Bo(t,r)}})),t.Hu.rh(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return d("RemoteStore","Failed to raise snapshot:",a=s.sent()),[4,$o(t,a)];case 12:return s.sent(),[3,13];case 13:return[2]}}))}))}function $o(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i=this;return r.__generator(this,(function(o){switch(o.label){case 0:if(!mr(e))throw e;return t.Xu.add(1),[4,Uo(t)];case 1:return o.sent(),t.nh.set("Offline"),n||(n=function(){return yo(t.Gu)}),t.os.Ds((function(){return r.__awaiter(i,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return d("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Xu.delete(1),[4,Fo(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function Jo(t,e){return e().catch((function(n){return $o(t,n,e)}))}function Zo(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,o,a;return r.__generator(this,(function(r){switch(r.label){case 0:e=w(t),n=ua(e),i=e.Yu.length>0?e.Yu[e.Yu.length-1].batchId:-1,r.label=1;case 1:if(!function(t){return Ho(t)&&t.Yu.length<10}(e))return[3,7];r.label=2;case 2:return r.trys.push([2,4,,6]),[4,mo(e.Gu,i)];case 3:return null===(o=r.sent())?(0===e.Yu.length&&n.du(),[3,7]):(i=o.batchId,function(t,e){t.Yu.push(e);var n=ua(t);n.lu()&&n.Du&&n.Cu(e.mutations)}(e,o),[3,6]);case 4:return a=r.sent(),[4,$o(e,a)];case 5:return r.sent(),[3,6];case 6:return[3,1];case 7:return ta(e)&&ea(e),[2]}}))}))}function ta(t){return Ho(t)&&!ua(t).hu()&&t.Yu.length>0}function ea(t){ua(t).start()}function na(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return ua(t).$u(),[2]}))}))}function ra(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,o;return r.__generator(this,(function(r){for(e=ua(t),n=0,i=t.Yu;n<i.length;n++)o=i[n],e.Cu(o.mutations);return[2]}))}))}function ia(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o;return r.__generator(this,(function(r){switch(r.label){case 0:return i=t.Yu.shift(),o=Xr.from(i,e,n),[4,Jo(t,(function(){return t.Hu.oh(o)}))];case 1:return r.sent(),[4,Zo(t)];case 2:return r.sent(),[2]}}))}))}function oa(t,e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(n){switch(n.label){case 0:return e&&ua(t).Du?[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i;return r.__generator(this,(function(r){switch(r.label){case 0:return _t(i=e.code)&&i!==l.ABORTED?(n=t.Yu.shift(),ua(t).fu(),[4,Jo(t,(function(){return t.Hu.ah(n.batchId,e)}))]):[3,3];case 1:return r.sent(),[4,Zo(t)];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return ta(t)&&ea(t),[2]}}))}))}function aa(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n;return r.__generator(this,(function(r){switch(r.label){case 0:return n=w(t),e?(n.Xu.delete(2),[4,Fo(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Xu.add(2),[4,Uo(n)]);case 3:r.sent(),n.nh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function sa(t){var e=this;return t.uh||(t.uh=function(t,e,n){var r=w(t);return r.ku(),new Po(e,r.ou,r.credentials,r.serializer,n)}(t.zu,t.os,{yu:Qo.bind(null,t),Iu:Yo.bind(null,t),pu:Xo.bind(null,t)}),t.Zu.push((function(n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return n?(t.uh.fu(),Wo(t)?Go(t):t.nh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.uh.stop()];case 2:e.sent(),Ko(t),e.label=3;case 3:return[2]}}))}))}))),t.uh}function ua(t){var e=this;return t.hh||(t.hh=function(t,e,n){var r=w(t);return r.ku(),new Ro(e,r.ou,r.credentials,r.serializer,n)}(t.zu,t.os,{yu:na.bind(null,t),Iu:oa.bind(null,t),Fu:ra.bind(null,t),Nu:ia.bind(null,t)}),t.Zu.push((function(n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return n?(t.hh.fu(),[4,Zo(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.hh.stop()];case 3:e.sent(),t.Yu.length>0&&(d("RemoteStore","Stopping write stream with "+t.Yu.length+" pending writes"),t.Yu=[]),e.label=4;case 4:return[2]}}))}))}))),t.hh}var ca=function(t){this.key=t},la=function(t){this.key=t},ha=function(){function t(t,e){this.query=t,this.lh=e,this._h=null,this.Zt=!1,this.fh=Lt(),this.Qt=Lt(),this.dh=Yn(t),this.wh=new Ut(this.dh)}return Object.defineProperty(t.prototype,"mh",{get:function(){return this.lh},enumerable:!1,configurable:!0}),t.prototype.Th=function(t,e){var n=this,r=e?e.Eh:new jt,i=e?e.wh:this.wh,o=e?e.Qt:this.Qt,a=i,s=!1,u=Ln(this.query)&&i.size===this.query.limit?i.last():null,c=Mn(this.query)&&i.size===this.query.limit?i.first():null;if(t.ut((function(t,e){var l=i.get(t),h=e instanceof Nn?e:null;h&&(h=Qn(n.query,h)?h:null);var f=!!l&&n.Qt.has(l.key),p=!!h&&(h.Ye||n.Qt.has(h.key)&&h.hasCommittedMutations),d=!1;l&&h?l.data().isEqual(h.data())?f!==p&&(r.track({type:3,doc:h}),d=!0):n.Ih(l,h)||(r.track({type:2,doc:h}),d=!0,(u&&n.dh(h,u)>0||c&&n.dh(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),d=!0):l&&!h&&(r.track({type:1,doc:l}),d=!0,(u||c)&&(s=!0)),d&&(h?(a=a.add(h),o=p?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))})),Ln(this.query)||Mn(this.query))for(;a.size>this.query.limit;){var l=Ln(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{wh:a,Eh:r,Ah:s,Qt:o}},t.prototype.Ih=function(t,e){return t.Ye&&e.hasCommittedMutations&&!e.Ye},t.prototype.gr=function(t,e,n){var r=this,i=this.wh;this.wh=t.wh,this.Qt=t.Qt;var o=t.Eh.qt();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return m()}};return n(t)-n(e)}(t.type,e.type)||r.dh(t.doc,e.doc)})),this.Rh(n);var a=e?this.Ph():[],s=0===this.fh.size&&this.Zt?1:0,u=s!==this._h;return this._h=s,0!==o.length||u?{snapshot:new Vt(this.query,t.wh,i,o,t.Qt,0===s,u,!1),gh:a}:{gh:a}},t.prototype.Us=function(t){return this.Zt&&"Offline"===t?(this.Zt=!1,this.gr({wh:this.wh,Eh:new jt,Qt:this.Qt,Ah:!1},!1)):{gh:[]}},t.prototype.yh=function(t){return!this.lh.has(t)&&!!this.wh.has(t)&&!this.wh.get(t).Ye},t.prototype.Rh=function(t){var e=this;t&&(t.te.forEach((function(t){return e.lh=e.lh.add(t)})),t.ee.forEach((function(t){})),t.ne.forEach((function(t){return e.lh=e.lh.delete(t)})),this.Zt=t.Zt)},t.prototype.Ph=function(){var t=this;if(!this.Zt)return[];var e=this.fh;this.fh=Lt(),this.wh.forEach((function(e){t.yh(e.key)&&(t.fh=t.fh.add(e.key))}));var n=[];return e.forEach((function(e){t.fh.has(e)||n.push(new la(e))})),this.fh.forEach((function(t){e.has(t)||n.push(new ca(t))})),n},t.prototype.Vh=function(t){this.lh=t.kc,this.fh=Lt();var e=this.Th(t.documents);return this.gr(e,!0)},t.prototype.ph=function(){return Vt.Kt(this.query,this.wh,this.Qt,0===this._h)},t}(),fa=function(t,e,n){this.query=t,this.targetId=e,this.view=n},pa=function(t){this.key=t,this.bh=!1},da=function(){function t(t,e,n,r,i,o){this.Gu=t,this.Sh=e,this.Dh=n,this.Ch=r,this.currentUser=i,this.Nh=o,this.Fh={},this.$h=new at((function(t){return Hn(t)}),Wn),this.xh=new Map,this.kh=[],this.Mh=new It(k.i),this.Oh=new Map,this.Lh=new To,this.Bh={},this.qh=new Map,this.Uh=to.Ta(),this.onlineState="Unknown",this.Qh=void 0}return Object.defineProperty(t.prototype,"Wh",{get:function(){return!0===this.Qh},enumerable:!1,configurable:!0}),t}();function va(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,a,s,u;return r.__generator(this,(function(r){switch(r.label){case 0:return n=qa(t),(a=n.$h.get(e))?(i=a.targetId,n.Ch.Mi(i),o=a.view.ph(),[3,4]):[3,1];case 1:return[4,bo(n.Gu,qn(e))];case 2:return s=r.sent(),u=n.Ch.Mi(s.targetId),i=s.targetId,[4,ya(n,e,i,"current"===u)];case 3:o=r.sent(),n.Wh&&Vo(n.Sh,s),r.label=4;case 4:return[2,o]}}))}))}function ya(t,e,n,i){return r.__awaiter(this,void 0,void 0,(function(){var o,a,s,u,c,l;return r.__generator(this,(function(h){switch(h.label){case 0:return t.jh=function(e,n,i){return function(t,e,n,i){return r.__awaiter(this,void 0,void 0,(function(){var o,a,s;return r.__generator(this,(function(r){switch(r.label){case 0:return(o=e.view.Th(n)).Ah?[4,_o(t.Gu,e.query,!1).then((function(t){var n=t.documents;return e.view.Th(n,o)}))]:[3,2];case 1:o=r.sent(),r.label=2;case 2:return a=i&&i.Gt.get(e.targetId),s=e.view.gr(o,t.Wh,a),[2,(Aa(t,e.targetId,s.gh),s.snapshot)]}}))}))}(t,e,n,i)},[4,_o(t.Gu,e,!0)];case 1:return o=h.sent(),a=new ha(e,o.kc),s=a.Th(o.documents),u=Bt.Xt(n,i&&"Offline"!==t.onlineState),c=a.gr(s,t.Wh,u),Aa(t,n,c.gh),l=new fa(e,n,a),[2,(t.$h.set(e,l),t.xh.has(n)?t.xh.get(n).push(e):t.xh.set(n,[e]),c.snapshot)]}}))}))}function ga(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o;return r.__generator(this,(function(r){switch(r.label){case 0:return n=w(t),i=n.$h.get(e),(o=n.xh.get(i.targetId)).length>1?[2,(n.xh.set(i.targetId,o.filter((function(t){return!Wn(t,e)}))),void n.$h.delete(e))]:n.Wh?(n.Ch.Li(i.targetId),n.Ch.Ni(i.targetId)?[3,2]:[4,wo(n.Gu,i.targetId,!1).then((function(){n.Ch.qi(i.targetId),qo(n.Sh,i.targetId),Sa(n,i.targetId)})).catch(Io)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return Sa(n,i.targetId),[4,wo(n.Gu,i.targetId,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}}))}))}function ma(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i;return r.__generator(this,(function(r){switch(r.label){case 0:n=w(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,go(n.Gu,e)];case 2:return i=r.sent(),e.Gt.forEach((function(t,e){var r=n.Oh.get(e);r&&(b(t.te.size+t.ee.size+t.ne.size<=1),t.te.size>0?r.bh=!0:t.ee.size>0?b(r.bh):t.ne.size>0&&(b(r.bh),r.bh=!1))})),[4,Oa(n,i,e)];case 3:return r.sent(),[3,6];case 4:return[4,Io(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function ba(t,e,n){var r=w(t);if(r.Wh&&0===n||!r.Wh&&1===n){var i=[];r.$h.forEach((function(t,n){var r=n.view.Us(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=w(t);n.onlineState=e;var r=!1;n.Ls.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].Us(e)&&(r=!0)})),r&&Lr(n)}(r.Dh,e),i.length&&r.Fh.pu(i),r.onlineState=e,r.Wh&&r.Ch.ji(e)}}function wa(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,a,s,u,c;return r.__generator(this,(function(r){switch(r.label){case 0:return(i=w(t)).Ch.Ui(e,"rejected",n),o=i.Oh.get(e),(a=o&&o.key)?(s=(s=new It(k.i)).rt(a,new On(a,ut.min())),u=Lt().add(a),c=new qt(ut.min(),new Map,new Ct(X),s,u),[4,ma(i,c)]):[3,2];case 1:return r.sent(),i.Mh=i.Mh.remove(a),i.Oh.delete(e),Na(i),[3,4];case 2:return[4,wo(i.Gu,e,!1).then((function(){return Sa(i,e,n)})).catch(Io)];case 3:r.sent(),r.label=4;case 4:return[2]}}))}))}function _a(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o;return r.__generator(this,(function(r){switch(r.label){case 0:n=w(t),i=e.batch.batchId,r.label=1;case 1:return r.trys.push([1,4,,6]),[4,vo(n.Gu,e)];case 2:return o=r.sent(),Ta(n,i,null),Ia(n,i),n.Ch.xi(i,"acknowledged"),[4,Oa(n,o)];case 3:return r.sent(),[3,6];case 4:return[4,Io(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function Ea(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o;return r.__generator(this,(function(r){switch(r.label){case 0:i=w(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,function(t,e){var n=w(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.vr.Mo(t,e).next((function(e){return b(null!==e),r=e.keys(),n.vr.Qo(t,e)})).next((function(){return n.vr.Go(t)})).next((function(){return n.$c.$r(t,r)}))}))}(i.Gu,e)];case 2:return o=r.sent(),Ta(i,e,n),Ia(i,e),i.Ch.xi(e,"rejected",n),[4,Oa(i,o)];case 3:return r.sent(),[3,6];case 4:return[4,Io(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function Ia(t,e){(t.qh.get(e)||[]).forEach((function(t){t.resolve()})),t.qh.delete(e)}function Ta(t,e,n){var r=w(t),i=r.Bh[r.currentUser.Zs()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Bh[r.currentUser.Zs()]=i}}function Sa(t,e,n){void 0===n&&(n=null),t.Ch.Li(e);for(var r=0,i=t.xh.get(e);r<i.length;r++){var o=i[r];t.$h.delete(o),n&&t.Fh.Kh(o,n)}t.xh.delete(e),t.Wh&&t.Lh.Wc(e).forEach((function(e){t.Lh.zo(e)||Ca(t,e)}))}function Ca(t,e){var n=t.Mh.get(e);null!==n&&(qo(t.Sh,n),t.Mh=t.Mh.remove(e),t.Oh.delete(n),Na(t))}function Aa(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof ca?(t.Lh.Fa(o.key,e),ka(t,o)):o instanceof la?(d("SyncEngine","Document no longer in limbo: "+o.key),t.Lh.xa(o.key,e),t.Lh.zo(o.key)||Ca(t,o.key)):m()}}function ka(t,e){var n=e.key;t.Mh.get(n)||(d("SyncEngine","New document in limbo: "+n),t.kh.push(n),Na(t))}function Na(t){for(;t.kh.length>0&&t.Mh.size<t.Nh;){var e=t.kh.shift(),n=t.Uh.next();t.Oh.set(n,new pa(e)),t.Mh=t.Mh.rt(e,n),Vo(t.Sh,new bt(qn(Dn(e.path)),n,2,Ur.oi))}}function Oa(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,a,s;return r.__generator(this,(function(u){switch(u.label){case 0:return i=w(t),o=[],a=[],s=[],i.$h.m()?[3,3]:(i.$h.forEach((function(t,r){s.push(i.jh(r,e,n).then((function(t){if(t){i.Wh&&i.Ch.Ui(r.targetId,t.fromCache?"not-current":"current"),o.push(t);var e=ei.Gr(r.targetId,t);a.push(e)}})))})),[4,Promise.all(s)]);case 1:return u.sent(),i.Fh.pu(o),[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,a,s,u,c,l,h;return r.__generator(this,(function(r){switch(r.label){case 0:n=w(t),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return dr.forEach(e,(function(e){return dr.forEach(e.jr,(function(r){return n.persistence.Co.Fa(t,e.targetId,r)})).next((function(){return dr.forEach(e.Kr,(function(r){return n.persistence.Co.xa(t,e.targetId,r)}))}))}))}))];case 2:return r.sent(),[3,4];case 3:if(!mr(i=r.sent()))throw i;return d("LocalStore","Failed to update sequence numbers: "+i),[3,4];case 4:for(o=0,a=e;o<a.length;o++)s=a[o],u=s.targetId,s.fromCache||(c=n.Dc.get(u),l=c.et,h=c.it(l),n.Dc=n.Dc.rt(u,h));return[2]}}))}))}(i.Gu,a)];case 2:u.sent(),u.label=3;case 3:return[2]}}))}))}function xa(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i;return r.__generator(this,(function(o){switch(o.label){case 0:return(n=w(t)).currentUser.isEqual(e)?[3,3]:(d("SyncEngine","User change. New user:",e.Zs()),[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,a;return r.__generator(this,(function(r){switch(r.label){case 0:return n=w(t),i=n.vr,o=n.$c,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var r;return n.vr.qo(t).next((function(a){return r=a,i=n.persistence.Ic(e),o=new ti(n.Fc,i,n.persistence.Pc()),i.qo(t)})).next((function(e){for(var n=[],i=[],a=Lt(),s=0,u=r;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var f=h[l];a=a.add(f.key)}}for(var p=0,d=e;p<d.length;p++){var v=d[p];i.push(v.batchId);for(var y=0,g=v.mutations;y<g.length;y++){var m=g[y];a=a.add(m.key)}}return o.$r(t,a).next((function(t){return{Gh:t,zh:n,Hh:i}}))}))}))];case 1:return a=r.sent(),[2,(n.vr=i,n.$c=o,n.Sc.xc(n.$c),a)]}}))}))}(n.Gu,e)]);case 1:return i=o.sent(),n.currentUser=e,function(t,e){t.qh.forEach((function(t){t.forEach((function(t){t.reject(new h(l.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.qh.clear()}(n),n.Ch.Wi(e,i.zh,i.Hh),[4,Oa(n,i.Gh)];case 2:o.sent(),o.label=3;case 3:return[2]}}))}))}function Pa(t,e){var n=w(t),r=n.Oh.get(e);if(r&&r.bh)return Lt().add(r.key);var i=Lt(),o=n.xh.get(e);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],c=n.$h.get(u);i=i.xt(c.view.mh)}return i}function Ra(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,_o((n=w(t)).Gu,e.query,!0)];case 1:return i=r.sent(),o=e.view.Vh(i),[2,(n.Wh&&Aa(n,e.targetId,o.gh),o)]}}))}))}function Da(t,e,n,i){return r.__awaiter(this,void 0,void 0,(function(){var o,a;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,function(t,e){var n=w(t),r=w(n.vr);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.Oo(t,e).next((function(e){return e?n.$c.$r(t,e):dr.resolve(null)}))}))}((o=w(t)).Gu,e)];case 1:return null===(a=r.sent())?[3,6]:"pending"!==n?[3,3]:[4,Zo(o.Sh)];case 2:return r.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Ta(o,e,i||null),Ia(o,e),function(t,e){w(w(t).vr).jo(e)}(o.Gu,e)):m(),r.label=4;case 4:return[4,Oa(o,a)];case 5:return r.sent(),[3,7];case 6:d("SyncEngine","Cannot apply mutation batch with id: "+e),r.label=7;case 7:return[2]}}))}))}function La(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,a,s,u,c,l;return r.__generator(this,(function(r){switch(r.label){case 0:return qa(n=w(t)),Ba(n),!0!==e||!0===n.Qh?[3,3]:(i=n.Ch.Di(),[4,Ma(n,i.A())]);case 1:return o=r.sent(),n.Qh=!0,[4,aa(n.Sh,!0)];case 2:for(r.sent(),a=0,s=o;a<s.length;a++)u=s[a],Vo(n.Sh,u);return[3,7];case 3:return!1!==e||!1===n.Qh?[3,7]:(c=[],l=Promise.resolve(),n.xh.forEach((function(t,e){n.Ch.Bi(e)?c.push(e):l=l.then((function(){return Sa(n,e),wo(n.Gu,e,!0)})),qo(n.Sh,e)})),[4,l]);case 4:return r.sent(),[4,Ma(n,c)];case 5:return r.sent(),function(t){var e=w(t);e.Oh.forEach((function(t,n){qo(e.Sh,n)})),e.Lh.jc(),e.Oh=new Map,e.Mh=new It(k.i)}(n),n.Qh=!1,[4,aa(n.Sh,!1)];case 6:r.sent(),r.label=7;case 7:return[2]}}))}))}function Ma(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,a,s,u,c,l,h,f,p,d,v,y;return r.__generator(this,(function(r){switch(r.label){case 0:n=w(t),i=[],o=[],a=0,s=e,r.label=1;case 1:return a<s.length?(u=s[a],c=void 0,(l=n.xh.get(u))&&0!==l.length?[4,bo(n.Gu,qn(l[0]))]:[3,7]):[3,13];case 2:c=r.sent(),h=0,f=l,r.label=3;case 3:return h<f.length?(p=f[h],d=n.$h.get(p),[4,Ra(n,d)]):[3,6];case 4:(v=r.sent()).snapshot&&o.push(v.snapshot),r.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,Eo(n.Gu,u)];case 8:return y=r.sent(),[4,bo(n.Gu,y)];case 9:return c=r.sent(),[4,ya(n,Fa(y),u,!1)];case 10:r.sent(),r.label=11;case 11:i.push(c),r.label=12;case 12:return a++,[3,1];case 13:return[2,(n.Fh.pu(o),i)]}}))}))}function Fa(t){return Rn(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Ua(t){var e=w(t);return w(w(e.Gu).persistence).Vi()}function ja(t,e,n,i){return r.__awaiter(this,void 0,void 0,(function(){var o,a,s;return r.__generator(this,(function(r){switch(r.label){case 0:return(o=w(t)).Qh?(d("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.xh.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,function(t){var e=w(t),n=w(e.Fc);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return n.ia(t,e.Nc)})).then((function(t){var n=t.ra,r=t.readTime;return e.Nc=r,n}))}(o.Gu)];case 3:return a=r.sent(),s=qt.Jt(e,"current"===n),[4,Oa(o,a,s)];case 4:return r.sent(),[3,8];case 5:return[4,wo(o.Gu,e,!0)];case 6:return r.sent(),Sa(o,e,i),[3,8];case 7:m(),r.label=8;case 8:return[2]}}))}))}function Va(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,h,f,p;return r.__generator(this,(function(v){switch(v.label){case 0:if(!(i=qa(t)).Qh)return[3,10];o=0,a=e,v.label=1;case 1:return o<a.length?(s=a[o],i.xh.has(s)?(d("SyncEngine","Adding an already active target "+s),[3,5]):[4,Eo(i.Gu,s)]):[3,6];case 2:return u=v.sent(),[4,bo(i.Gu,u)];case 3:return c=v.sent(),[4,ya(i,Fa(u),c.targetId,!1)];case 4:v.sent(),Vo(i.Sh,c),v.label=5;case 5:return o++,[3,1];case 6:l=function(t){return r.__generator(this,(function(e){switch(e.label){case 0:return i.xh.has(t)?[4,wo(i.Gu,t,!1).then((function(){qo(i.Sh,t),Sa(i,t)})).catch(Io)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},h=0,f=n,v.label=7;case 7:return h<f.length?(p=f[h],[5,l(p)]):[3,10];case 8:v.sent(),v.label=9;case 9:return h++,[3,7];case 10:return[2]}}))}))}function qa(t){var e=w(t);return e.Sh.Hu.rh=ma.bind(null,e),e.Sh.Hu.Be=Pa.bind(null,e),e.Sh.Hu.ih=wa.bind(null,e),e.Fh.pu=Rr.bind(null,e.Dh),e.Fh.Kh=Dr.bind(null,e.Dh),e}function Ba(t){var e=w(t);return e.Sh.Hu.oh=_a.bind(null,e),e.Sh.Hu.ah=Ea.bind(null,e),e}var za=function(){function t(){}return t.prototype.xc=function(t){this.Yh=t},t.prototype.Or=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.rn.length||1===t.rn.length&&t.rn[0].field.p())}(e)||n.isEqual(ut.min())?this.Jh(t,e):this.Yh.$r(t,r).next((function(a){var s=i.Xh(e,a);return(Ln(e)||Mn(e))&&i.Ah(e.on,s,r,n)?i.Jh(t,e):(p()<=o.LogLevel.DEBUG&&d("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Kn(e)),i.Yh.Or(t,e,n).next((function(t){return s.forEach((function(e){t=t.rt(e.key,e)})),t})))}))},t.prototype.Xh=function(t,e){var n=new Ct(Yn(t));return e.forEach((function(e,r){r instanceof Nn&&Qn(t,r)&&(n=n.add(r))})),n},t.prototype.Ah=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.L(r)>0)},t.prototype.Jh=function(t,e){return p()<=o.LogLevel.DEBUG&&d("IndexFreeQueryEngine","Using full collection scan to execute query:",Kn(e)),this.Yh.Or(t,e,ut.min())},t}(),Ga=function(){function t(t,e){this.Sr=t,this.Co=e,this.vr=[],this.Zh=1,this.tl=new Ct(So.Oc)}return t.prototype.$o=function(t){return dr.resolve(0===this.vr.length)},t.prototype.xo=function(t,e,n,r){var i=this.Zh;this.Zh++,this.vr.length>0&&this.vr[this.vr.length-1];var o=new Yr(i,e,n,r);this.vr.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.tl=this.tl.add(new So(u.key,i)),this.Sr.ko(t,u.key.path.h())}return dr.resolve(o)},t.prototype.Mo=function(t,e){return dr.resolve(this.el(e))},t.prototype.Lo=function(t,e){var n=e+1,r=this.nl(n),i=r<0?0:r;return dr.resolve(this.vr.length>i?this.vr[i]:null)},t.prototype.Bo=function(){return dr.resolve(0===this.vr.length?-1:this.Zh-1)},t.prototype.qo=function(t){return dr.resolve(this.vr.slice())},t.prototype.Cr=function(t,e){var n=this,r=new So(e,0),i=new So(e,Number.POSITIVE_INFINITY),o=[];return this.tl.Nt([r,i],(function(t){var e=n.el(t.Gc);o.push(e)})),dr.resolve(o)},t.prototype.Mr=function(t,e){var n=this,r=new Ct(X);return e.forEach((function(t){var e=new So(t,0),i=new So(t,Number.POSITIVE_INFINITY);n.tl.Nt([e,i],(function(t){r=r.add(t.Gc)}))})),dr.resolve(this.sl(r))},t.prototype.Qr=function(t,e){var n=e.path,r=n.length+1,i=n;k.F(i)||(i=i.child(""));var o=new So(new k(i),0),a=new Ct(X);return this.tl.Ft((function(t){var e=t.key.path;return!!n.T(e)&&(e.length===r&&(a=a.add(t.Gc)),!0)}),o),dr.resolve(this.sl(a))},t.prototype.sl=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.el(t);null!==r&&n.push(r)})),n},t.prototype.Qo=function(t,e){var n=this;b(0===this.il(e.batchId,"removed")),this.vr.shift();var r=this.tl;return dr.forEach(e.mutations,(function(i){var o=new So(i.key,e.batchId);return r=r.delete(o),n.Co.Ko(t,i.key)})).next((function(){n.tl=r}))},t.prototype.jo=function(t){},t.prototype.zo=function(t,e){var n=new So(e,0),r=this.tl.$t(n);return dr.resolve(e.isEqual(r&&r.key))},t.prototype.Go=function(t){return this.vr.length,dr.resolve()},t.prototype.il=function(t,e){return this.nl(t)},t.prototype.nl=function(t){return 0===this.vr.length?0:t-this.vr[0].batchId},t.prototype.el=function(t){var e=this.nl(t);return e<0||e>=this.vr.length?null:this.vr[e]},t}(),Wa=function(){function t(t,e){this.Sr=t,this.rl=e,this.docs=new It(k.i),this.size=0}return t.prototype.Tr=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,a=this.rl(e);return this.docs=this.docs.rt(r,{Zo:e,size:a,readTime:n}),this.size+=a-o,this.Sr.ko(t,r.path.h())},t.prototype.Ir=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.Ar=function(t,e){var n=this.docs.get(e);return dr.resolve(n?n.Zo:null)},t.prototype.getEntries=function(t,e){var n=this,r=Ot();return e.forEach((function(t){var e=n.docs.get(t);r=r.rt(t,e?e.Zo:null)})),dr.resolve(r)},t.prototype.Or=function(t,e,n){for(var r=Pt(),i=new k(e.path.child("")),o=this.docs._t(i);o.It();){var a=o.Et(),s=a.key,u=a.value,c=u.Zo,l=u.readTime;if(!e.path.T(s.path))break;l.L(n)<=0||c instanceof Nn&&Qn(e,c)&&(r=r.rt(c.key,c))}return dr.resolve(r)},t.prototype.ol=function(t,e){return dr.forEach(this.docs,(function(t){return e(t)}))},t.prototype.aa=function(e){return new t.ca(this)},t.prototype.ha=function(t){return dr.resolve(this.size)},t}();Wa.ca=function(t){function e(e){var n=this;return(n=t.call(this)||this).la=e,n}return r.__extends(e,t),e.prototype.gr=function(t){var e=this,n=[];return this.dr.forEach((function(r,i){i?n.push(e.la.Tr(t,i,e.readTime)):e.la.Ir(r)})),dr.$n(n)},e.prototype.Rr=function(t,e){return this.la.Ar(t,e)},e.prototype.Pr=function(t,e){return this.la.getEntries(t,e)},e}($r);var Ha=function(){function t(t){this.persistence=t,this.al=new at((function(t){return dt(t)}),vt),this.lastRemoteSnapshotVersion=ut.min(),this.highestTargetId=0,this.cl=0,this.ul=new To,this.targetCount=0,this.hl=to.ma()}return t.prototype.De=function(t,e){return this.al.forEach((function(t,n){return e(n)})),dr.resolve()},t.prototype.Ra=function(t){return dr.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Pa=function(t){return dr.resolve(this.cl)},t.prototype.Ea=function(t){return this.highestTargetId=this.hl.next(),dr.resolve(this.highestTargetId)},t.prototype.ga=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.cl&&(this.cl=e),dr.resolve()},t.prototype.Va=function(t){this.al.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.hl=new to(e),this.highestTargetId=e),t.sequenceNumber>this.cl&&(this.cl=t.sequenceNumber)},t.prototype.ya=function(t,e){return this.Va(e),this.targetCount+=1,dr.resolve()},t.prototype.ba=function(t,e){return this.Va(e),dr.resolve()},t.prototype.va=function(t,e){return this.al.delete(e.target),this.ul.Wc(e.targetId),this.targetCount-=1,dr.resolve()},t.prototype.Vo=function(t,e,n){var r=this,i=0,o=[];return this.al.forEach((function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.al.delete(a),o.push(r.Sa(t,s.targetId)),i++)})),dr.$n(o).next((function(){return i}))},t.prototype.Da=function(t){return dr.resolve(this.targetCount)},t.prototype.Ca=function(t,e){var n=this.al.get(e)||null;return dr.resolve(n)},t.prototype.Na=function(t,e,n){return this.ul.qc(e,n),dr.resolve()},t.prototype.$a=function(t,e,n){this.ul.Qc(e,n);var r=this.persistence.Co,i=[];return r&&e.forEach((function(e){i.push(r.Ko(t,e))})),dr.$n(i)},t.prototype.Sa=function(t,e){return this.ul.Wc(e),dr.resolve()},t.prototype.ka=function(t,e){var n=this.ul.Kc(e);return dr.resolve(n)},t.prototype.zo=function(t,e){return dr.resolve(this.ul.zo(e))},t}(),Ka=function(){function t(t){var e=this;this.ll={},this.Ba=new Ur(0),this.qa=!1,this.qa=!0,this.Co=t(this),this.Ha=new Ha(this),this.Sr=new Ri,this.br=new Wa(this.Sr,(function(t){return e.Co._l(t)}))}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Si=function(){return this.qa=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Ti",{get:function(){return this.qa},enumerable:!1,configurable:!0}),t.prototype.nc=function(){},t.prototype.sc=function(){},t.prototype.Pc=function(){return this.Sr},t.prototype.Ic=function(t){var e=this.ll[t.Zs()];return e||(e=new Ga(this.Sr,this.Co),this.ll[t.Zs()]=e),e},t.prototype.Ac=function(){return this.Ha},t.prototype.Rc=function(){return this.br},t.prototype.runTransaction=function(t,e,n){var r=this;d("MemoryPersistence","Starting transaction:",t);var i=new Qa(this.Ba.next());return this.Co.fl(),n(i).next((function(t){return r.Co.dl(i).next((function(){return t}))})).Nn().then((function(t){return i.pr(),t}))},t.prototype.wl=function(t,e){return dr.xn(Object.values(this.ll).map((function(n){return function(){return n.zo(t,e)}})))},t}(),Qa=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ma=e,n}return r.__extends(e,t),e}(Zr),Ya=function(){function t(t){this.persistence=t,this.ml=new To,this.Tl=null}return t.El=function(e){return new t(e)},Object.defineProperty(t.prototype,"Il",{get:function(){if(this.Tl)return this.Tl;throw m()},enumerable:!1,configurable:!0}),t.prototype.Fa=function(t,e,n){return this.ml.Fa(n,e),this.Il.delete(n.toString()),dr.resolve()},t.prototype.xa=function(t,e,n){return this.ml.xa(n,e),this.Il.add(n.toString()),dr.resolve()},t.prototype.Ko=function(t,e){return this.Il.add(e.toString()),dr.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.ml.Wc(e.targetId).forEach((function(t){return n.Il.add(t.toString())}));var r=this.persistence.Ac();return r.ka(t,e.targetId).next((function(t){t.forEach((function(t){return n.Il.add(t.toString())}))})).next((function(){return r.va(t,e)}))},t.prototype.fl=function(){this.Tl=new Set},t.prototype.dl=function(t){var e=this,n=this.persistence.Rc().aa();return dr.forEach(this.Il,(function(r){var i=k.D(r);return e.Al(t,i).next((function(t){t||n.Ir(i)}))})).next((function(){return e.Tl=null,n.apply(t)}))},t.prototype.vc=function(t,e){var n=this;return this.Al(t,e).next((function(t){t?n.Il.delete(e.toString()):n.Il.add(e.toString())}))},t.prototype._l=function(t){return 0},t.prototype.Al=function(t,e){var n=this;return dr.xn([function(){return dr.resolve(n.ml.zo(e))},function(){return n.persistence.Ac().zo(t,e)},function(){return n.persistence.wl(t,e)}])},t}(),Xa=function(){function t(t){this.Rl=t.Rl,this.Pl=t.Pl}return t.prototype.yu=function(t){this.gl=t},t.prototype.Iu=function(t){this.yl=t},t.prototype.onMessage=function(t){this.Vl=t},t.prototype.close=function(){this.Pl()},t.prototype.send=function(t){this.Rl(t)},t.prototype.pl=function(){this.gl()},t.prototype.bl=function(t){this.yl(t)},t.prototype.vl=function(t){this.Vl(t)},t}(),$a={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Ja=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n}return r.__extends(e,t),e.prototype.$l=function(t,e,n,r){return new Promise((function(i,o){var a=new s.XhrIo;a.listenOnce(s.EventType.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case s.ErrorCode.NO_ERROR:var e=a.getResponseJson();d("Connection","XHR received:",JSON.stringify(e)),i(e);break;case s.ErrorCode.TIMEOUT:d("Connection",'RPC "'+t+'" timed out'),o(new h(l.DEADLINE_EXCEEDED,"Request time out"));break;case s.ErrorCode.HTTP_ERROR:var n=a.getStatus();if(d("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var u=function(t){var e=t.toLowerCase().replace("_","-");return Object.values(l).indexOf(e)>=0?e:l.UNKNOWN}(r.status);o(new h(u,r.message))}else o(new h(l.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new h(l.UNAVAILABLE,"Connection failed."));break;default:m()}}finally{d("Connection",'RPC "'+t+'" completed.')}}));var u=JSON.stringify(r);a.send(e,"POST",u,n,15)}))},e.prototype.Vu=function(t,e){var n=[this.Dl,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=s.createWebChannelTransport(),i={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.U.projectId+"/databases/"+this.U.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.Fl(i.initMessageHeaders,e),a.isMobileCordova()||a.isReactNative()||a.isElectron()||a.isIE()||a.isUWP()||a.isBrowserExtension()||(i.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");d("Connection","Creating WebChannel: "+o,i);var u=r.createWebChannel(o,i),c=!1,f=!1,p=new Xa({Rl:function(t){f?d("Connection","Not sending because WebChannel is closed:",t):(c||(d("Connection","Opening WebChannel transport."),u.open(),c=!0),d("Connection","WebChannel sending:",t),u.send(t))},Pl:function(){return u.close()}}),v=function(t,e){u.listen(t,(function(t){try{e(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return v(s.WebChannel.EventType.OPEN,(function(){f||d("Connection","WebChannel transport opened.")})),v(s.WebChannel.EventType.CLOSE,(function(){f||(f=!0,d("Connection","WebChannel transport closed"),p.bl())})),v(s.WebChannel.EventType.ERROR,(function(t){f||(f=!0,y("Connection","WebChannel transport errored:",t),p.bl(new h(l.UNAVAILABLE,"The operation could not be completed")))})),v(s.WebChannel.EventType.MESSAGE,(function(t){var e;if(!f){var n=t.data[0];b(!!n);var r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){d("Connection","WebChannel received error:",i);var o=i.status,a=function(t){var e=gt[t];if(void 0!==e)return Et(e)}(o),s=i.message;void 0===a&&(a=l.INTERNAL,s="Unknown error status: "+o+" with message "+i.message),f=!0,p.bl(new h(a,s)),u.close()}else d("Connection","WebChannel received:",n),p.vl(n)}})),setTimeout((function(){p.pl()}),0),p},e}(function(){function t(t){this.Sl=t,this.U=t.U;var e=t.ssl?"https":"http";this.Dl=e+"://"+t.host,this.Cl="projects/"+this.U.projectId+"/databases/"+this.U.database+"/documents"}return t.prototype.Mu=function(t,e,n,r){var i=this.Nl(t,e);d("RestConnection","Sending: ",i,n);var o={};return this.Fl(o,r),this.$l(t,i,o,n).then((function(t){return d("RestConnection","Received: ",t),t}),(function(e){throw y("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Ou=function(t,e,n,r){return this.Mu(t,e,n,r)},t.prototype.Fl=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/7.22.0",t["Content-Type"]="text/plain",e)for(var n in e.zc)e.zc.hasOwnProperty(n)&&(t[n]=e.zc[n])},t.prototype.Nl=function(t,e){var n=$a[t];return this.Dl+"/v1/"+e+":"+n},t}()),Za=function(){function t(){var t=this;this.xl=function(){return t.kl()},this.Ml=function(){return t.Ol()},this.Ll=[],this.Bl()}return t.prototype.eh=function(t){this.Ll.push(t)},t.prototype.Si=function(){window.removeEventListener("online",this.xl),window.removeEventListener("offline",this.Ml)},t.prototype.Bl=function(){window.addEventListener("online",this.xl),window.addEventListener("offline",this.Ml)},t.prototype.kl=function(){d("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Ll;t<e.length;t++)(0,e[t])(0)},t.prototype.Ol=function(){d("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Ll;t<e.length;t++)(0,e[t])(1)},t.On=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),ts=function(){function t(){}return t.prototype.eh=function(t){},t.prototype.Si=function(){},t}();function es(t){return new ye(t,!0)}var ns="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",rs=function(){function t(){}return t.prototype.initialize=function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return this.Ch=this.ql(t),this.persistence=this.Ul(t),[4,this.persistence.start()];case 1:return e.sent(),this.Ql=this.Wl(t),this.Gu=this.jl(t),[2]}}))}))},t.prototype.Wl=function(t){return null},t.prototype.jl=function(t){return e=this.persistence,n=new za,r=t.Kl,new po(e,n,r);var e,n,r},t.prototype.Ul=function(t){if(t.persistenceSettings.Gl)throw new h(l.FAILED_PRECONDITION,ns);return new Ka(Ya.El)},t.prototype.ql=function(t){return new Qr},t.prototype.terminate=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.Ql&&this.Ql.stop(),[4,this.Ch.Si()];case 1:return t.sent(),[4,this.persistence.Si()];case 2:return t.sent(),[2]}}))}))},t.prototype.clearPersistence=function(t,e){throw new h(l.FAILED_PRECONDITION,ns)},t}(),is=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.initialize=function(e){return r.__awaiter(this,void 0,void 0,(function(){var n,i=this;return r.__generator(this,(function(o){switch(o.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return o.sent(),n=this.zl._i,this.Ch instanceof Kr?(this.Ch._i={tr:Da.bind(null,n),er:ja.bind(null,n),nr:Va.bind(null,n),Vi:Ua.bind(null,n)},[4,this.Ch.start()]):[3,3];case 2:o.sent(),o.label=3;case 3:return[4,this.persistence.ec((function(t){return r.__awaiter(i,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return[4,La(this.zl._i,t)];case 1:return e.sent(),this.Ql&&(t&&!this.Ql.Ti?this.Ql.start(this.Gu):t||this.Ql.stop()),[2]}}))}))}))];case 4:return o.sent(),[2]}}))}))},e.prototype.ql=function(t){if(t.persistenceSettings.Gl&&t.persistenceSettings.synchronizeTabs){var e=Tr();if(!Kr.On(e))throw new h(l.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=fo(t.Sl.U,t.Sl.persistenceKey);return new Kr(e,t.os,n,t.clientId,t.Kl)}return new Qr},e}(function(t){function e(e){var n=this;return(n=t.call(this)||this).zl=e,n}return r.__extends(e,t),e.prototype.initialize=function(e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n;return r.__generator(this,(function(r){return e=w(t),n=w(e.Fc),[2,e.persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return n.oa(t)})).then((function(t){e.Nc=t}))]}))}))}(this.Gu)];case 2:return n.sent(),[4,this.zl.initialize(this,e)];case 3:return n.sent(),[4,Ba(this.zl._i)];case 4:return n.sent(),[4,Zo(this.zl.Sh)];case 5:return n.sent(),[2]}}))}))},e.prototype.Wl=function(t){var e=this.persistence.Co.do;return new ai(e,t.os)},e.prototype.Ul=function(t){var e=fo(t.Sl.U,t.Sl.persistenceKey),n=es(t.Sl.U);return new so(t.persistenceSettings.synchronizeTabs,e,t.clientId,oi.oo(t.persistenceSettings.cacheSizeBytes),t.os,Tr(),Sr(),n,this.Ch,t.persistenceSettings.La)},e.prototype.ql=function(t){return new Qr},e.prototype.clearPersistence=function(t,e){return function(t){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:return vr.On()?(e=t+"main",[4,vr.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(fo(t,e))},e}(rs)),os=function(){function t(){}return t.prototype.initialize=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n=this;return r.__generator(this,(function(r){switch(r.label){case 0:return this.Gu?[3,2]:(this.Gu=t.Gu,this.Ch=t.Ch,this.zu=this.Hl(e),this.Sh=this.Yl(e),this.Dh=this.Jl(e),this._i=this.Xl(e),this.Ch.fi=function(t){return ba(n._i,t,1)},this.Sh.Hu.Zl=xa.bind(null,this._i),[4,aa(this.Sh,this._i.Wh)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.Jl=function(t){return new Or},t.prototype.Hl=function(t){var e,n=es(t.Sl.U),r=(e=t.Sl,new Ja(e));return function(t,e,n){return new Do(t,e,n)}(t.credentials,r,n)},t.prototype.Yl=function(t){var e,n,r,i,o,a=this;return e=this.Gu,n=this.zu,r=t.os,i=function(t){return ba(a._i,t,0)},o=Za.On()?new Za:new ts,new Mo(e,n,r,i,o)},t.prototype.Xl=function(t){return function(t,e,n,r,i,o,a){var s=new da(t,e,n,r,i,o);return a&&(s.Qh=!0),s}(this.Gu,this.Sh,this.Dh,this.Ch,t.Kl,t.Nh,!t.persistenceSettings.Gl||!t.persistenceSettings.synchronizeTabs)},t.prototype.terminate=function(){return jo(this.Sh)},t}(),as=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.t_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.t_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.e_=function(){this.muted=!0},t.prototype.t_=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),ss=function(t){!function(t,e,n,r){if(!(e instanceof Array)||e.length<1)throw new h(l.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+K(1,"element")+".")}(0,t);for(var e=0;e<t.length;++e)if(R("FieldPath","string",e,t[e]),0===t[e].length)throw new h(l.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.n_=new A(t)},us=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,e)||this}return r.__extends(e,t),e.documentId=function(){return new e(A.v().R())},e.prototype.isEqual=function(t){if(!(t instanceof e))throw G("isEqual","FieldPath",1,t);return this.n_.isEqual(t.n_)},e}(ss),cs=new RegExp("[~\\*/\\[\\]]"),ls=function(t){this.s_=t},hs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.i_=function(t){if(2!==t.r_)throw 1===t.r_?t.o_(this.s_+"() can only appear at the top level of your update data"):t.o_(this.s_+"() cannot be used with set() unless you pass {merge:true}");return t.Qe.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(ls);function fs(t,e,n){return new Ts({r_:3,a_:e.settings.a_,methodName:t.s_,c_:n},e.U,e.serializer,e.ignoreUndefinedProperties)}var ps=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.i_=function(t){return new sn(t.path,new $e)},e.prototype.isEqual=function(t){return t instanceof e},e}(ls),ds=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).u_=n,r}return r.__extends(e,t),e.prototype.i_=function(t){var e=fs(this,t,!0),n=this.u_.map((function(t){return Os(t,e)})),r=new Je(n);return new sn(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(ls),vs=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).u_=n,r}return r.__extends(e,t),e.prototype.i_=function(t){var e=fs(this,t,!0),n=this.u_.map((function(t){return Os(t,e)})),r=new tn(n);return new sn(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(ls),ys=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).h_=n,r}return r.__extends(e,t),e.prototype.i_=function(t){var e=new nn(t.serializer,be(t.serializer,this.h_));return new sn(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(ls),gs=function(){function t(t,e){if(O("GeoPoint",arguments,2),R("GeoPoint","number",1,t),R("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new h(l.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new h(l.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.l_=t,this.__=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.l_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.__},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.l_===t.l_&&this.__===t.__},t.prototype.toJSON=function(){return{latitude:this.l_,longitude:this.__}},t.prototype.H=function(t){return X(this.l_,t.l_)||X(this.__,t.__)},t}(),ms=function(t){this.f_=t},bs=/^__.*__$/,ws=function(t,e,n){this.d_=t,this.w_=e,this.m_=n},_s=function(){function t(t,e,n){this.data=t,this.Qe=e,this.fieldTransforms=n}return t.prototype.T_=function(t,e){var n=[];return null!==this.Qe?n.push(new mn(t,this.data,this.Qe,e)):n.push(new gn(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new wn(t,this.fieldTransforms)),n},t}(),Es=function(){function t(t,e,n){this.data=t,this.Qe=e,this.fieldTransforms=n}return t.prototype.T_=function(t,e){var n=[new mn(t,this.data,this.Qe,e)];return this.fieldTransforms.length>0&&n.push(new wn(t,this.fieldTransforms)),n},t}();function Is(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw m()}}var Ts=function(){function t(t,e,n,r,i,o){this.settings=t,this.U=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.E_(),this.fieldTransforms=i||[],this.Qe=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"r_",{get:function(){return this.settings.r_},enumerable:!1,configurable:!0}),t.prototype.I_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.U,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.Qe)},t.prototype.A_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.I_({path:n,c_:!1});return r.R_(t),r},t.prototype.P_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.I_({path:n,c_:!1});return r.E_(),r},t.prototype.g_=function(t){return this.I_({path:void 0,c_:!0})},t.prototype.o_=function(t){return Ms(t,this.settings.methodName,this.settings.y_||!1,this.path,this.settings.a_)},t.prototype.contains=function(t){return void 0!==this.Qe.find((function(e){return t.T(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.T(e.field)}))},t.prototype.E_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.R_(this.path.get(t))},t.prototype.R_=function(t){if(0===t.length)throw this.o_("Document fields must not be empty");if(Is(this.r_)&&bs.test(t))throw this.o_('Document fields cannot begin and end with "__"')},t}(),Ss=function(){function t(t,e,n){this.U=t,this.ignoreUndefinedProperties=e,this.serializer=n||es(t)}return t.prototype.V_=function(t,e,n,r){return void 0===r&&(r=!1),new Ts({r_:t,methodName:e,a_:n,path:A.g(),c_:!1,y_:r},this.U,this.serializer,this.ignoreUndefinedProperties)},t}();function Cs(t,e,n,r,i,o){void 0===o&&(o={});var a=t.V_(o.merge||o.mergeFields?2:0,e,n,i);Rs("Data must be an object, but it was:",a,r);var s,u,c=xs(r,a);if(o.merge)s=new an(a.Qe),u=a.fieldTransforms;else if(o.mergeFields){for(var f=[],p=0,d=o.mergeFields;p<d.length;p++){var v=d[p],y=void 0;if(v instanceof ss)y=v.n_;else{if("string"!=typeof v)throw m();y=Ls(e,v,n)}if(!a.contains(y))throw new h(l.INVALID_ARGUMENT,"Field '"+y+"' is specified in your field mask but missing from your input data.");Fs(f,y)||f.push(y)}s=new an(f),u=a.fieldTransforms.filter((function(t){return s.He(t.field)}))}else s=null,u=a.fieldTransforms;return new _s(new Sn(c),s,u)}function As(t,e,n,r){var i=t.V_(1,e,n);Rs("Data must be an object, but it was:",i,r);var o=[],a=new Cn;E(r,(function(t,r){var s=Ls(e,t,n),u=i.P_(s);if(r instanceof hs||r instanceof ms&&r.f_ instanceof hs)o.push(s);else{var c=Os(r,u);null!=c&&(o.push(s),a.set(s,c))}}));var s=new an(o);return new Es(a.Je(),s,i.fieldTransforms)}function ks(t,e,n,r,i,o){var a=t.V_(1,e,n),s=[Ds(e,r,n)],u=[i];if(o.length%2!=0)throw new h(l.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(Ds(e,o[c])),u.push(o[c+1]);for(var f=[],p=new Cn,d=s.length-1;d>=0;--d)if(!Fs(f,s[d])){var v=s[d],y=u[d],g=a.P_(v);if(y instanceof hs||y instanceof ms&&y.f_ instanceof hs)f.push(v);else{var m=Os(y,g);null!=m&&(f.push(v),p.set(v,m))}}var b=new an(f);return new Es(p.Je(),b,a.fieldTransforms)}function Ns(t,e,n,r){return void 0===r&&(r=!1),Os(n,t.V_(r?4:3,e))}function Os(t,e){if(t instanceof ms&&(t=t.f_),Ps(t))return Rs("Unsupported field value:",e,t),xs(t,e);if(t instanceof ls)return function(t,e){if(!Is(e.r_))throw e.o_(t.s_+"() can only be used with update() and set()");if(!e.path)throw e.o_(t.s_+"() is not currently supported inside arrays");var n=t.i_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.Qe.push(e.path),t instanceof Array){if(e.settings.c_&&4!==e.r_)throw e.o_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=Os(o[i],e.g_(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return be(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=st.fromDate(t);return{timestampValue:we(e.serializer,n)}}if(t instanceof st){var r=new st(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:we(e.serializer,r)}}if(t instanceof gs)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof tt)return{bytesValue:_e(e.serializer,t.q)};if(t instanceof ws){var i=e.U,o=t.d_;if(!o.isEqual(i))throw e.o_("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:Te(t.d_||e.U,t.w_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.o_("Unsupported field value: "+q(t))}(t,e)}function xs(t,e){var n={};return I(t)?e.path&&e.path.length>0&&e.Qe.push(e.path):E(t,(function(t,r){var i=Os(r,e.A_(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function Ps(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof st||t instanceof gs||t instanceof tt||t instanceof ws||t instanceof ls)}function Rs(t,e,n){if(!Ps(n)||!V(n)){var r=q(n);throw"an object"===r?e.o_(t+" a custom object"):e.o_(t+" "+r)}}function Ds(t,e,n){if(e instanceof ss)return e.n_;if("string"==typeof e)return Ls(t,e);throw Ms("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}function Ls(t,e,n){try{return function(t){if(t.search(cs)>=0)throw new h(l.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(us.bind.apply(us,r.__spreadArrays([void 0],t.split("."))))}catch(r){throw new h(l.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e).n_}catch(e){throw Ms((i=e)instanceof Error?i.message:i.toString(),t,!1,void 0,n)}var i}function Ms(t,e,n,r,i){var o=r&&!r.m(),a=void 0!==i,s="Function "+e+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new h(l.INVALID_ARGUMENT,(s+=". ")+t+u)}function Fs(t,e){return t.some((function(t){return t.isEqual(e)}))}var Us=function(){function t(t){this.zu=t,this.p_=new Map,this.mutations=[],this.b_=!1,this.v_=null,this.S_=new Set}return t.prototype.D_=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n=this;return r.__generator(this,(function(i){switch(i.label){case 0:if(this.C_(),this.mutations.length>0)throw new h(l.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,a,s,u;return r.__generator(this,(function(r){switch(r.label){case 0:return n=w(t),i=Oe(n.serializer)+"/documents",o={documents:e.map((function(t){return Ce(n.serializer,t)}))},[4,n.Ou("BatchGetDocuments",i,o)];case 1:return a=r.sent(),s=new Map,a.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){b(!!e.found),e.found.name,e.found.updateTime;var n=Ae(t,e.found.name),r=Ie(e.found.updateTime),i=new Sn({mapValue:{fields:e.found.fields}});return new Nn(n,r,i,{})}(t,e):"missing"in e?function(t,e){b(!!e.missing),b(!!e.readTime);var n=Ae(t,e.missing),r=Ie(e.readTime);return new On(n,r)}(t,e):m()}(n.serializer,t);s.set(e.key.toString(),e)})),u=[],[2,(e.forEach((function(t){var e=s.get(t.toString());b(!!e),u.push(e)})),u)]}}))}))}(this.zu,t)];case 1:return[2,((e=i.sent()).forEach((function(t){t instanceof On||t instanceof Nn?n.N_(t):m()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.T_(t,this.Ke(t))),this.S_.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.T_(t,this.F_(t)))}catch(t){this.v_=t}this.S_.add(t.toString())},t.prototype.delete=function(t){this.write([new In(t,this.Ke(t))]),this.S_.add(t.toString())},t.prototype.commit=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e=this;return r.__generator(this,(function(n){switch(n.label){case 0:if(this.C_(),this.v_)throw this.v_;return t=this.p_,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=k.D(n);e.mutations.push(new Tn(r,e.Ke(r)))})),[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o;return r.__generator(this,(function(r){switch(r.label){case 0:return n=w(t),i=Oe(n.serializer)+"/documents",o={writes:e.map((function(t){return Re(n.serializer,t)}))},[4,n.Mu("Commit",i,o)];case 1:return r.sent(),[2]}}))}))}(this.zu,this.mutations)];case 1:return n.sent(),this.b_=!0,[2]}}))}))},t.prototype.N_=function(t){var e;if(t instanceof Nn)e=t.version;else{if(!(t instanceof On))throw m();e=ut.min()}var n=this.p_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new h(l.ABORTED,"Document version changed between two reads.")}else this.p_.set(t.key.toString(),e)},t.prototype.Ke=function(t){var e=this.p_.get(t.toString());return!this.S_.has(t.toString())&&e?cn.updateTime(e):cn.Ge()},t.prototype.F_=function(t){var e=this.p_.get(t.toString());if(!this.S_.has(t.toString())&&e){if(e.isEqual(ut.min()))throw new h(l.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return cn.updateTime(e)}return cn.exists(!0)},t.prototype.write=function(t){this.C_(),this.mutations=this.mutations.concat(t)},t.prototype.C_=function(){},t}(),js=function(){function t(t,e,n,r){this.os=t,this.zu=e,this.updateFunction=n,this.hs=r,this.x_=5,this.gs=new pr(this.os,"transaction_retry")}return t.prototype.run=function(){this.k_()},t.prototype.k_=function(){var t=this;this.gs.Rn((function(){return r.__awaiter(t,void 0,void 0,(function(){var t,e,n=this;return r.__generator(this,(function(r){return t=new Us(this.zu),(e=this.M_(t))&&e.then((function(e){n.os.ds((function(){return t.commit().then((function(){n.hs.resolve(e)})).catch((function(t){n.O_(t)}))}))})).catch((function(t){n.O_(t)})),[2]}))}))}))},t.prototype.M_=function(t){try{var e=this.updateFunction(t);return!ct(e)&&e.catch&&e.then?e:(this.hs.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.hs.reject(t),null}},t.prototype.O_=function(t){var e=this;this.x_>0&&this.L_(t)?(this.x_-=1,this.os.ds((function(){return e.k_(),Promise.resolve()}))):this.hs.reject(t)},t.prototype.L_=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!_t(e)}return!1},t}(),Vs=function(){function t(t,e){this.credentials=t,this.os=e,this.clientId=Y.k(),this.B_=new fr}return t.prototype.start=function(t,e,n,i){var o=this;this.q_(),this.Sl=t;var a=new fr,s=!1;return this.credentials.Jc((function(t){if(!s)return s=!0,d("FirestoreClient","Initializing. user=",t.uid),o.U_(e,n,i,t,a).then(o.B_.resolve,o.B_.reject);o.os.Ds((function(){return function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i;return r.__generator(this,(function(r){switch(r.label){case 0:return(n=w(t)).os.Fs(),d("RemoteStore","RemoteStore received new credentials"),i=Ho(n),n.Xu.add(3),[4,Uo(n)];case 1:return r.sent(),i&&n.nh.set("Unknown"),[4,n.Hu.Zl(e)];case 2:return r.sent(),n.Xu.delete(3),[4,Fo(n)];case 3:return r.sent(),[2]}}))}))}(o.Sh,t)}))})),this.os.ds((function(){return o.B_.promise})),a.promise},t.prototype.enableNetwork=function(){var t=this;return this.q_(),this.os.enqueue((function(){return t.persistence.sc(!0),function(t){var e=w(t);return e.Xu.delete(0),Fo(e)}(t.Sh)}))},t.prototype.U_=function(t,e,n,i,o){return r.__awaiter(this,void 0,void 0,(function(){var a,s,u=this;return r.__generator(this,(function(c){switch(c.label){case 0:return c.trys.push([0,3,,4]),a={os:this.os,Sl:this.Sl,clientId:this.clientId,credentials:this.credentials,Kl:i,Nh:100,persistenceSettings:n},[4,t.initialize(a)];case 1:return c.sent(),[4,e.initialize(t,a)];case 2:return c.sent(),this.persistence=t.persistence,this.Ch=t.Ch,this.Gu=t.Gu,this.Ql=t.Ql,this.zu=e.zu,this.Sh=e.Sh,this._i=e._i,this.Q_=e.Dh,this.Q_.qs=va.bind(null,this._i),this.Q_.Ws=ga.bind(null,this._i),this.persistence.nc((function(){return r.__awaiter(u,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}}))}))})),o.resolve(),[3,4];case 3:if(s=c.sent(),o.reject(s),!this.W_(s))throw s;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),this.U_(new rs,new os,{Gl:!1},i,o))];case 4:return[2]}}))}))},t.prototype.W_=function(t){return"FirebaseError"===t.name?t.code===l.FAILED_PRECONDITION||t.code===l.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code},t.prototype.q_=function(){if(this.os.Vs)throw new h(l.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.disableNetwork=function(){var t=this;return this.q_(),this.os.enqueue((function(){return t.persistence.sc(!1),function(t){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:return(e=w(t)).Xu.add(0),[4,Uo(e)];case 1:return n.sent(),e.nh.set("Offline"),[2]}}))}))}(t.Sh)}))},t.prototype.terminate=function(){var t=this;this.os.Ss();var e=new fr;return this.os.ps((function(){return r.__awaiter(t,void 0,void 0,(function(){var t,n;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,4,,5]),this.Ql&&this.Ql.stop(),[4,jo(this.Sh)];case 1:return r.sent(),[4,this.Ch.Si()];case 2:return r.sent(),[4,this.persistence.Si()];case 3:return r.sent(),this.credentials.Xc(),e.resolve(),[3,5];case 4:return t=r.sent(),n=kr(t,"Failed to shutdown persistence"),e.reject(n),[3,5];case 5:return[2]}}))}))})),e.promise},t.prototype.waitForPendingWrites=function(){var t=this;this.q_();var e=new fr;return this.os.ds((function(){return function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,a,s;return r.__generator(this,(function(r){switch(r.label){case 0:Ho((n=w(t)).Sh)||d("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,function(t){var e=w(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.vr.Bo(t)}))}(n.Gu)];case 2:return-1===(i=r.sent())?[2,void e.resolve()]:((o=n.qh.get(i)||[]).push(e),n.qh.set(i,o),[3,4]);case 3:return a=r.sent(),s=kr(a,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}}))}))}(t._i,e)})),e.promise},t.prototype.listen=function(t,e,n){var r=this;this.q_();var i=new as(n),o=new Mr(t,i,e);return this.os.ds((function(){return xr(r.Q_,o)})),function(){i.e_(),r.os.ds((function(){return Pr(r.Q_,o)}))}},t.prototype.j_=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n=this;return r.__generator(this,(function(i){switch(i.label){case 0:return this.q_(),[4,this.B_.promise];case 1:return i.sent(),e=new fr,[2,(this.os.ds((function(){return function(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,a;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t,e){var n=w(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.$c.Dr(t,e)}))}(t,e)];case 1:return(i=r.sent())instanceof Nn?n.resolve(i):i instanceof On?n.resolve(null):n.reject(new h(l.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return o=r.sent(),a=kr(o,"Failed to get document '"+e+" from cache"),n.reject(a),[3,3];case 3:return[2]}}))}))}(n.Gu,t,e)})),e.promise)]}}))}))},t.prototype.K_=function(t,e){return void 0===e&&(e={}),r.__awaiter(this,void 0,void 0,(function(){var n,i=this;return r.__generator(this,(function(r){switch(r.label){case 0:return this.q_(),[4,this.B_.promise];case 1:return r.sent(),n=new fr,[2,(this.os.ds((function(){return function(t,e,n,r,i){var o=new as({next:function(o){e.ds((function(){return Pr(t,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new h(l.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new h(l.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),a=new Mr(Dn(n.path),o,{includeMetadataChanges:!0,Js:!0});return xr(t,a)}(i.Q_,i.os,t,e,n)})),n.promise)]}}))}))},t.prototype.G_=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n=this;return r.__generator(this,(function(i){switch(i.label){case 0:return this.q_(),[4,this.B_.promise];case 1:return i.sent(),e=new fr,[2,(this.os.ds((function(){return function(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,a,s,u,c;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,_o(t,e,!0)];case 1:return i=r.sent(),o=new ha(e,i.kc),a=o.Th(i.documents),s=o.gr(a,!1),n.resolve(s.snapshot),[3,3];case 2:return u=r.sent(),c=kr(u,"Failed to execute query '"+e+" against cache"),n.reject(c),[3,3];case 3:return[2]}}))}))}(n.Gu,t,e)})),e.promise)]}}))}))},t.prototype.z_=function(t,e){return void 0===e&&(e={}),r.__awaiter(this,void 0,void 0,(function(){var n,i=this;return r.__generator(this,(function(r){switch(r.label){case 0:return this.q_(),[4,this.B_.promise];case 1:return r.sent(),n=new fr,[2,(this.os.ds((function(){return function(t,e,n,r,i){var o=new as({next:function(n){e.ds((function(){return Pr(t,a)})),n.fromCache&&"server"===r.source?i.reject(new h(l.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),a=new Mr(n,o,{includeMetadataChanges:!0,Js:!0});return xr(t,a)}(i.Q_,i.os,t,e,n)})),n.promise)]}}))}))},t.prototype.write=function(t){var e=this;this.q_();var n=new fr;return this.os.ds((function(){return function(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,a,s;return r.__generator(this,(function(r){switch(r.label){case 0:i=Ba(t),r.label=1;case 1:return r.trys.push([1,5,,6]),[4,function(t,e){var n,r=w(t),i=st.now(),o=e.reduce((function(t,e){return t.add(e.key)}),Lt());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.$c.$r(t,o).next((function(o){n=o;for(var a=[],s=0,u=e;s<u.length;s++){var c=u[s],l=dn(c,n.get(c.key));null!=l&&a.push(new mn(c.key,l,An(l.proto.mapValue),cn.exists(!0)))}return r.vr.xo(t,i,a,e)}))})).then((function(t){var e=t.hr(n);return{batchId:t.batchId,dr:e}}))}(i.Gu,e)];case 2:return o=r.sent(),i.Ch.Fi(o.batchId),function(t,e,n){var r=t.Bh[t.currentUser.Zs()];r||(r=new It(X)),r=r.rt(e,n),t.Bh[t.currentUser.Zs()]=r}(i,o.batchId,n),[4,Oa(i,o.dr)];case 3:return r.sent(),[4,Zo(i.Sh)];case 4:return r.sent(),[3,6];case 5:return a=r.sent(),s=kr(a,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}}))}))}(e._i,t,n)})),n.promise},t.prototype.U=function(){return this.Sl.U},t.prototype.H_=function(t){var e=this;this.q_();var n=new as(t);return this.os.ds((function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(t){return[2,function(t,e){w(t).Bs.add(e),e.next()}(this.Q_,n)]}))}))})),function(){n.e_(),e.os.ds((function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(t){return[2,function(t,e){w(t).Bs.delete(e)}(this.Q_,n)]}))}))}))}},Object.defineProperty(t.prototype,"Y_",{get:function(){return this.os.Vs},enumerable:!1,configurable:!0}),t.prototype.transaction=function(t){var e=this;this.q_();var n=new fr;return this.os.ds((function(){return new js(e.os,e.zu,t,n).run(),Promise.resolve()})),n.promise},t}();function qs(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Bs=function(){function t(t,e,n,r,i){this.U=t,this.timestampsInSnapshots=e,this.J_=n,this.X_=r,this.Z_=i}return t.prototype.tf=function(t){switch(Zt(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ae(t.integerValue||t.doubleValue);case 3:return this.ef(t.timestampValue);case 4:return this.nf(t);case 5:return t.stringValue;case 6:return this.Z_(se(t.bytesValue));case 7:return this.sf(t.referenceValue);case 8:return this.if(t.geoPointValue);case 9:return this.rf(t.arrayValue);case 10:return this.af(t.mapValue);default:throw m()}},t.prototype.af=function(t){var e=this,n={};return E(t.fields||{},(function(t,r){n[t]=e.tf(r)})),n},t.prototype.if=function(t){return new gs(ae(t.latitude),ae(t.longitude))},t.prototype.rf=function(t){var e=this;return(t.values||[]).map((function(t){return e.tf(t)}))},t.prototype.nf=function(t){switch(this.J_){case"previous":var e=function t(e){var n=e.mapValue.fields.__previous_value__;return Xt(n)?t(n):n}(t);return null==e?null:this.tf(e);case"estimate":return this.ef($t(t));default:return null}},t.prototype.ef=function(t){var e=oe(t),n=new st(e.seconds,e.nanos);return this.timestampsInSnapshots?n:n.toDate()},t.prototype.sf=function(t){var e=S.P(t);b(He(e));var n=new ot(e.get(1),e.get(3)),r=new k(e.u(5));return n.isEqual(this.U)||v("Document "+r+" contains a document reference within a different database ("+n.projectId+"/"+n.database+") which is not supported. It will be treated as a reference in the current database ("+this.U.projectId+"/"+this.U.database+") instead."),this.X_(r)},t}(),zs=oi.uo,Gs=function(){function t(t){var e,n,r,i;if(void 0===t.host){if(void 0!==t.ssl)throw new h(l.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else L("settings","non-empty string","host",t.host),this.host=t.host,M("settings","boolean","ssl",t.ssl),this.ssl=null===(e=t.ssl)||void 0===e||e;if(z("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling","ignoreUndefinedProperties"]),M("settings","object","credentials",t.credentials),this.credentials=t.credentials,M("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),M("settings","boolean","ignoreUndefinedProperties",t.ignoreUndefinedProperties),!0===t.timestampsInSnapshots?v("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===t.timestampsInSnapshots&&v("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(n=t.timestampsInSnapshots)||void 0===n||n,this.ignoreUndefinedProperties=null!==(r=t.ignoreUndefinedProperties)&&void 0!==r&&r,M("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=oi.lo;else{if(t.cacheSizeBytes!==zs&&t.cacheSizeBytes<oi.ho)throw new h(l.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+oi.ho);this.cacheSizeBytes=t.cacheSizeBytes}M("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.experimentalForceLongPolling=null!==(i=t.experimentalForceLongPolling)&&void 0!==i&&i}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Ws=function(){function t(e,n,i,o){var a=this;if(void 0===i&&(i=new rs),void 0===o&&(o=new os),this.cf=i,this.uf=o,this.hf=null,this.lf=new Ar,this.INTERNAL={delete:function(){return r.__awaiter(a,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this._f(),[4,this.ff.terminate()];case 1:return t.sent(),[2]}}))}))}},"object"==typeof e.options){var s=e;this.hf=s,this.d_=t.df(s),this.wf=s.name,this.mf=new ko(n)}else{var u=e;if(!u.projectId)throw new h(l.INVALID_ARGUMENT,"Must provide projectId");this.d_=new ot(u.projectId,u.database),this.wf="[DEFAULT]",this.mf=new Ao}this.Tf=new Gs({})}return Object.defineProperty(t.prototype,"Ef",{get:function(){return this.If||(this.If=new Ss(this.d_,this.Tf.ignoreUndefinedProperties)),this.If},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){O("Firestore.settings",arguments,1),R("Firestore.settings","object",1,t),t.merge&&delete(t=Object.assign(Object.assign({},this.Tf),t)).merge;var e=new Gs(t);if(this.ff&&!this.Tf.isEqual(e))throw new h(l.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.Tf=e,void 0!==e.credentials&&(this.mf=function(t){if(!t)return new Ao;switch(t.type){case"gapi":var e=t.client;return b(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Oo(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new h(l.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.enableNetwork=function(){return this._f(),this.ff.enableNetwork()},t.prototype.disableNetwork=function(){return this._f(),this.ff.disableNetwork()},t.prototype.enablePersistence=function(t){var e,n;if(this.ff)throw new h(l.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var r=!1,i=!1;if(t&&(void 0!==t.experimentalTabSynchronization&&v("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),r=null!==(n=null!==(e=t.synchronizeTabs)&&void 0!==e?e:t.experimentalTabSynchronization)&&void 0!==n&&n,i=!!t.experimentalForceOwningTab&&t.experimentalForceOwningTab,r&&i))throw new h(l.INVALID_ARGUMENT,"The 'experimentalForceOwningTab' setting cannot be used with 'synchronizeTabs'.");return this.Af(this.cf,this.uf,{Gl:!0,cacheSizeBytes:this.Tf.cacheSizeBytes,synchronizeTabs:r,La:i})},t.prototype.clearPersistence=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e=this;return r.__generator(this,(function(n){if(void 0!==this.ff&&!this.ff.Y_)throw new h(l.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");return t=new fr,[2,(this.lf.ps((function(){return r.__awaiter(e,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.cf.clearPersistence(this.d_,this.wf)];case 1:return n.sent(),t.resolve(),[3,3];case 2:return e=n.sent(),t.reject(e),[3,3];case 3:return[2]}}))}))})),t.promise)]}))}))},t.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(t.prototype,"Rf",{get:function(){return this._f(),this.ff.Y_},enumerable:!1,configurable:!0}),t.prototype.waitForPendingWrites=function(){return this._f(),this.ff.waitForPendingWrites()},t.prototype.onSnapshotsInSync=function(t){if(this._f(),qs(t))return this.ff.H_(t);R("Firestore.onSnapshotsInSync","function",1,t);var e={next:t};return this.ff.H_(e)},t.prototype._f=function(){return this.ff||this.Af(new rs,new os,{Gl:!1}),this.ff},t.prototype.Pf=function(){return new it(this.d_,this.wf,this.Tf.host,this.Tf.ssl,this.Tf.experimentalForceLongPolling)},t.prototype.Af=function(t,e,n){var r=this.Pf();return this.ff=new Vs(this.mf,this.lf),this.ff.start(r,t,e,n)},t.df=function(t){if(e=t.options,!Object.prototype.hasOwnProperty.call(e,"projectId"))throw new h(l.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var e,n=t.options.projectId;if(!n||"string"!=typeof n)throw new h(l.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new ot(n)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.hf)throw new h(l.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.hf},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){return O("Firestore.collection",arguments,1),R("Firestore.collection","non-empty string",1,t),this._f(),new au(S.P(t),this,null)},t.prototype.doc=function(t){return O("Firestore.doc",arguments,1),R("Firestore.doc","non-empty string",1,t),this._f(),Qs.gf(S.P(t),this,null)},t.prototype.collectionGroup=function(t){if(O("Firestore.collectionGroup",arguments,1),R("Firestore.collectionGroup","non-empty string",1,t),t.indexOf("/")>=0)throw new h(l.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this._f(),new iu(function(t){return new Pn(S.g(),t)}(t),this,null)},t.prototype.runTransaction=function(t){var e=this;return O("Firestore.runTransaction",arguments,1),R("Firestore.runTransaction","function",1,t),this._f().transaction((function(n){return t(new Hs(e,n))}))},t.prototype.batch=function(){return this._f(),new Ks(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(p()){case o.LogLevel.DEBUG:return"debug";case o.LogLevel.ERROR:return"error";case o.LogLevel.SILENT:return"silent";case o.LogLevel.WARN:return"warn";case o.LogLevel.INFO:return"info";case o.LogLevel.VERBOSE:return"verbose";default:return"error"}},enumerable:!1,configurable:!0}),t.setLogLevel=function(t){var e;O("Firestore.setLogLevel",arguments,1),U("setLogLevel",["debug","error","silent","warn","info","verbose"],1,t),e=t,f.setLogLevel(e)},t.prototype.yf=function(){return this.Tf.timestampsInSnapshots},t.prototype.Vf=function(){return this.Tf},t}(),Hs=function(){function t(t,e){this.pf=t,this.bf=e}return t.prototype.get=function(t){var e=this;O("Transaction.get",arguments,1);var n=lu("Transaction.get",t,this.pf);return this.bf.D_([n.w_]).then((function(t){if(!t||1!==t.length)return m();var r=t[0];if(r instanceof On)return new Xs(e.pf,n.w_,null,!1,!1,n.m_);if(r instanceof Nn)return new Xs(e.pf,n.w_,r,!1,!1,n.m_);throw m()}))},t.prototype.set=function(t,e,n){P("Transaction.set",arguments,2,3);var r=lu("Transaction.set",t,this.pf);n=su("Transaction.set",n);var i=fu(r.m_,e,n),o=Cs(this.pf.Ef,"Transaction.set",r.w_,i,null!==r.m_,n);return this.bf.set(r.w_,o),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return"string"==typeof e||e instanceof us?(x("Transaction.update",arguments,3),r=lu("Transaction.update",t,this.pf),i=ks(this.pf.Ef,"Transaction.update",r.w_,e,n,o)):(O("Transaction.update",arguments,2),r=lu("Transaction.update",t,this.pf),i=As(this.pf.Ef,"Transaction.update",r.w_,e)),this.bf.update(r.w_,i),this},t.prototype.delete=function(t){O("Transaction.delete",arguments,1);var e=lu("Transaction.delete",t,this.pf);return this.bf.delete(e.w_),this},t}(),Ks=function(){function t(t){this.pf=t,this.vf=[],this.Sf=!1}return t.prototype.set=function(t,e,n){P("WriteBatch.set",arguments,2,3),this.Df();var r=lu("WriteBatch.set",t,this.pf);n=su("WriteBatch.set",n);var i=fu(r.m_,e,n),o=Cs(this.pf.Ef,"WriteBatch.set",r.w_,i,null!==r.m_,n);return this.vf=this.vf.concat(o.T_(r.w_,cn.Ge())),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return this.Df(),"string"==typeof e||e instanceof us?(x("WriteBatch.update",arguments,3),r=lu("WriteBatch.update",t,this.pf),i=ks(this.pf.Ef,"WriteBatch.update",r.w_,e,n,o)):(O("WriteBatch.update",arguments,2),r=lu("WriteBatch.update",t,this.pf),i=As(this.pf.Ef,"WriteBatch.update",r.w_,e)),this.vf=this.vf.concat(i.T_(r.w_,cn.exists(!0))),this},t.prototype.delete=function(t){O("WriteBatch.delete",arguments,1),this.Df();var e=lu("WriteBatch.delete",t,this.pf);return this.vf=this.vf.concat(new In(e.w_,cn.Ge())),this},t.prototype.commit=function(){return this.Df(),this.Sf=!0,this.vf.length>0?this.pf._f().write(this.vf):Promise.resolve()},t.prototype.Df=function(){if(this.Sf)throw new h(l.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),Qs=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n.d_,e,r)||this).w_=e,i.firestore=n,i.m_=r,i.ff=i.firestore._f(),i}return r.__extends(e,t),e.gf=function(t,n,r){if(t.length%2!=0)throw new h(l.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.R()+" has "+t.length);return new e(new k(t),n,r)},Object.defineProperty(e.prototype,"id",{get:function(){return this.w_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new au(this.w_.path.h(),this.firestore,this.m_)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.w_.path.R()},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){if(O("DocumentReference.collection",arguments,1),R("DocumentReference.collection","non-empty string",1,t),!t)throw new h(l.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=S.P(t);return new au(this.w_.path.child(e),this.firestore,null)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw G("isEqual","DocumentReference",1,t);return this.firestore===t.firestore&&this.w_.isEqual(t.w_)&&this.m_===t.m_},e.prototype.set=function(t,e){P("DocumentReference.set",arguments,1,2),e=su("DocumentReference.set",e);var n=fu(this.m_,t,e),r=Cs(this.firestore.Ef,"DocumentReference.set",this.w_,n,null!==this.m_,e);return this.ff.write(r.T_(this.w_,cn.Ge()))},e.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof t||t instanceof us?(x("DocumentReference.update",arguments,2),n=ks(this.firestore.Ef,"DocumentReference.update",this.w_,t,e,r)):(O("DocumentReference.update",arguments,1),n=As(this.firestore.Ef,"DocumentReference.update",this.w_,t)),this.ff.write(n.T_(this.w_,cn.exists(!0)))},e.prototype.delete=function(){return O("DocumentReference.delete",arguments,0),this.ff.write([new In(this.w_,cn.Ge())])},e.prototype.onSnapshot=function(){for(var t,e,n,r=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];P("DocumentReference.onSnapshot",arguments,1,4);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||qs(i[s])||(z("DocumentReference.onSnapshot",a=i[s],["includeMetadataChanges"]),M("DocumentReference.onSnapshot","boolean","includeMetadataChanges",a.includeMetadataChanges),s++);var u={includeMetadataChanges:a.includeMetadataChanges};if(qs(i[s])){var c=i[s];i[s]=null===(t=c.next)||void 0===t?void 0:t.bind(c),i[s+1]=null===(e=c.error)||void 0===e?void 0:e.bind(c),i[s+2]=null===(n=c.complete)||void 0===n?void 0:n.bind(c)}else R("DocumentReference.onSnapshot","function",s,i[s]),D("DocumentReference.onSnapshot","function",s+1,i[s+1]),D("DocumentReference.onSnapshot","function",s+2,i[s+2]);var l={next:function(t){i[s]&&i[s](r.Cf(t))},error:i[s+1],complete:i[s+2]};return this.ff.listen(Dn(this.w_.path),u,l)},e.prototype.get=function(t){var e=this;P("DocumentReference.get",arguments,0,1),cu("DocumentReference.get",t);var n=this.firestore._f();return t&&"cache"===t.source?n.j_(this.w_).then((function(t){return new Xs(e.firestore,e.w_,t,!0,t instanceof Nn&&t.Ye,e.m_)})):n.K_(this.w_,t).then((function(t){return e.Cf(t)}))},e.prototype.withConverter=function(t){return new e(this.w_,this.firestore,t)},e.prototype.Cf=function(t){var e=t.docs.get(this.w_);return new Xs(this.firestore,this.w_,e,t.fromCache,t.hasPendingWrites,this.m_)},e}(ws),Ys=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Xs=function(){function t(t,e,n,r,i,o){this.pf=t,this.w_=e,this.Nf=n,this.Ff=r,this.$f=i,this.m_=o}return t.prototype.data=function(t){var e=this;if(P("DocumentSnapshot.data",arguments,0,1),t=uu("DocumentSnapshot.data",t),this.Nf){if(this.m_){var n=new $s(this.pf,this.w_,this.Nf,this.Ff,this.$f,null);return this.m_.fromFirestore(n,t)}return new Bs(this.pf.d_,this.pf.yf(),t.serverTimestamps||"none",(function(t){return new Qs(t,e.pf,null)}),(function(t){return new rt(t)})).tf(this.Nf.sn())}},t.prototype.get=function(t,e){var n=this;if(P("DocumentSnapshot.get",arguments,1,2),e=uu("DocumentSnapshot.get",e),this.Nf){var r=this.Nf.data().field(Ds("DocumentSnapshot.get",t,this.w_));if(null!==r)return new Bs(this.pf.d_,this.pf.yf(),e.serverTimestamps||"none",(function(t){return new Qs(t,n.pf,n.m_)}),(function(t){return new rt(t)})).tf(r)}},Object.defineProperty(t.prototype,"id",{get:function(){return this.w_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Qs(this.w_,this.pf,this.m_)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this.Nf},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new Ys(this.$f,this.Ff)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw G("isEqual","DocumentSnapshot",1,e);return this.pf===e.pf&&this.Ff===e.Ff&&this.w_.isEqual(e.w_)&&(null===this.Nf?null===e.Nf:this.Nf.isEqual(e.Nf))&&this.m_===e.m_},t}(),$s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.data=function(e){return t.prototype.data.call(this,e)},e}(Xs);function Js(t,e,n,r,i,o,a){var s;if(i.p()){if("array-contains"===o||"array-contains-any"===o)throw new h(l.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){eu(a,o);for(var u=[],c=0,f=a;c<f.length;c++){var p=f[c];u.push(tu(r,t,p))}s={arrayValue:{values:u}}}else s=tu(r,t,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||eu(a,o),s=Ns(n,e,a,"in"===o||"not-in"===o);var d=Xn.create(i,o,s);return function(t,e){if(e.un()){var n=Un(t);if(null!==n&&!n.isEqual(e.field))throw new h(l.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Fn(t);null!==r&&nu(t,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw i===e.op?new h(l.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new h(l.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,d),d}function Zs(t,e,n){if(null!==t.startAt)throw new h(l.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new h(l.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new cr(e,n);return function(t,e){if(null===Fn(t)){var n=Un(t);null!==n&&nu(t,n,e.field)}}(t,r),r}function tu(t,e,n){if("string"==typeof n){if(""===n)throw new h(l.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!jn(e)&&-1!==n.indexOf("/"))throw new h(l.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(S.P(n));if(!k.F(r))throw new h(l.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return ue(t,new k(r))}if(n instanceof ws)return ue(t,n.w_);throw new h(l.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+q(n)+".")}function eu(t,e){if(!Array.isArray(t)||0===t.length)throw new h(l.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new h(l.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.");if("in"===e||"array-contains-any"===e){if(t.indexOf(null)>=0)throw new h(l.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'null' in the value array.");if(t.filter((function(t){return Number.isNaN(t)})).length>0)throw new h(l.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'NaN' in the value array.")}}function nu(t,e,n){if(!n.isEqual(e))throw new h(l.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function ru(t){if(Mn(t)&&0===t.rn.length)throw new h(l.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var iu=function(){function t(t,e,n){this.xf=t,this.firestore=e,this.m_=n}return t.prototype.where=function(e,n,r){O("Query.where",arguments,3),B("Query.where",3,r);var i=U("Query.where",["<","<=","==","!=",">=",">","array-contains","in","array-contains-any","not-in"],2,n),o=Ds("Query.where",e),a=Js(this.xf,"Query.where",this.firestore.Ef,this.firestore.d_,o,i,r);return new t(function(t,e){var n=t.filters.concat([e]);return new Pn(t.path,t.collectionGroup,t.rn.slice(),n,t.limit,t.on,t.startAt,t.endAt)}(this.xf,a),this.firestore,this.m_)},t.prototype.orderBy=function(e,n){var r;if(P("Query.orderBy",arguments,1,2),D("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r="asc";else{if("desc"!==n)throw new h(l.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r="desc"}var i=Ds("Query.orderBy",e),o=Zs(this.xf,i,r);return new t(function(t,e){var n=t.rn.concat([e]);return new Pn(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.on,t.startAt,t.endAt)}(this.xf,o),this.firestore,this.m_)},t.prototype.limit=function(e){return O("Query.limit",arguments,1),R("Query.limit","number",1,e),W("Query.limit",1,e),new t(Bn(this.xf,e,"F"),this.firestore,this.m_)},t.prototype.limitToLast=function(e){return O("Query.limitToLast",arguments,1),R("Query.limitToLast","number",1,e),W("Query.limitToLast",1,e),new t(Bn(this.xf,e,"L"),this.firestore,this.m_)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];x("Query.startAt",arguments,1);var i=this.kf("Query.startAt",e,n,!0);return new t(zn(this.xf,i),this.firestore,this.m_)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];x("Query.startAfter",arguments,1);var i=this.kf("Query.startAfter",e,n,!1);return new t(zn(this.xf,i),this.firestore,this.m_)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];x("Query.endBefore",arguments,1);var i=this.kf("Query.endBefore",e,n,!0);return new t(Gn(this.xf,i),this.firestore,this.m_)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];x("Query.endAt",arguments,1);var i=this.kf("Query.endAt",e,n,!1);return new t(Gn(this.xf,i),this.firestore,this.m_)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw G("isEqual","Query",1,e);return this.firestore===e.firestore&&Wn(this.xf,e.xf)&&this.m_===e.m_},t.prototype.withConverter=function(e){return new t(this.xf,this.firestore,e)},t.prototype.kf=function(t,e,n,i){if(B(t,1,e),e instanceof Xs)return O(t,r.__spreadArrays([e],n),1),function(t,e,n,r,i){if(!r)throw new h(l.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=Vn(t);a<s.length;a++){var u=s[a];if(u.field.p())o.push(ue(e,r.key));else{var c=r.field(u.field);if(Xt(c))throw new h(l.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var f=u.field.R();throw new h(l.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+f+"' (used as the orderBy) does not exist.")}o.push(c)}}return new or(o,i)}(this.xf,this.firestore.d_,t,e.Nf,i);var o=[e].concat(n);return function(t,e,n,r,i,o){var a=t.rn;if(i.length>a.length)throw new h(l.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.p()){if("string"!=typeof c)throw new h(l.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!jn(t)&&-1!==c.indexOf("/"))throw new h(l.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var f=t.path.child(S.P(c));if(!k.F(f))throw new h(l.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+f+"' is not because it contains an odd number of segments.");var p=new k(f);s.push(ue(e,p))}else{var d=Ns(n,r,c);s.push(d)}}return new or(s,o)}(this.xf,this.firestore.d_,this.firestore.Ef,t,o,i)},t.prototype.onSnapshot=function(){for(var t,e,n,r=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];P("Query.onSnapshot",arguments,1,4);var a={},s=0;if("object"!=typeof i[s]||qs(i[s])||(z("Query.onSnapshot",a=i[s],["includeMetadataChanges"]),M("Query.onSnapshot","boolean","includeMetadataChanges",a.includeMetadataChanges),s++),qs(i[s])){var u=i[s];i[s]=null===(t=u.next)||void 0===t?void 0:t.bind(u),i[s+1]=null===(e=u.error)||void 0===e?void 0:e.bind(u),i[s+2]=null===(n=u.complete)||void 0===n?void 0:n.bind(u)}else R("Query.onSnapshot","function",s,i[s]),D("Query.onSnapshot","function",s+1,i[s+1]),D("Query.onSnapshot","function",s+2,i[s+2]);var c={next:function(t){i[s]&&i[s](new ou(r.firestore,r.xf,t,r.m_))},error:i[s+1],complete:i[s+2]};return ru(this.xf),this.firestore._f().listen(this.xf,a,c)},t.prototype.get=function(t){var e=this;P("Query.get",arguments,0,1),cu("Query.get",t),ru(this.xf);var n=this.firestore._f();return(t&&"cache"===t.source?n.G_(this.xf):n.z_(this.xf,t)).then((function(t){return new ou(e.firestore,e.xf,t,e.m_)}))},t}(),ou=function(){function t(t,e,n,r){this.pf=t,this.Mf=e,this.Of=n,this.m_=r,this.Lf=null,this.Bf=null,this.metadata=new Ys(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.Of.docs.m()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.Of.docs.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;P("QuerySnapshot.forEach",arguments,1,2),R("QuerySnapshot.forEach","function",1,t),this.Of.docs.forEach((function(r){t.call(e,n.qf(r,n.metadata.fromCache,n.Of.Qt.has(r.key)))}))},Object.defineProperty(t.prototype,"query",{get:function(){return new iu(this.Mf,this.pf,this.m_)},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){t&&(z("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),M("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this.Of.jt)throw new h(l.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.Lf&&this.Bf===e||(this.Lf=function(t,e,n){if(t.Ut.m()){var r=0;return t.docChanges.map((function(e){var i=n(e.doc,t.fromCache,t.Qt.has(e.doc.key));return e.doc,{type:"added",doc:i,oldIndex:-1,newIndex:r++}}))}var i=t.Ut;return t.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var r=n(e.doc,t.fromCache,t.Qt.has(e.doc.key)),o=-1,a=-1;return 0!==e.type&&(o=i.indexOf(e.doc.key),i=i.delete(e.doc.key)),1!==e.type&&(a=(i=i.add(e.doc)).indexOf(e.doc.key)),{type:hu(e.type),doc:r,oldIndex:o,newIndex:a}}))}(this.Of,e,this.qf.bind(this)),this.Bf=e),this.Lf},t.prototype.isEqual=function(e){if(!(e instanceof t))throw G("isEqual","QuerySnapshot",1,e);return this.pf===e.pf&&Wn(this.Mf,e.Mf)&&this.Of.isEqual(e.Of)&&this.m_===e.m_},t.prototype.qf=function(t,e,n){return new $s(this.pf,t.key,t,e,n,this.m_)},t}(),au=function(t){function e(e,n,r){var i=this;if((i=t.call(this,Dn(e),n,r)||this).Uf=e,e.length%2!=1)throw new h(l.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.R()+" has "+e.length);return i}return r.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.xf.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.xf.path.h();return t.m()?null:new Qs(new k(t),this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.xf.path.R()},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){P("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=Y.k()),R("CollectionReference.doc","non-empty string",1,t);var e=S.P(t);return Qs.gf(this.xf.path.child(e),this.firestore,this.m_)},e.prototype.add=function(t){O("CollectionReference.add",arguments,1);var e=this.m_?this.m_.toFirestore(t):t;R("CollectionReference.add","object",1,e);var n=this.doc();return new Qs(n.w_,this.firestore,null).set(e).then((function(){return n}))},e.prototype.withConverter=function(t){return new e(this.Uf,this.firestore,t)},e}(iu);function su(t,e){if(void 0===e)return{merge:!1};if(z(t,e,["merge","mergeFields"]),M(t,"boolean","merge",e.merge),function(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){if(!(r instanceof Array))throw new h(l.INVALID_ARGUMENT,"Function "+t+"() requires its "+e+" option to be an array, but it was: "+q(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new h(l.INVALID_ARGUMENT,"Function "+t+"() requires all "+e+" elements to be a string or a FieldPath, but the value at index "+o+" was: "+q(r[o]))}(t,"mergeFields",0,r,(function(t){return"string"==typeof t||t instanceof us}))}(t,0,0,e.mergeFields),void 0!==e.mergeFields&&void 0!==e.merge)throw new h(l.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function uu(t,e){return void 0===e?{}:(z(t,e,["serverTimestamps"]),F(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function cu(t,e){D(t,"object",1,e),e&&(z(t,e,["source"]),F(t,0,"source",e.source,["default","server","cache"]))}function lu(t,e,n){if(e instanceof ws){if(e.firestore!==n)throw new h(l.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw G(t,"DocumentReference",1,e)}function hu(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return m()}}function fu(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var pu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.serverTimestamp=function(){N("FieldValue.serverTimestamp",arguments);var t=new ps("serverTimestamp");return t.s_="FieldValue.serverTimestamp",new e(t)},e.delete=function(){N("FieldValue.delete",arguments);var t=new hs("deleteField");return t.s_="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];x("FieldValue.arrayUnion",arguments,1);var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return x("arrayUnion()",arguments,1),new ds("arrayUnion",t)}.apply(void 0,t);return r.s_="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];x("FieldValue.arrayRemove",arguments,1);var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return x("arrayRemove()",arguments,1),new vs("arrayRemove",t)}.apply(void 0,t);return r.s_="FieldValue.arrayRemove",new e(r)},e.increment=function(t){R("FieldValue.increment","number",1,t),O("FieldValue.increment",arguments,1);var n=function(t){return new ys("increment",t)}(t);return n.s_="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.f_.isEqual(t.f_)},e}(ms),du={Firestore:Ws,GeoPoint:gs,Timestamp:st,Blob:rt,Transaction:Hs,WriteBatch:Ks,DocumentReference:Qs,DocumentSnapshot:Xs,Query:iu,QueryDocumentSnapshot:$s,QuerySnapshot:ou,CollectionReference:au,FieldPath:us,FieldValue:pu,setLogLevel:Ws.setLogLevel,CACHE_SIZE_UNLIMITED:zs};function vu(t){!function(t,e){t.INTERNAL.registerComponent(new u.Component("firestore",(function(t){return function(t,e){var n=new os,r=new is(n);return new Ws(t,e,r,n)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},du)))}(t),t.registerVersion("@firebase/firestore","1.17.2")}vu(c.default),e.__PRIVATE_registerFirestore=vu}).call(this,n(25))},function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"ErrorCode",(function(){return er})),n.d(e,"EventType",(function(){return nr})),n.d(e,"WebChannel",(function(){return rr})),n.d(e,"XhrIo",(function(){return ir})),n.d(e,"createWebChannelTransport",(function(){return tr}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var o,a="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:{},s=s||{},u=a||self;function c(){}function l(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function h(t){var e=l(t);return"array"==e||"object"==e&&"number"==typeof t.length}function f(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var p="closure_uid_"+(1e9*Math.random()>>>0),d=0;function v(t,e,n){return t.call.apply(t.bind,arguments)}function y(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function g(t,e,n){return(g=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?v:y).apply(null,arguments)}function m(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var b=Date.now;function w(t,e){function n(){}n.prototype=e.prototype,t.S=e.prototype,t.prototype=new n,t.prototype.constructor=t}function _(){this.j=this.j,this.i=this.i}_.prototype.j=!1,_.prototype.ja=function(){if(!this.j&&(this.j=!0,this.G(),0))(function(t){Object.prototype.hasOwnProperty.call(t,p)&&t[p]||(t[p]=++d)})(this)},_.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var E=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"===typeof t)return"string"!==typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},I=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"===typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function T(t){return Array.prototype.concat.apply([],arguments)}function S(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function C(t){return/^[\s\xa0]*$/.test(t)}var A,k=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function N(t,e){return-1!=t.indexOf(e)}function O(t,e){return t<e?-1:t>e?1:0}t:{var x=u.navigator;if(x){var P=x.userAgent;if(P){A=P;break t}}A=""}function R(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function D(t){var e={};for(var n in t)e[n]=t[n];return e}var L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<L.length;o++)n=L[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function F(t){return F[" "](t),t}F[" "]=c;var U,j=N(A,"Opera"),V=N(A,"Trident")||N(A,"MSIE"),q=N(A,"Edge"),B=q||V,z=N(A,"Gecko")&&!(N(A.toLowerCase(),"webkit")&&!N(A,"Edge"))&&!(N(A,"Trident")||N(A,"MSIE"))&&!N(A,"Edge"),G=N(A.toLowerCase(),"webkit")&&!N(A,"Edge");function W(){var t=u.document;return t?t.documentMode:void 0}t:{var H="",K=function(){var t=A;return z?/rv:([^\);]+)(\)|;)/.exec(t):q?/Edge\/([\d\.]+)/.exec(t):V?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):G?/WebKit\/(\S+)/.exec(t):j?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(K&&(H=K?K[1]:""),V){var Q=W();if(null!=Q&&Q>parseFloat(H)){U=String(Q);break t}}U=H}var Y,X={};function $(t){return function(t,e){var n=X;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=k(String(U)).split("."),r=k(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=O(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||O(0==a[2].length,0==s[2].length)||O(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}if(u.document&&V){var J=W();Y=J||(parseInt(U,10)||void 0)}else Y=void 0;var Z=Y,tt=!V||9<=Number(Z),et=V&&!$("9"),nt=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{u.addEventListener("test",c,e),u.removeEventListener("test",c,e)}catch(n){}return t}();function rt(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function it(t,e){if(rt.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(z){t:{try{F(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:ot[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}rt.prototype.b=function(){this.defaultPrevented=!0},w(it,rt);var ot={2:"touch",3:"pen",4:"mouse"};it.prototype.b=function(){it.S.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,et)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var at="closure_listenable_"+(1e6*Math.random()|0),st=0;function ut(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++st,this.Y=this.Z=!1}function ct(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function lt(t){this.src=t,this.a={},this.b=0}function ht(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=E(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ct(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function ft(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}lt.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=ft(t,e,r,i);return-1<a?(e=t[a],n||(e.Z=!1)):((e=new ut(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var pt="closure_lm_"+(1e6*Math.random()|0),dt={};function vt(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);return null}return r=It(r),e&&e[at]?e.wa(n,r,f(i)?!!i.capture:!!i,o):yt(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)vt(t,e[o],n,r,i);return null}return n=It(n),t&&t[at]?t.va(e,n,f(r)?!!r.capture:!!r,i):yt(t,e,n,!1,r,i)}function yt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=f(i)?!!i.capture:!!i;if(a&&!tt)return null;var s=_t(t);if(s||(t[pt]=s=new lt(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){var t=wt,e=tt?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)nt||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(mt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function gt(t){if("number"!==typeof t&&t&&!t.Y){var e=t.src;if(e&&e[at])ht(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(mt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=_t(e))?(ht(n,t),0==n.b&&(n.src=null,e[pt]=null)):ct(t)}}}function mt(t){return t in dt?dt[t]:dt[t]="on"+t}function bt(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&gt(t),n.call(r,e)}function wt(t,e){if(t.Y)return!0;if(!tt){if(!e)t:{e=["window","event"];for(var n=u,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return bt(t,e=new it(e,this))}return bt(t,new it(e,this))}function _t(t){return(t=t[pt])instanceof lt?t:null}var Et="__closure_events_fn_"+(1e9*Math.random()>>>0);function It(t){return"function"==l(t)?t:(t[Et]||(t[Et]=function(e){return t.handleEvent(e)}),t[Et])}function Tt(){_.call(this),this.c=new lt(this),this.J=this,this.C=null}function St(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.Y&&a.capture==n){var s=a.listener,u=a.ca||a.src;a.Z&&ht(t.c,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}w(Tt,_),Tt.prototype[at]=!0,(o=Tt.prototype).addEventListener=function(t,e,n,r){vt(this,t,e,n,r)},o.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);else i=f(i)?!!i.capture:!!i,r=It(r),e&&e[at]?(e=e.c,(n=String(n).toString())in e.a&&(-1<(r=ft(a=e.a[n],r,i,o))&&(ct(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete e.a[n],e.b--)))):e&&(e=_t(e))&&(n=e.a[n.toString()],e=-1,n&&(e=ft(n,r,i,o)),(r=-1<e?n[e]:null)&&gt(r))}(this,t,e,n,r)},o.dispatchEvent=function(t){var e,n=this.C;if(n)for(e=[];n;n=n.C)e.push(n);n=this.J;var r=t.type||t;if("string"===typeof t)t=new rt(t,n);else if(t instanceof rt)t.target=t.target||n;else{var i=t;M(t=new rt(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.a=e[o];i=St(a,r,!0,t)&&i}if(i=St(a=t.a=n,r,!0,t)&&i,i=St(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=St(a=t.a=e[o],r,!1,t)&&i;return i},o.G=function(){if(Tt.S.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ct(n[r]);delete e.a[t],e.b--}}this.C=null},o.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},o.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Ct=u.JSON.stringify;function At(){this.b=this.a=null}var kt,Nt=new(function(){function t(t,e,n){this.f=n,this.c=t,this.g=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},t}())((function(){return new xt}),(function(t){t.reset()}),100);function Ot(){var t=Lt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function xt(){this.next=this.b=this.a=null}function Pt(t){u.setTimeout((function(){throw t}),0)}function Rt(t,e){kt||function(){var t=u.Promise.resolve(void 0);kt=function(){t.then(Mt)}}(),Dt||(kt(),Dt=!0),Lt.add(t,e)}At.prototype.add=function(t,e){var n=Nt.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},xt.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},xt.prototype.reset=function(){this.next=this.b=this.a=null};var Dt=!1,Lt=new At;function Mt(){for(var t;t=Ot();){try{t.a.call(t.b)}catch(n){Pt(n)}var e=Nt;e.g(t),e.b<e.f&&(e.b++,t.next=e.a,e.a=t)}Dt=!1}function Ft(t,e){Tt.call(this),this.b=t||1,this.a=e||u,this.f=g(this.Ya,this),this.g=b()}function Ut(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function jt(t,e,n){if("function"==l(t))n&&(t=g(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=g(t.handleEvent,t)}return 2147483647<Number(e)?-1:u.setTimeout(t,e||0)}function Vt(t){t.a=jt((function(){t.a=null,t.c&&(t.c=!1,Vt(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}w(Ft,Tt),(o=Ft.prototype).aa=!1,o.M=null,o.Ya=function(){if(this.aa){var t=b()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),this.dispatchEvent("tick"),this.aa&&(Ut(this),this.start()))}},o.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=b())},o.G=function(){Ft.S.G.call(this),Ut(this),delete this.a};var qt=function(t){function e(e,n,r){var i=t.call(this)||this;return i.g=null!=r?e.bind(r):e,i.h=n,i.b=null,i.c=!1,i.a=null,i}return function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Vt(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(u.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(_);function Bt(t){_.call(this),this.b=t,this.a={}}w(Bt,_);var zt=[];function Gt(t,e,n,r){Array.isArray(n)||(n&&(zt[0]=n.toString()),n=zt);for(var i=0;i<n.length;i++){var o=vt(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Wt(t){R(t.a,(function(t,e){this.a.hasOwnProperty(e)&&gt(t)}),t),t.a={}}function Ht(){this.a=!0}function Kt(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Ct(n)}catch(s){return e}}(t,n)+(r?" "+r:"")}))}Bt.prototype.G=function(){Bt.S.G.call(this),Wt(this)},Bt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ht.prototype.info=function(){};var Qt=null;function Yt(){return Qt=Qt||new Tt}function Xt(t){rt.call(this,"serverreachability",t)}function $t(t){var e=Yt();e.dispatchEvent(new Xt(e,t))}function Jt(t){rt.call(this,"statevent",t)}function Zt(t){var e=Yt();e.dispatchEvent(new Jt(e,t))}function te(t){rt.call(this,"timingevent",t)}function ee(t,e){if("function"!=l(t))throw Error("Fn must not be null and must be a function");return u.setTimeout((function(){t()}),e)}w(Xt,rt),w(Jt,rt),w(te,rt);var ne={NO_ERROR:0,Za:1,gb:2,fb:3,bb:4,eb:5,hb:6,Da:7,TIMEOUT:8,kb:9},re={ab:"complete",ob:"success",Ea:"error",Da:"abort",mb:"ready",nb:"readystatechange",TIMEOUT:"timeout",ib:"incrementaldata",lb:"progress",cb:"downloadprogress",pb:"uploadprogress"};function ie(){}function oe(t){var e;return(e=t.a)||(e=t.a={}),e}function ae(){}ie.prototype.a=null;var se,ue={OPEN:"a",$a:"b",Ea:"c",jb:"d"};function ce(){rt.call(this,"d")}function le(){rt.call(this,"c")}function he(){}function fe(t,e,n,r){this.g=t,this.c=e,this.f=n,this.T=r||1,this.J=new Bt(this),this.P=pe,t=B?125:void 0,this.R=new Ft(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.U=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.W=this.C=this.V=this.I=!1}w(ce,rt),w(le,rt),w(he,ie),se=new he;var pe=45e3,de={},ve={};function ye(t,e,n){t.H=1,t.i=Ue(Pe(e)),t.j=n,t.I=!0,ge(t,null)}function ge(t,e){t.u=b(),we(t),t.l=Pe(t.i);var n=t.l,r=t.T;Array.isArray(r)||(r=[String(r)]),$e(n.b,"t",r),t.D=0,t.a=Hn(t.g,t.g.C?e:null),0<t.O&&(t.F=new qt(g(t.Ca,t,t.a),t.O)),Gt(t.J,t.a,"readystatechange",t.Wa),e=t.B?D(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),$t(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a}))}(t.c,t.m,t.l,t.f,t.T,t.j)}function me(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=be(t,n);if(i==ve){4==e&&(t.h=4,Zt(14),r=!1),Kt(t.c,t.f,null,"[Incomplete Response]");break}if(i==de){t.h=4,Zt(15),Kt(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Kt(t.c,t.f,i,null),Se(t,i)}4==e&&0==n.length&&(t.h=1,Zt(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.W&&(t.W=!0,(e=t.g).a==t&&e.V&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Un(e),e.F=!0)):(Kt(t.c,t.f,n,"[Invalid Chunked Response]"),Te(t),Ie(t))}function be(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?ve:(n=Number(e.substring(n,r)),isNaN(n)?de:(r+=1)+n>e.length?ve:(e=e.substr(r,n),t.D=r+n,e))}function we(t){t.U=b()+t.P,_e(t,t.P)}function _e(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=ee(g(t.Ua,t),e)}function Ee(t){t.o&&(u.clearTimeout(t.o),t.o=null)}function Ie(t){0==t.g.v||t.A||qn(t.g,t)}function Te(t){Ee(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Ut(t.R),Wt(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Se(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||on(n.b,t)))if(n.I=t.N,!t.C&&on(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(y){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Vn(n),Nn(n)}Fn(n),Zt(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=ee(g(n.Ra,n),6e3));if(1>=rn(n.b)&&n.ea){try{n.ea()}catch(y){}n.ea=void 0}}else zn(n,11)}else if((t.C||n.a==t)&&Vn(n),!C(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(i=e[r],n.P=i[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var a=i[4];null!=a&&(n.pa=a,n.c.info("SVER="+n.pa));var s=i[5];if(null!=s&&"number"===typeof s&&0<s){var u=1.5*s;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(N(l,"spdy")||N(l,"quic")||N(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(an(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,Fe(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.V&&(n.N=b()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var p=t;if((u=n).la=Wn(u,u.C?u.ga:null,u.fa),p.C){sn(u.b,p);var d=p,v=u.D;v&&d.setTimeout(v),d.o&&(Ee(d),we(d)),u.a=p}else Mn(u);0<n.g.length&&Pn(n)}else"stop"!=i[0]&&"close"!=i[0]||zn(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?zn(n,7):kn(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);$t(4)}catch(y){}}function Ce(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(h(t)||"string"===typeof t)I(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(h(t)||"string"===typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"===typeof t)return t.split("");if(h(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Ae(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Ae)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function ke(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Ne(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Ne(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Ne(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(o=fe.prototype).setTimeout=function(t){this.P=t},o.Wa=function(t){t=t.target;var e=this.F;e&&3==Tn(t)?e.f():this.Ca(t)},o.Ca=function(t){try{if(t==this.a)t:{var e=Tn(this.a),n=this.a.ua(),r=this.a.X();if(!(3>e||3==e&&!B&&!this.a.$())){this.A||4!=e||7==n||$t(8==n||0>=r?3:2),Ee(this);var i=this.a.X();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,a){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+a}))}(this.c,this.m,this.l,this.f,this.T,e,i),this.b){if(this.V&&!this.C){e:{if(this.a){var a,s=this.a;if((a=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(a)){var u=a;break e}}u=null}if(!u){this.b=!1,this.h=3,Zt(12),Te(this),Ie(this);break t}Kt(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Se(this,u)}this.I?(me(this,e,o),B&&this.b&&3==e&&(Gt(this.J,this.R,"tick",this.Va),this.R.start())):(Kt(this.c,this.f,o,null),Se(this,o)),4==e&&Te(this),this.b&&!this.A&&(4==e?qn(this.g,this):(this.b=!1,we(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Zt(12)):(this.h=0,Zt(13)),Te(this),Ie(this)}}}catch(c){}},o.Va=function(){if(this.a){var t=Tn(this.a),e=this.a.$();this.D<e.length&&(Ee(this),me(this,t,e),this.b&&4!=t&&we(this))}},o.cancel=function(){this.A=!0,Te(this)},o.Ua=function(){this.o=null;var t=b();0<=t-this.U?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&($t(3),Zt(17)),Te(this),this.h=2,Ie(this)):_e(this,this.U-t)},(o=Ae.prototype).K=function(){ke(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},o.L=function(){return ke(this),this.a.concat()},o.get=function(t,e){return Ne(this.b,t)?this.b[t]:e},o.set=function(t,e){Ne(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},o.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Oe=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function xe(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof xe){this.a=void 0!==e?e:t.a,Re(this,t.f),this.j=t.j,De(this,t.c),Le(this,t.h),this.g=t.g,e=t.b;var n=new Ke;n.c=e.c,e.a&&(n.a=new Ae(e.a),n.b=e.b),Me(this,n),this.i=t.i}else t&&(n=String(t).match(Oe))?(this.a=!!e,Re(this,n[1]||"",!0),this.j=je(n[2]||""),De(this,n[3]||"",!0),Le(this,n[4]),this.g=je(n[5]||"",!0),Me(this,n[6]||"",!0),this.i=je(n[7]||"")):(this.a=!!e,this.b=new Ke(null,this.a))}function Pe(t){return new xe(t)}function Re(t,e,n){t.f=n?je(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function De(t,e,n){t.c=n?je(e,!0):e}function Le(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Me(t,e,n){e instanceof Ke?(t.b=e,function(t,e){e&&!t.f&&(Qe(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Ye(this,e),$e(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=Ve(e,We)),t.b=new Ke(e,t.a))}function Fe(t,e,n){t.b.set(e,n)}function Ue(t){return Fe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^b()).toString(36)),t}function je(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ve(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,qe),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function qe(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}xe.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Ve(e,Be,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Ve(e,Be,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ve(n,"/"==n.charAt(0)?Ge:ze,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Ve(n,He)),t.join("")};var Be=/[#\/\?@]/g,ze=/[#\?:]/g,Ge=/[#\?]/g,We=/[#\?@]/g,He=/#/g;function Ke(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Qe(t){t.a||(t.a=new Ae,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Ye(t,e){Qe(t),e=Je(t,e),Ne(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Ne((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&ke(t)))}function Xe(t,e){return Qe(t),e=Je(t,e),Ne(t.a.b,e)}function $e(t,e,n){Ye(t,e),0<n.length&&(t.c=null,t.a.set(Je(t,e),S(n)),t.b+=n.length)}function Je(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function Ze(t,e){this.b=t,this.a=e}function tn(t){this.g=t||en,u.PerformanceNavigationTiming?t=0<(t=u.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(u.ia&&u.ia.ya&&u.ia.ya()&&u.ia.ya().qb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(o=Ke.prototype).add=function(t,e){Qe(this),this.c=null,t=Je(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},o.forEach=function(t,e){Qe(this),this.a.forEach((function(n,r){I(n,(function(n){t.call(e,n,r,this)}),this)}),this)},o.L=function(){Qe(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},o.K=function(t){Qe(this);var e=[];if("string"===typeof t)Xe(this,t)&&(e=T(e,this.a.get(Je(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=T(e,t[n])}return e},o.set=function(t,e){return Qe(this),this.c=null,Xe(this,t=Je(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},o.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},o.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var en=10;function nn(t){return!!t.b||!!t.a&&t.a.size>=t.f}function rn(t){return t.b?1:t.a?t.a.size:0}function on(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function an(t,e){t.a?t.a.add(e):t.b=e}function sn(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function un(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var o=i(t.a.values()),a=o.next();!a.done;a=o.next()){var s=a.value;r=r.concat(s.s)}}catch(u){e={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r}return S(t.c)}function cn(){}function ln(){this.a=new cn}function hn(t,e,n){var r=n||"";try{Ce(t,(function(t,n){var i=t;f(t)&&(i=Ct(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function fn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}tn.prototype.cancel=function(){var t,e;if(this.c=un(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=i(this.a.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(o){t={error:o}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},cn.prototype.stringify=function(t){return u.JSON.stringify(t,void 0)},cn.prototype.parse=function(t){return u.JSON.parse(t,void 0)};var pn=u.JSON.parse;function dn(t){Tt.call(this),this.headers=new Ae,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=vn,this.D=this.F=!1}w(dn,Tt);var vn="",yn=/^https?$/i,gn=["POST","PUT"];function mn(t){return"content-type"==t.toLowerCase()}function bn(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,wn(t),En(t)}function wn(t){t.u||(t.u=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function _n(t){if(t.b&&"undefined"!=typeof s&&(!t.s[1]||4!=Tn(t)||2!=t.X()))if(t.l&&4==Tn(t))jt(t.za,0,t);else if(t.dispatchEvent("readystatechange"),4==Tn(t)){t.b=!1;try{var e,n=t.X();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(Oe)[1]||null;if(!o&&u.self&&u.self.location){var a=u.self.location.protocol;o=a.substr(0,a.length-1)}i=!yn.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var c=2<Tn(t)?t.a.statusText:""}catch(l){c=""}t.f=c+" ["+t.X()+"]",wn(t)}}finally{En(t)}}}function En(t,e){if(t.a){In(t);var n=t.a,r=t.s[0]?c:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){}}}function In(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(u.clearTimeout(t.m),t.m=null)}function Tn(t){return t.a?t.a.readyState:0}function Sn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return R(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"===typeof t?null!=n&&encodeURIComponent(String(n)):Fe(t,e,n))}function Cn(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function An(t){this.pa=0,this.g=[],this.c=new Ht,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.W=this.i=this.O=this.l=null,this.La=this.R=0,this.Ia=Cn("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.T=!0,this.I=this.oa=this.P=-1,this.U=this.o=this.u=0,this.Fa=Cn("baseRetryDelayMs",5e3,t),this.Ma=Cn("retryDelaySeedMs",1e4,t),this.Ja=Cn("forwardChannelMaxRetries",2,t),this.ma=Cn("forwardChannelRequestTimeoutMs",2e4,t),this.Ka=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new tn(t&&t.concurrentRequestLimit),this.ka=new ln,this.da=t&&t.fastHandshake||!1,this.Ga=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.T=!1),this.V=!this.da&&this.T&&t&&t.c||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null}function kn(t){if(On(t),3==t.v){var e=t.R++,n=Pe(t.B);Fe(n,"SID",t.J),Fe(n,"RID",e),Fe(n,"TYPE","terminate"),Dn(t,n),(e=new fe(t,t.c,e,void 0)).H=2,e.i=Ue(Pe(n)),n=!1,u.navigator&&u.navigator.sendBeacon&&(n=u.navigator.sendBeacon(e.i.toString(),"")),!n&&u.Image&&((new Image).src=e.i,n=!0),n||(e.a=Hn(e.g,null),e.a.ba(e.i)),e.u=b(),we(e)}Gn(t)}function Nn(t){t.a&&(Un(t),t.a.cancel(),t.a=null)}function On(t){Nn(t),t.j&&(u.clearTimeout(t.j),t.j=null),Vn(t),t.b.cancel(),t.h&&("number"===typeof t.h&&u.clearTimeout(t.h),t.h=null)}function xn(t,e){t.g.push(new Ze(t.La++,e)),3==t.v&&Pn(t)}function Pn(t){nn(t.b)||t.h||(t.h=!0,Rt(t.Ba,t),t.u=0)}function Rn(t,e){var n;n=e?e.f:t.R++;var r=Pe(t.B);Fe(r,"SID",t.J),Fe(r,"RID",n),Fe(r,"AID",t.P),Dn(t,r),t.i&&t.l&&Sn(r,t.i,t.l),n=new fe(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Ln(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),an(t.b,n),ye(n,r,e)}function Dn(t,e){t.f&&Ce({},(function(t,n){Fe(e,n,t)}))}function Ln(t,e,n){n=Math.min(t.g.length,n);var r=t.f?g(t.f.Ha,t.f,t):null;t:for(var i=t.g,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),s=!1;else try{hn(l,a,"req"+c+"_")}catch(h){r&&r(l)}}if(s){r=a.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Mn(t){t.a||t.j||(t.U=1,Rt(t.Aa,t),t.o=0)}function Fn(t){return!(t.a||t.j||3<=t.o)&&(t.U++,t.j=ee(g(t.Aa,t),Bn(t,t.o)),t.o++,!0)}function Un(t){null!=t.s&&(u.clearTimeout(t.s),t.s=null)}function jn(t){t.a=new fe(t,t.c,"rpc",t.U),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Pe(t.la);Fe(e,"RID","rpc"),Fe(e,"SID",t.J),Fe(e,"CI",t.H?"0":"1"),Fe(e,"AID",t.P),Dn(t,e),Fe(e,"TYPE","xmlhttp"),t.i&&t.l&&Sn(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Ue(Pe(e)),n.j=null,n.I=!0,ge(n,t)}function Vn(t){null!=t.m&&(u.clearTimeout(t.m),t.m=null)}function qn(t,e){var n=null;if(t.a==e){Vn(t),Un(t),t.a=null;var r=2}else{if(!on(t.b,e))return;n=e.s,sn(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=b()-e.u;var i=t.u;(r=Yt()).dispatchEvent(new te(r,n,e,i)),Pn(t)}else Mn(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(rn(t.b)>=t.b.f-(t.h?1:0))&&(t.h?(t.g=e.s.concat(t.g),!0):!(1==t.v||2==t.v||t.u>=(t.Ia?0:t.Ja))&&(t.h=ee(g(t.Ba,t,e),Bn(t,t.u)),t.u++,!0))}(t,e)||2==r&&Fn(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:zn(t,5);break;case 4:zn(t,10);break;case 3:zn(t,6);break;default:zn(t,2)}}function Bn(t,e){var n=t.Fa+Math.floor(Math.random()*t.Ma);return t.f||(n*=2),n*e}function zn(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=g(t.Xa,t);n||(n=new xe("//www.google.com/images/cleardot.gif"),u.location&&"http"==u.location.protocol||Re(n,"https"),Ue(n)),function(t,e){var n=new Ht;if(u.Image){var r=new Image;r.onload=m(fn,n,r,"TestLoadImage: loaded",!0,e),r.onerror=m(fn,n,r,"TestLoadImage: error",!1,e),r.onabort=m(fn,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=m(fn,n,r,"TestLoadImage: timeout",!1,e),u.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Zt(2);t.v=0,t.f&&t.f.ra(e),Gn(t),On(t)}function Gn(t){t.v=0,t.I=-1,t.f&&(0==un(t.b).length&&0==t.g.length||(t.b.c.length=0,S(t.g),t.g.length=0),t.f.qa())}function Wn(t,e,n){var r=function(t){return t instanceof xe?Pe(t):new xe(t,void 0)}(n);if(""!=r.c)e&&De(r,e+"."+r.c),Le(r,r.h);else{var i=u.location;r=function(t,e,n,r){var i=new xe(null,void 0);return t&&Re(i,t),e&&De(i,e),n&&Le(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.W&&R(t.W,(function(t,e){Fe(r,e,t)})),e=t.A,n=t.na,e&&n&&Fe(r,e,n),Fe(r,"VER",t.ha),Dn(t,r),r}function Hn(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new dn(t.Ka)).F=t.C,e}function Kn(){}function Qn(){if(V&&!(10<=Number(Z)))throw Error("Environmental error: no available transport.")}function Yn(t,e){Tt.call(this),this.a=new An(e),this.l=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!C(t)&&(this.a.i=t),this.h=e&&e.supportsCrossDomainXhr||!1,this.g=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!C(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&(e in(t=this.b)&&delete t[e])),this.f=new Jn(this)}function Xn(t){ce.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function $n(){le.call(this),this.status=1}function Jn(t){this.a=t}(o=dn.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?oe(this.H):oe(se),this.a.onreadystatechange=g(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void bn(this,o)}t=n||"";var i=new Ae(this.headers);r&&Ce(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=mn,n=t.length,r="string"===typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"===typeof t?t.charAt(e):t[e]}(i.L()),n=u.FormData&&t instanceof u.FormData,!(0<=E(gn,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{In(this),0<this.o&&((this.D=function(t){return V&&$(9)&&"number"===typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=g(this.xa,this)):this.m=jt(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){bn(this,o)}},o.xa=function(){"undefined"!=typeof s&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},o.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),En(this))},o.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),En(this,!0)),dn.S.G.call(this)},o.za=function(){this.j||(this.A||this.l||this.g?_n(this):this.Ta())},o.Ta=function(){_n(this)},o.X=function(){try{return 2<Tn(this)?this.a.status:-1}catch(t){return-1}},o.$=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},o.Na=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),pn(e)}},o.ua=function(){return this.h},o.Qa=function(){return"string"===typeof this.f?this.f:String(this.f)},(o=An.prototype).ha=8,o.v=1,o.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new fe(this,this.c,t,void 0),r=this.l;if(this.O&&(r?M(r=D(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"===typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Ln(this,n,e),Fe(i=Pe(this.B),"RID",t),Fe(i,"CVER",22),this.A&&Fe(i,"X-HTTP-Session-Id",this.A),Dn(this,i),this.i&&r&&Sn(i,this.i,r),an(this.b,n),this.Ga&&Fe(i,"TYPE","init"),this.da?(Fe(i,"$req",e),Fe(i,"SID","null"),n.V=!0,ye(n,i,null)):ye(n,i,e),this.v=2}}else 3==this.v&&(t?Rn(this,t):0==this.g.length||nn(this.b)||Rn(this))},o.Aa=function(){if(this.j=null,jn(this),this.V&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=ee(g(this.Sa,this),t)}},o.Sa=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Nn(this),jn(this))},o.Ra=function(){null!=this.m&&(this.m=null,Nn(this),Fn(this),Zt(19))},o.Xa=function(t){t?(this.c.info("Successfully pinged google.com"),Zt(2)):(this.c.info("Failed to ping google.com"),Zt(1))},(o=Kn.prototype).ta=function(){},o.sa=function(){},o.ra=function(){},o.qa=function(){},o.Ha=function(){},Qn.prototype.a=function(t,e){return new Yn(t,e)},w(Yn,Tt),(o=Yn.prototype).addEventListener=function(t,e,n,r){Yn.S.addEventListener.call(this,t,e,n,r)},o.removeEventListener=function(t,e,n,r){Yn.S.removeEventListener.call(this,t,e,n,r)},o.Oa=function(){this.a.f=this.f,this.h&&(this.a.C=!0);var t=this.a,e=this.l,n=this.b||void 0;Zt(0),t.fa=e,t.W=n||{},t.H=t.T,t.B=Wn(t,null,t.fa),Pn(t)},o.close=function(){kn(this.a)},o.Pa=function(t){if("string"===typeof t){var e={};e.__data__=t,xn(this.a,e)}else this.g?((e={}).__data__=Ct(t),xn(this.a,e)):xn(this.a,t)},o.G=function(){this.a.f=null,delete this.f,kn(this.a),delete this.a,Yn.S.G.call(this)},w(Xn,ce),w($n,le),w(Jn,Kn),Jn.prototype.ta=function(){this.a.dispatchEvent("a")},Jn.prototype.sa=function(t){this.a.dispatchEvent(new Xn(t))},Jn.prototype.ra=function(t){this.a.dispatchEvent(new $n(t))},Jn.prototype.qa=function(){this.a.dispatchEvent("b")},Qn.prototype.createWebChannel=Qn.prototype.a,Yn.prototype.send=Yn.prototype.Pa,Yn.prototype.open=Yn.prototype.Oa,Yn.prototype.close=Yn.prototype.close,ne.NO_ERROR=0,ne.TIMEOUT=8,ne.HTTP_ERROR=6,re.COMPLETE="complete",ae.EventType=ue,ue.OPEN="a",ue.CLOSE="b",ue.ERROR="c",ue.MESSAGE="d",Tt.prototype.listen=Tt.prototype.va,dn.prototype.listenOnce=dn.prototype.wa,dn.prototype.getLastError=dn.prototype.Qa,dn.prototype.getLastErrorCode=dn.prototype.ua,dn.prototype.getStatus=dn.prototype.X,dn.prototype.getResponseJson=dn.prototype.Na,dn.prototype.getResponseText=dn.prototype.$,dn.prototype.send=dn.prototype.ba;var Zn={createWebChannelTransport:function(){return new Qn},ErrorCode:ne,EventType:re,WebChannel:ae,XhrIo:dn},tr=Zn.createWebChannelTransport,er=Zn.ErrorCode,nr=Zn.EventType,rr=Zn.WebChannel,ir=Zn.XhrIo;e.default=Zn}.call(this,n(14))}]]);
//# sourceMappingURL=2.fe2a0654.chunk.js.map